var $L=Object.defineProperty;var tw=t=>{throw TypeError(t)};var BL=(t,e,s)=>e in t?$L(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var A=(t,e,s)=>BL(t,typeof e!="symbol"?e+"":e,s),Bp=(t,e,s)=>e.has(t)||tw("Cannot "+s);var D=(t,e,s)=>(Bp(t,e,"read from private field"),s?s.call(t):e.get(t)),Te=(t,e,s)=>e.has(t)?tw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),fe=(t,e,s,n)=>(Bp(t,e,"write to private field"),n?n.call(t,s):e.set(t,s),s),We=(t,e,s)=>(Bp(t,e,"access private method"),s);var lh=(t,e,s,n)=>({set _(r){fe(t,e,r,s)},get _(){return D(t,e,n)}});function HL(t,e){for(var s=0;s<e.length;s++){const n=e[s];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in t)){const a=Object.getOwnPropertyDescriptor(n,r);a&&Object.defineProperty(t,r,a.get?a:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(r){if(r.ep)return;r.ep=!0;const a=s(r);fetch(r.href,a)}})();function y2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var v2={exports:{}},Wm={},b2={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Au=Symbol.for("react.element"),WL=Symbol.for("react.portal"),qL=Symbol.for("react.fragment"),KL=Symbol.for("react.strict_mode"),GL=Symbol.for("react.profiler"),QL=Symbol.for("react.provider"),ZL=Symbol.for("react.context"),YL=Symbol.for("react.forward_ref"),XL=Symbol.for("react.suspense"),JL=Symbol.for("react.memo"),eF=Symbol.for("react.lazy"),sw=Symbol.iterator;function tF(t){return t===null||typeof t!="object"?null:(t=sw&&t[sw]||t["@@iterator"],typeof t=="function"?t:null)}var w2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j2=Object.assign,N2={};function pc(t,e,s){this.props=t,this.context=e,this.refs=N2,this.updater=s||w2}pc.prototype.isReactComponent={};pc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};pc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function S2(){}S2.prototype=pc.prototype;function o0(t,e,s){this.props=t,this.context=e,this.refs=N2,this.updater=s||w2}var l0=o0.prototype=new S2;l0.constructor=o0;j2(l0,pc.prototype);l0.isPureReactComponent=!0;var nw=Array.isArray,_2=Object.prototype.hasOwnProperty,c0={current:null},C2={key:!0,ref:!0,__self:!0,__source:!0};function k2(t,e,s){var n,r={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)_2.call(e,n)&&!C2.hasOwnProperty(n)&&(r[n]=e[n]);var l=arguments.length-2;if(l===1)r.children=s;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];r.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)r[n]===void 0&&(r[n]=l[n]);return{$$typeof:Au,type:t,key:a,ref:o,props:r,_owner:c0.current}}function sF(t,e){return{$$typeof:Au,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function d0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Au}function nF(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(s){return e[s]})}var rw=/\/+/g;function Hp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?nF(""+t.key):e.toString(36)}function Yh(t,e,s,n,r){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Au:case WL:o=!0}}if(o)return o=t,r=r(o),t=n===""?"."+Hp(o,0):n,nw(r)?(s="",t!=null&&(s=t.replace(rw,"$&/")+"/"),Yh(r,e,s,"",function(d){return d})):r!=null&&(d0(r)&&(r=sF(r,s+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(rw,"$&/")+"/")+t)),e.push(r)),1;if(o=0,n=n===""?".":n+":",nw(t))for(var l=0;l<t.length;l++){a=t[l];var c=n+Hp(a,l);o+=Yh(a,e,s,c,r)}else if(c=tF(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=n+Hp(a,l++),o+=Yh(a,e,s,c,r);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ch(t,e,s){if(t==null)return t;var n=[],r=0;return Yh(t,n,"","",function(a){return e.call(s,a,r++)}),n}function rF(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(s){(t._status===0||t._status===-1)&&(t._status=1,t._result=s)},function(s){(t._status===0||t._status===-1)&&(t._status=2,t._result=s)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ls={current:null},Xh={transition:null},iF={ReactCurrentDispatcher:Ls,ReactCurrentBatchConfig:Xh,ReactCurrentOwner:c0};function I2(){throw Error("act(...) is not supported in production builds of React.")}Qe.Children={map:ch,forEach:function(t,e,s){ch(t,function(){e.apply(this,arguments)},s)},count:function(t){var e=0;return ch(t,function(){e++}),e},toArray:function(t){return ch(t,function(e){return e})||[]},only:function(t){if(!d0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Qe.Component=pc;Qe.Fragment=qL;Qe.Profiler=GL;Qe.PureComponent=o0;Qe.StrictMode=KL;Qe.Suspense=XL;Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iF;Qe.act=I2;Qe.cloneElement=function(t,e,s){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=j2({},t.props),r=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=c0.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)_2.call(e,c)&&!C2.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=s;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Au,type:t.type,key:r,ref:a,props:n,_owner:o}};Qe.createContext=function(t){return t={$$typeof:ZL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:QL,_context:t},t.Consumer=t};Qe.createElement=k2;Qe.createFactory=function(t){var e=k2.bind(null,t);return e.type=t,e};Qe.createRef=function(){return{current:null}};Qe.forwardRef=function(t){return{$$typeof:YL,render:t}};Qe.isValidElement=d0;Qe.lazy=function(t){return{$$typeof:eF,_payload:{_status:-1,_result:t},_init:rF}};Qe.memo=function(t,e){return{$$typeof:JL,type:t,compare:e===void 0?null:e}};Qe.startTransition=function(t){var e=Xh.transition;Xh.transition={};try{t()}finally{Xh.transition=e}};Qe.unstable_act=I2;Qe.useCallback=function(t,e){return Ls.current.useCallback(t,e)};Qe.useContext=function(t){return Ls.current.useContext(t)};Qe.useDebugValue=function(){};Qe.useDeferredValue=function(t){return Ls.current.useDeferredValue(t)};Qe.useEffect=function(t,e){return Ls.current.useEffect(t,e)};Qe.useId=function(){return Ls.current.useId()};Qe.useImperativeHandle=function(t,e,s){return Ls.current.useImperativeHandle(t,e,s)};Qe.useInsertionEffect=function(t,e){return Ls.current.useInsertionEffect(t,e)};Qe.useLayoutEffect=function(t,e){return Ls.current.useLayoutEffect(t,e)};Qe.useMemo=function(t,e){return Ls.current.useMemo(t,e)};Qe.useReducer=function(t,e,s){return Ls.current.useReducer(t,e,s)};Qe.useRef=function(t){return Ls.current.useRef(t)};Qe.useState=function(t){return Ls.current.useState(t)};Qe.useSyncExternalStore=function(t,e,s){return Ls.current.useSyncExternalStore(t,e,s)};Qe.useTransition=function(){return Ls.current.useTransition()};Qe.version="18.3.1";b2.exports=Qe;var x=b2.exports;const Oe=y2(x),E2=HL({__proto__:null,default:Oe},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aF=x,oF=Symbol.for("react.element"),lF=Symbol.for("react.fragment"),cF=Object.prototype.hasOwnProperty,dF=aF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uF={key:!0,ref:!0,__self:!0,__source:!0};function P2(t,e,s){var n,r={},a=null,o=null;s!==void 0&&(a=""+s),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)cF.call(e,n)&&!uF.hasOwnProperty(n)&&(r[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)r[n]===void 0&&(r[n]=e[n]);return{$$typeof:oF,type:t,key:a,ref:o,props:r,_owner:dF.current}}Wm.Fragment=lF;Wm.jsx=P2;Wm.jsxs=P2;v2.exports=Wm;var i=v2.exports,T2={exports:{}},un={},A2={exports:{}},M2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,W){var Q=F.length;F.push(W);e:for(;0<Q;){var ae=Q-1>>>1,he=F[ae];if(0<r(he,W))F[ae]=W,F[Q]=he,Q=ae;else break e}}function s(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var W=F[0],Q=F.pop();if(Q!==W){F[0]=Q;e:for(var ae=0,he=F.length,Be=he>>>1;ae<Be;){var Ae=2*(ae+1)-1,Ye=F[Ae],Ue=Ae+1,ce=F[Ue];if(0>r(Ye,Q))Ue<he&&0>r(ce,Ye)?(F[ae]=ce,F[Ue]=Q,ae=Ue):(F[ae]=Ye,F[Ae]=Q,ae=Ae);else if(Ue<he&&0>r(ce,Q))F[ae]=ce,F[Ue]=Q,ae=Ue;else break e}}return W}function r(F,W){var Q=F.sortIndex-W.sortIndex;return Q!==0?Q:F.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,p=!1,b=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var W=s(d);W!==null;){if(W.callback===null)n(d);else if(W.startTime<=F)n(d),W.sortIndex=W.expirationTime,e(c,W);else break;W=s(d)}}function j(F){if(m=!1,w(F),!b)if(s(c)!==null)b=!0,z(N);else{var W=s(d);W!==null&&q(j,W.startTime-F)}}function N(F,W){b=!1,m&&(m=!1,v(k),k=-1),p=!0;var Q=f;try{for(w(W),h=s(c);h!==null&&(!(h.expirationTime>W)||F&&!O());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,f=h.priorityLevel;var he=ae(h.expirationTime<=W);W=t.unstable_now(),typeof he=="function"?h.callback=he:h===s(c)&&n(c),w(W)}else n(c);h=s(c)}if(h!==null)var Be=!0;else{var Ae=s(d);Ae!==null&&q(j,Ae.startTime-W),Be=!1}return Be}finally{h=null,f=Q,p=!1}}var C=!1,_=null,k=-1,M=5,L=-1;function O(){return!(t.unstable_now()-L<M)}function I(){if(_!==null){var F=t.unstable_now();L=F;var W=!0;try{W=_(!0,F)}finally{W?B():(C=!1,_=null)}}else C=!1}var B;if(typeof y=="function")B=function(){y(I)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,J=H.port2;H.port1.onmessage=I,B=function(){J.postMessage(null)}}else B=function(){g(I,0)};function z(F){_=F,C||(C=!0,B())}function q(F,W){k=g(function(){F(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){b||p||(b=!0,z(N))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return s(c)},t.unstable_next=function(F){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var Q=f;f=W;try{return F()}finally{f=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,W){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Q=f;f=F;try{return W()}finally{f=Q}},t.unstable_scheduleCallback=function(F,W,Q){var ae=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ae+Q:ae):Q=ae,F){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=Q+he,F={id:u++,callback:W,priorityLevel:F,startTime:Q,expirationTime:he,sortIndex:-1},Q>ae?(F.sortIndex=Q,e(d,F),s(c)===null&&F===s(d)&&(m?(v(k),k=-1):m=!0,q(j,Q-ae))):(F.sortIndex=he,e(c,F),b||p||(b=!0,z(N))),F},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(F){var W=f;return function(){var Q=f;f=W;try{return F.apply(this,arguments)}finally{f=Q}}}})(M2);A2.exports=M2;var hF=A2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fF=x,dn=hF;function se(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)e+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var R2=new Set,Rd={};function Oo(t,e){Wl(t,e),Wl(t+"Capture",e)}function Wl(t,e){for(Rd[t]=e,t=0;t<e.length;t++)R2.add(e[t])}var pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rx=Object.prototype.hasOwnProperty,mF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iw={},aw={};function pF(t){return rx.call(aw,t)?!0:rx.call(iw,t)?!1:mF.test(t)?aw[t]=!0:(iw[t]=!0,!1)}function gF(t,e,s,n){if(s!==null&&s.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function xF(t,e,s,n){if(e===null||typeof e>"u"||gF(t,e,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Fs(t,e,s,n,r,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=s,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var us={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){us[t]=new Fs(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];us[e]=new Fs(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){us[t]=new Fs(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){us[t]=new Fs(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){us[t]=new Fs(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){us[t]=new Fs(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){us[t]=new Fs(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){us[t]=new Fs(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){us[t]=new Fs(t,5,!1,t.toLowerCase(),null,!1,!1)});var u0=/[\-:]([a-z])/g;function h0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(u0,h0);us[e]=new Fs(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(u0,h0);us[e]=new Fs(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(u0,h0);us[e]=new Fs(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){us[t]=new Fs(t,1,!1,t.toLowerCase(),null,!1,!1)});us.xlinkHref=new Fs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){us[t]=new Fs(t,1,!1,t.toLowerCase(),null,!0,!0)});function f0(t,e,s,n){var r=us.hasOwnProperty(e)?us[e]:null;(r!==null?r.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(xF(e,s,r,n)&&(s=null),n||r===null?pF(e)&&(s===null?t.removeAttribute(e):t.setAttribute(e,""+s)):r.mustUseProperty?t[r.propertyName]=s===null?r.type===3?!1:"":s:(e=r.attributeName,n=r.attributeNamespace,s===null?t.removeAttribute(e):(r=r.type,s=r===3||r===4&&s===!0?"":""+s,n?t.setAttributeNS(n,e,s):t.setAttribute(e,s))))}var Si=fF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dh=Symbol.for("react.element"),Zo=Symbol.for("react.portal"),Yo=Symbol.for("react.fragment"),m0=Symbol.for("react.strict_mode"),ix=Symbol.for("react.profiler"),D2=Symbol.for("react.provider"),O2=Symbol.for("react.context"),p0=Symbol.for("react.forward_ref"),ax=Symbol.for("react.suspense"),ox=Symbol.for("react.suspense_list"),g0=Symbol.for("react.memo"),Ri=Symbol.for("react.lazy"),L2=Symbol.for("react.offscreen"),ow=Symbol.iterator;function Mc(t){return t===null||typeof t!="object"?null:(t=ow&&t[ow]||t["@@iterator"],typeof t=="function"?t:null)}var Et=Object.assign,Wp;function Xc(t){if(Wp===void 0)try{throw Error()}catch(s){var e=s.stack.trim().match(/\n( *(at )?)/);Wp=e&&e[1]||""}return`
`+Wp+t}var qp=!1;function Kp(t,e){if(!t||qp)return"";qp=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){n=d}t.call(e.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),a=n.stack.split(`
`),o=r.length-1,l=a.length-1;1<=o&&0<=l&&r[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(r[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||r[o]!==a[l]){var c=`
`+r[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{qp=!1,Error.prepareStackTrace=s}return(t=t?t.displayName||t.name:"")?Xc(t):""}function yF(t){switch(t.tag){case 5:return Xc(t.type);case 16:return Xc("Lazy");case 13:return Xc("Suspense");case 19:return Xc("SuspenseList");case 0:case 2:case 15:return t=Kp(t.type,!1),t;case 11:return t=Kp(t.type.render,!1),t;case 1:return t=Kp(t.type,!0),t;default:return""}}function lx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Yo:return"Fragment";case Zo:return"Portal";case ix:return"Profiler";case m0:return"StrictMode";case ax:return"Suspense";case ox:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case O2:return(t.displayName||"Context")+".Consumer";case D2:return(t._context.displayName||"Context")+".Provider";case p0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case g0:return e=t.displayName||null,e!==null?e:lx(t.type)||"Memo";case Ri:e=t._payload,t=t._init;try{return lx(t(e))}catch{}}return null}function vF(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lx(e);case 8:return e===m0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function pa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function F2(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function bF(t){var e=F2(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var r=s.get,a=s.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function uh(t){t._valueTracker||(t._valueTracker=bF(t))}function U2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var s=e.getValue(),n="";return t&&(n=F2(t)?t.checked?"true":"false":t.value),t=n,t!==s?(e.setValue(t),!0):!1}function If(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function cx(t,e){var s=e.checked;return Et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??t._wrapperState.initialChecked})}function lw(t,e){var s=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;s=pa(e.value!=null?e.value:s),t._wrapperState={initialChecked:n,initialValue:s,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function z2(t,e){e=e.checked,e!=null&&f0(t,"checked",e,!1)}function dx(t,e){z2(t,e);var s=pa(e.value),n=e.type;if(s!=null)n==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+s):t.value!==""+s&&(t.value=""+s);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ux(t,e.type,s):e.hasOwnProperty("defaultValue")&&ux(t,e.type,pa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function cw(t,e,s){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,s||e===t.value||(t.value=e),t.defaultValue=e}s=t.name,s!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,s!==""&&(t.name=s)}function ux(t,e,s){(e!=="number"||If(t.ownerDocument)!==t)&&(s==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+s&&(t.defaultValue=""+s))}var Jc=Array.isArray;function dl(t,e,s,n){if(t=t.options,e){e={};for(var r=0;r<s.length;r++)e["$"+s[r]]=!0;for(s=0;s<t.length;s++)r=e.hasOwnProperty("$"+t[s].value),t[s].selected!==r&&(t[s].selected=r),r&&n&&(t[s].defaultSelected=!0)}else{for(s=""+pa(s),e=null,r=0;r<t.length;r++){if(t[r].value===s){t[r].selected=!0,n&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function hx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(se(91));return Et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function dw(t,e){var s=e.value;if(s==null){if(s=e.children,e=e.defaultValue,s!=null){if(e!=null)throw Error(se(92));if(Jc(s)){if(1<s.length)throw Error(se(93));s=s[0]}e=s}e==null&&(e=""),s=e}t._wrapperState={initialValue:pa(s)}}function V2(t,e){var s=pa(e.value),n=pa(e.defaultValue);s!=null&&(s=""+s,s!==t.value&&(t.value=s),e.defaultValue==null&&t.defaultValue!==s&&(t.defaultValue=s)),n!=null&&(t.defaultValue=""+n)}function uw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$2(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var hh,B2=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,s,n,r){MSApp.execUnsafeLocalFunction(function(){return t(e,s,n,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(hh=hh||document.createElement("div"),hh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=hh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Dd(t,e){if(e){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=e;return}}t.textContent=e}var hd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wF=["Webkit","ms","Moz","O"];Object.keys(hd).forEach(function(t){wF.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),hd[e]=hd[t]})});function H2(t,e,s){return e==null||typeof e=="boolean"||e===""?"":s||typeof e!="number"||e===0||hd.hasOwnProperty(t)&&hd[t]?(""+e).trim():e+"px"}function W2(t,e){t=t.style;for(var s in e)if(e.hasOwnProperty(s)){var n=s.indexOf("--")===0,r=H2(s,e[s],n);s==="float"&&(s="cssFloat"),n?t.setProperty(s,r):t[s]=r}}var jF=Et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mx(t,e){if(e){if(jF[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(se(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(se(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(se(61))}if(e.style!=null&&typeof e.style!="object")throw Error(se(62))}}function px(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gx=null;function x0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xx=null,ul=null,hl=null;function hw(t){if(t=Du(t)){if(typeof xx!="function")throw Error(se(280));var e=t.stateNode;e&&(e=Zm(e),xx(t.stateNode,t.type,e))}}function q2(t){ul?hl?hl.push(t):hl=[t]:ul=t}function K2(){if(ul){var t=ul,e=hl;if(hl=ul=null,hw(t),e)for(t=0;t<e.length;t++)hw(e[t])}}function G2(t,e){return t(e)}function Q2(){}var Gp=!1;function Z2(t,e,s){if(Gp)return t(e,s);Gp=!0;try{return G2(t,e,s)}finally{Gp=!1,(ul!==null||hl!==null)&&(Q2(),K2())}}function Od(t,e){var s=t.stateNode;if(s===null)return null;var n=Zm(s);if(n===null)return null;s=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(se(231,e,typeof s));return s}var yx=!1;if(pi)try{var Rc={};Object.defineProperty(Rc,"passive",{get:function(){yx=!0}}),window.addEventListener("test",Rc,Rc),window.removeEventListener("test",Rc,Rc)}catch{yx=!1}function NF(t,e,s,n,r,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(s,d)}catch(u){this.onError(u)}}var fd=!1,Ef=null,Pf=!1,vx=null,SF={onError:function(t){fd=!0,Ef=t}};function _F(t,e,s,n,r,a,o,l,c){fd=!1,Ef=null,NF.apply(SF,arguments)}function CF(t,e,s,n,r,a,o,l,c){if(_F.apply(this,arguments),fd){if(fd){var d=Ef;fd=!1,Ef=null}else throw Error(se(198));Pf||(Pf=!0,vx=d)}}function Lo(t){var e=t,s=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(s=e.return),t=e.return;while(t)}return e.tag===3?s:null}function Y2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function fw(t){if(Lo(t)!==t)throw Error(se(188))}function kF(t){var e=t.alternate;if(!e){if(e=Lo(t),e===null)throw Error(se(188));return e!==t?null:t}for(var s=t,n=e;;){var r=s.return;if(r===null)break;var a=r.alternate;if(a===null){if(n=r.return,n!==null){s=n;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===s)return fw(r),t;if(a===n)return fw(r),e;a=a.sibling}throw Error(se(188))}if(s.return!==n.return)s=r,n=a;else{for(var o=!1,l=r.child;l;){if(l===s){o=!0,s=r,n=a;break}if(l===n){o=!0,n=r,s=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===s){o=!0,s=a,n=r;break}if(l===n){o=!0,n=a,s=r;break}l=l.sibling}if(!o)throw Error(se(189))}}if(s.alternate!==n)throw Error(se(190))}if(s.tag!==3)throw Error(se(188));return s.stateNode.current===s?t:e}function X2(t){return t=kF(t),t!==null?J2(t):null}function J2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=J2(t);if(e!==null)return e;t=t.sibling}return null}var eI=dn.unstable_scheduleCallback,mw=dn.unstable_cancelCallback,IF=dn.unstable_shouldYield,EF=dn.unstable_requestPaint,Ft=dn.unstable_now,PF=dn.unstable_getCurrentPriorityLevel,y0=dn.unstable_ImmediatePriority,tI=dn.unstable_UserBlockingPriority,Tf=dn.unstable_NormalPriority,TF=dn.unstable_LowPriority,sI=dn.unstable_IdlePriority,qm=null,Cr=null;function AF(t){if(Cr&&typeof Cr.onCommitFiberRoot=="function")try{Cr.onCommitFiberRoot(qm,t,void 0,(t.current.flags&128)===128)}catch{}}var Zn=Math.clz32?Math.clz32:DF,MF=Math.log,RF=Math.LN2;function DF(t){return t>>>=0,t===0?32:31-(MF(t)/RF|0)|0}var fh=64,mh=4194304;function ed(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Af(t,e){var s=t.pendingLanes;if(s===0)return 0;var n=0,r=t.suspendedLanes,a=t.pingedLanes,o=s&268435455;if(o!==0){var l=o&~r;l!==0?n=ed(l):(a&=o,a!==0&&(n=ed(a)))}else o=s&~r,o!==0?n=ed(o):a!==0&&(n=ed(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&r)&&(r=n&-n,a=e&-e,r>=a||r===16&&(a&4194240)!==0))return e;if(n&4&&(n|=s&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)s=31-Zn(e),r=1<<s,n|=t[s],e&=~r;return n}function OF(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function LF(t,e){for(var s=t.suspendedLanes,n=t.pingedLanes,r=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Zn(a),l=1<<o,c=r[o];c===-1?(!(l&s)||l&n)&&(r[o]=OF(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function bx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function nI(){var t=fh;return fh<<=1,!(fh&4194240)&&(fh=64),t}function Qp(t){for(var e=[],s=0;31>s;s++)e.push(t);return e}function Mu(t,e,s){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zn(e),t[e]=s}function FF(t,e){var s=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<s;){var r=31-Zn(s),a=1<<r;e[r]=0,n[r]=-1,t[r]=-1,s&=~a}}function v0(t,e){var s=t.entangledLanes|=e;for(t=t.entanglements;s;){var n=31-Zn(s),r=1<<n;r&e|t[n]&e&&(t[n]|=e),s&=~r}}var lt=0;function rI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var iI,b0,aI,oI,lI,wx=!1,ph=[],ta=null,sa=null,na=null,Ld=new Map,Fd=new Map,Oi=[],UF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pw(t,e){switch(t){case"focusin":case"focusout":ta=null;break;case"dragenter":case"dragleave":sa=null;break;case"mouseover":case"mouseout":na=null;break;case"pointerover":case"pointerout":Ld.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fd.delete(e.pointerId)}}function Dc(t,e,s,n,r,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:s,eventSystemFlags:n,nativeEvent:a,targetContainers:[r]},e!==null&&(e=Du(e),e!==null&&b0(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function zF(t,e,s,n,r){switch(e){case"focusin":return ta=Dc(ta,t,e,s,n,r),!0;case"dragenter":return sa=Dc(sa,t,e,s,n,r),!0;case"mouseover":return na=Dc(na,t,e,s,n,r),!0;case"pointerover":var a=r.pointerId;return Ld.set(a,Dc(Ld.get(a)||null,t,e,s,n,r)),!0;case"gotpointercapture":return a=r.pointerId,Fd.set(a,Dc(Fd.get(a)||null,t,e,s,n,r)),!0}return!1}function cI(t){var e=Ba(t.target);if(e!==null){var s=Lo(e);if(s!==null){if(e=s.tag,e===13){if(e=Y2(s),e!==null){t.blockedOn=e,lI(t.priority,function(){aI(s)});return}}else if(e===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var s=jx(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(s===null){s=t.nativeEvent;var n=new s.constructor(s.type,s);gx=n,s.target.dispatchEvent(n),gx=null}else return e=Du(s),e!==null&&b0(e),t.blockedOn=s,!1;e.shift()}return!0}function gw(t,e,s){Jh(t)&&s.delete(e)}function VF(){wx=!1,ta!==null&&Jh(ta)&&(ta=null),sa!==null&&Jh(sa)&&(sa=null),na!==null&&Jh(na)&&(na=null),Ld.forEach(gw),Fd.forEach(gw)}function Oc(t,e){t.blockedOn===e&&(t.blockedOn=null,wx||(wx=!0,dn.unstable_scheduleCallback(dn.unstable_NormalPriority,VF)))}function Ud(t){function e(r){return Oc(r,t)}if(0<ph.length){Oc(ph[0],t);for(var s=1;s<ph.length;s++){var n=ph[s];n.blockedOn===t&&(n.blockedOn=null)}}for(ta!==null&&Oc(ta,t),sa!==null&&Oc(sa,t),na!==null&&Oc(na,t),Ld.forEach(e),Fd.forEach(e),s=0;s<Oi.length;s++)n=Oi[s],n.blockedOn===t&&(n.blockedOn=null);for(;0<Oi.length&&(s=Oi[0],s.blockedOn===null);)cI(s),s.blockedOn===null&&Oi.shift()}var fl=Si.ReactCurrentBatchConfig,Mf=!0;function $F(t,e,s,n){var r=lt,a=fl.transition;fl.transition=null;try{lt=1,w0(t,e,s,n)}finally{lt=r,fl.transition=a}}function BF(t,e,s,n){var r=lt,a=fl.transition;fl.transition=null;try{lt=4,w0(t,e,s,n)}finally{lt=r,fl.transition=a}}function w0(t,e,s,n){if(Mf){var r=jx(t,e,s,n);if(r===null)ig(t,e,n,Rf,s),pw(t,n);else if(zF(r,t,e,s,n))n.stopPropagation();else if(pw(t,n),e&4&&-1<UF.indexOf(t)){for(;r!==null;){var a=Du(r);if(a!==null&&iI(a),a=jx(t,e,s,n),a===null&&ig(t,e,n,Rf,s),a===r)break;r=a}r!==null&&n.stopPropagation()}else ig(t,e,n,null,s)}}var Rf=null;function jx(t,e,s,n){if(Rf=null,t=x0(n),t=Ba(t),t!==null)if(e=Lo(t),e===null)t=null;else if(s=e.tag,s===13){if(t=Y2(e),t!==null)return t;t=null}else if(s===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Rf=t,null}function dI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(PF()){case y0:return 1;case tI:return 4;case Tf:case TF:return 16;case sI:return 536870912;default:return 16}default:return 16}}var Yi=null,j0=null,ef=null;function uI(){if(ef)return ef;var t,e=j0,s=e.length,n,r="value"in Yi?Yi.value:Yi.textContent,a=r.length;for(t=0;t<s&&e[t]===r[t];t++);var o=s-t;for(n=1;n<=o&&e[s-n]===r[a-n];n++);return ef=r.slice(t,1<n?1-n:void 0)}function tf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function gh(){return!0}function xw(){return!1}function hn(t){function e(s,n,r,a,o){this._reactName=s,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(s=t[l],this[l]=s?s(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?gh:xw,this.isPropagationStopped=xw,this}return Et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=gh)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=gh)},persist:function(){},isPersistent:gh}),e}var gc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},N0=hn(gc),Ru=Et({},gc,{view:0,detail:0}),HF=hn(Ru),Zp,Yp,Lc,Km=Et({},Ru,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:S0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lc&&(Lc&&t.type==="mousemove"?(Zp=t.screenX-Lc.screenX,Yp=t.screenY-Lc.screenY):Yp=Zp=0,Lc=t),Zp)},movementY:function(t){return"movementY"in t?t.movementY:Yp}}),yw=hn(Km),WF=Et({},Km,{dataTransfer:0}),qF=hn(WF),KF=Et({},Ru,{relatedTarget:0}),Xp=hn(KF),GF=Et({},gc,{animationName:0,elapsedTime:0,pseudoElement:0}),QF=hn(GF),ZF=Et({},gc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),YF=hn(ZF),XF=Et({},gc,{data:0}),vw=hn(XF),JF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},e5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},t5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function s5(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=t5[t])?!!e[t]:!1}function S0(){return s5}var n5=Et({},Ru,{key:function(t){if(t.key){var e=JF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=tf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?e5[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:S0,charCode:function(t){return t.type==="keypress"?tf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?tf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),r5=hn(n5),i5=Et({},Km,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bw=hn(i5),a5=Et({},Ru,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:S0}),o5=hn(a5),l5=Et({},gc,{propertyName:0,elapsedTime:0,pseudoElement:0}),c5=hn(l5),d5=Et({},Km,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),u5=hn(d5),h5=[9,13,27,32],_0=pi&&"CompositionEvent"in window,md=null;pi&&"documentMode"in document&&(md=document.documentMode);var f5=pi&&"TextEvent"in window&&!md,hI=pi&&(!_0||md&&8<md&&11>=md),ww=" ",jw=!1;function fI(t,e){switch(t){case"keyup":return h5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xo=!1;function m5(t,e){switch(t){case"compositionend":return mI(e);case"keypress":return e.which!==32?null:(jw=!0,ww);case"textInput":return t=e.data,t===ww&&jw?null:t;default:return null}}function p5(t,e){if(Xo)return t==="compositionend"||!_0&&fI(t,e)?(t=uI(),ef=j0=Yi=null,Xo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return hI&&e.locale!=="ko"?null:e.data;default:return null}}var g5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!g5[t.type]:e==="textarea"}function pI(t,e,s,n){q2(n),e=Df(e,"onChange"),0<e.length&&(s=new N0("onChange","change",null,s,n),t.push({event:s,listeners:e}))}var pd=null,zd=null;function x5(t){CI(t,0)}function Gm(t){var e=tl(t);if(U2(e))return t}function y5(t,e){if(t==="change")return e}var gI=!1;if(pi){var Jp;if(pi){var eg="oninput"in document;if(!eg){var Sw=document.createElement("div");Sw.setAttribute("oninput","return;"),eg=typeof Sw.oninput=="function"}Jp=eg}else Jp=!1;gI=Jp&&(!document.documentMode||9<document.documentMode)}function _w(){pd&&(pd.detachEvent("onpropertychange",xI),zd=pd=null)}function xI(t){if(t.propertyName==="value"&&Gm(zd)){var e=[];pI(e,zd,t,x0(t)),Z2(x5,e)}}function v5(t,e,s){t==="focusin"?(_w(),pd=e,zd=s,pd.attachEvent("onpropertychange",xI)):t==="focusout"&&_w()}function b5(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gm(zd)}function w5(t,e){if(t==="click")return Gm(e)}function j5(t,e){if(t==="input"||t==="change")return Gm(e)}function N5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nr=typeof Object.is=="function"?Object.is:N5;function Vd(t,e){if(nr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var s=Object.keys(t),n=Object.keys(e);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var r=s[n];if(!rx.call(e,r)||!nr(t[r],e[r]))return!1}return!0}function Cw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kw(t,e){var s=Cw(t);t=0;for(var n;s;){if(s.nodeType===3){if(n=t+s.textContent.length,t<=e&&n>=e)return{node:s,offset:e-t};t=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Cw(s)}}function yI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?yI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vI(){for(var t=window,e=If();e instanceof t.HTMLIFrameElement;){try{var s=typeof e.contentWindow.location.href=="string"}catch{s=!1}if(s)t=e.contentWindow;else break;e=If(t.document)}return e}function C0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function S5(t){var e=vI(),s=t.focusedElem,n=t.selectionRange;if(e!==s&&s&&s.ownerDocument&&yI(s.ownerDocument.documentElement,s)){if(n!==null&&C0(s)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in s)s.selectionStart=e,s.selectionEnd=Math.min(t,s.value.length);else if(t=(e=s.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=s.textContent.length,a=Math.min(n.start,r);n=n.end===void 0?a:Math.min(n.end,r),!t.extend&&a>n&&(r=n,n=a,a=r),r=kw(s,a);var o=kw(s,n);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=s;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<e.length;s++)t=e[s],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _5=pi&&"documentMode"in document&&11>=document.documentMode,Jo=null,Nx=null,gd=null,Sx=!1;function Iw(t,e,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Sx||Jo==null||Jo!==If(n)||(n=Jo,"selectionStart"in n&&C0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),gd&&Vd(gd,n)||(gd=n,n=Df(Nx,"onSelect"),0<n.length&&(e=new N0("onSelect","select",null,e,s),t.push({event:e,listeners:n}),e.target=Jo)))}function xh(t,e){var s={};return s[t.toLowerCase()]=e.toLowerCase(),s["Webkit"+t]="webkit"+e,s["Moz"+t]="moz"+e,s}var el={animationend:xh("Animation","AnimationEnd"),animationiteration:xh("Animation","AnimationIteration"),animationstart:xh("Animation","AnimationStart"),transitionend:xh("Transition","TransitionEnd")},tg={},bI={};pi&&(bI=document.createElement("div").style,"AnimationEvent"in window||(delete el.animationend.animation,delete el.animationiteration.animation,delete el.animationstart.animation),"TransitionEvent"in window||delete el.transitionend.transition);function Qm(t){if(tg[t])return tg[t];if(!el[t])return t;var e=el[t],s;for(s in e)if(e.hasOwnProperty(s)&&s in bI)return tg[t]=e[s];return t}var wI=Qm("animationend"),jI=Qm("animationiteration"),NI=Qm("animationstart"),SI=Qm("transitionend"),_I=new Map,Ew="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ca(t,e){_I.set(t,e),Oo(e,[t])}for(var sg=0;sg<Ew.length;sg++){var ng=Ew[sg],C5=ng.toLowerCase(),k5=ng[0].toUpperCase()+ng.slice(1);Ca(C5,"on"+k5)}Ca(wI,"onAnimationEnd");Ca(jI,"onAnimationIteration");Ca(NI,"onAnimationStart");Ca("dblclick","onDoubleClick");Ca("focusin","onFocus");Ca("focusout","onBlur");Ca(SI,"onTransitionEnd");Wl("onMouseEnter",["mouseout","mouseover"]);Wl("onMouseLeave",["mouseout","mouseover"]);Wl("onPointerEnter",["pointerout","pointerover"]);Wl("onPointerLeave",["pointerout","pointerover"]);Oo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Oo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var td="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I5=new Set("cancel close invalid load scroll toggle".split(" ").concat(td));function Pw(t,e,s){var n=t.type||"unknown-event";t.currentTarget=s,CF(n,e,void 0,t),t.currentTarget=null}function CI(t,e){e=(e&4)!==0;for(var s=0;s<t.length;s++){var n=t[s],r=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&r.isPropagationStopped())break e;Pw(r,l,d),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&r.isPropagationStopped())break e;Pw(r,l,d),a=c}}}if(Pf)throw t=vx,Pf=!1,vx=null,t}function yt(t,e){var s=e[Ex];s===void 0&&(s=e[Ex]=new Set);var n=t+"__bubble";s.has(n)||(kI(e,t,2,!1),s.add(n))}function rg(t,e,s){var n=0;e&&(n|=4),kI(s,t,n,e)}var yh="_reactListening"+Math.random().toString(36).slice(2);function $d(t){if(!t[yh]){t[yh]=!0,R2.forEach(function(s){s!=="selectionchange"&&(I5.has(s)||rg(s,!1,t),rg(s,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[yh]||(e[yh]=!0,rg("selectionchange",!1,e))}}function kI(t,e,s,n){switch(dI(e)){case 1:var r=$F;break;case 4:r=BF;break;default:r=w0}s=r.bind(null,e,s,t),r=void 0,!yx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),n?r!==void 0?t.addEventListener(e,s,{capture:!0,passive:r}):t.addEventListener(e,s,!0):r!==void 0?t.addEventListener(e,s,{passive:r}):t.addEventListener(e,s,!1)}function ig(t,e,s,n,r){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;o=o.return}for(;l!==null;){if(o=Ba(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}Z2(function(){var d=a,u=x0(s),h=[];e:{var f=_I.get(t);if(f!==void 0){var p=N0,b=t;switch(t){case"keypress":if(tf(s)===0)break e;case"keydown":case"keyup":p=r5;break;case"focusin":b="focus",p=Xp;break;case"focusout":b="blur",p=Xp;break;case"beforeblur":case"afterblur":p=Xp;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=yw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=qF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=o5;break;case wI:case jI:case NI:p=QF;break;case SI:p=c5;break;case"scroll":p=HF;break;case"wheel":p=u5;break;case"copy":case"cut":case"paste":p=YF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=bw}var m=(e&4)!==0,g=!m&&t==="scroll",v=m?f!==null?f+"Capture":null:f;m=[];for(var y=d,w;y!==null;){w=y;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,v!==null&&(j=Od(y,v),j!=null&&m.push(Bd(y,j,w)))),g)break;y=y.return}0<m.length&&(f=new p(f,b,null,s,u),h.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&s!==gx&&(b=s.relatedTarget||s.fromElement)&&(Ba(b)||b[gi]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(b=s.relatedTarget||s.toElement,p=d,b=b?Ba(b):null,b!==null&&(g=Lo(b),b!==g||b.tag!==5&&b.tag!==6)&&(b=null)):(p=null,b=d),p!==b)){if(m=yw,j="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=bw,j="onPointerLeave",v="onPointerEnter",y="pointer"),g=p==null?f:tl(p),w=b==null?f:tl(b),f=new m(j,y+"leave",p,s,u),f.target=g,f.relatedTarget=w,j=null,Ba(u)===d&&(m=new m(v,y+"enter",b,s,u),m.target=w,m.relatedTarget=g,j=m),g=j,p&&b)t:{for(m=p,v=b,y=0,w=m;w;w=Bo(w))y++;for(w=0,j=v;j;j=Bo(j))w++;for(;0<y-w;)m=Bo(m),y--;for(;0<w-y;)v=Bo(v),w--;for(;y--;){if(m===v||v!==null&&m===v.alternate)break t;m=Bo(m),v=Bo(v)}m=null}else m=null;p!==null&&Tw(h,f,p,m,!1),b!==null&&g!==null&&Tw(h,g,b,m,!0)}}e:{if(f=d?tl(d):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var N=y5;else if(Nw(f))if(gI)N=j5;else{N=b5;var C=v5}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=w5);if(N&&(N=N(t,d))){pI(h,N,s,u);break e}C&&C(t,f,d),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&ux(f,"number",f.value)}switch(C=d?tl(d):window,t){case"focusin":(Nw(C)||C.contentEditable==="true")&&(Jo=C,Nx=d,gd=null);break;case"focusout":gd=Nx=Jo=null;break;case"mousedown":Sx=!0;break;case"contextmenu":case"mouseup":case"dragend":Sx=!1,Iw(h,s,u);break;case"selectionchange":if(_5)break;case"keydown":case"keyup":Iw(h,s,u)}var _;if(_0)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Xo?fI(t,s)&&(k="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(k="onCompositionStart");k&&(hI&&s.locale!=="ko"&&(Xo||k!=="onCompositionStart"?k==="onCompositionEnd"&&Xo&&(_=uI()):(Yi=u,j0="value"in Yi?Yi.value:Yi.textContent,Xo=!0)),C=Df(d,k),0<C.length&&(k=new vw(k,t,null,s,u),h.push({event:k,listeners:C}),_?k.data=_:(_=mI(s),_!==null&&(k.data=_)))),(_=f5?m5(t,s):p5(t,s))&&(d=Df(d,"onBeforeInput"),0<d.length&&(u=new vw("onBeforeInput","beforeinput",null,s,u),h.push({event:u,listeners:d}),u.data=_))}CI(h,e)})}function Bd(t,e,s){return{instance:t,listener:e,currentTarget:s}}function Df(t,e){for(var s=e+"Capture",n=[];t!==null;){var r=t,a=r.stateNode;r.tag===5&&a!==null&&(r=a,a=Od(t,s),a!=null&&n.unshift(Bd(t,a,r)),a=Od(t,e),a!=null&&n.push(Bd(t,a,r))),t=t.return}return n}function Bo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Tw(t,e,s,n,r){for(var a=e._reactName,o=[];s!==null&&s!==n;){var l=s,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,r?(c=Od(s,a),c!=null&&o.unshift(Bd(s,c,l))):r||(c=Od(s,a),c!=null&&o.push(Bd(s,c,l)))),s=s.return}o.length!==0&&t.push({event:e,listeners:o})}var E5=/\r\n?/g,P5=/\u0000|\uFFFD/g;function Aw(t){return(typeof t=="string"?t:""+t).replace(E5,`
`).replace(P5,"")}function vh(t,e,s){if(e=Aw(e),Aw(t)!==e&&s)throw Error(se(425))}function Of(){}var _x=null,Cx=null;function kx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ix=typeof setTimeout=="function"?setTimeout:void 0,T5=typeof clearTimeout=="function"?clearTimeout:void 0,Mw=typeof Promise=="function"?Promise:void 0,A5=typeof queueMicrotask=="function"?queueMicrotask:typeof Mw<"u"?function(t){return Mw.resolve(null).then(t).catch(M5)}:Ix;function M5(t){setTimeout(function(){throw t})}function ag(t,e){var s=e,n=0;do{var r=s.nextSibling;if(t.removeChild(s),r&&r.nodeType===8)if(s=r.data,s==="/$"){if(n===0){t.removeChild(r),Ud(e);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=r}while(s);Ud(e)}function ra(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Rw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(e===0)return t;e--}else s==="/$"&&e++}t=t.previousSibling}return null}var xc=Math.random().toString(36).slice(2),vr="__reactFiber$"+xc,Hd="__reactProps$"+xc,gi="__reactContainer$"+xc,Ex="__reactEvents$"+xc,R5="__reactListeners$"+xc,D5="__reactHandles$"+xc;function Ba(t){var e=t[vr];if(e)return e;for(var s=t.parentNode;s;){if(e=s[gi]||s[vr]){if(s=e.alternate,e.child!==null||s!==null&&s.child!==null)for(t=Rw(t);t!==null;){if(s=t[vr])return s;t=Rw(t)}return e}t=s,s=t.parentNode}return null}function Du(t){return t=t[vr]||t[gi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function tl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(se(33))}function Zm(t){return t[Hd]||null}var Px=[],sl=-1;function ka(t){return{current:t}}function bt(t){0>sl||(t.current=Px[sl],Px[sl]=null,sl--)}function mt(t,e){sl++,Px[sl]=t.current,t.current=e}var ga={},bs=ka(ga),Ws=ka(!1),po=ga;function ql(t,e){var s=t.type.contextTypes;if(!s)return ga;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var r={},a;for(a in s)r[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function qs(t){return t=t.childContextTypes,t!=null}function Lf(){bt(Ws),bt(bs)}function Dw(t,e,s){if(bs.current!==ga)throw Error(se(168));mt(bs,e),mt(Ws,s)}function II(t,e,s){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var r in n)if(!(r in e))throw Error(se(108,vF(t)||"Unknown",r));return Et({},s,n)}function Ff(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ga,po=bs.current,mt(bs,t),mt(Ws,Ws.current),!0}function Ow(t,e,s){var n=t.stateNode;if(!n)throw Error(se(169));s?(t=II(t,e,po),n.__reactInternalMemoizedMergedChildContext=t,bt(Ws),bt(bs),mt(bs,t)):bt(Ws),mt(Ws,s)}var Xr=null,Ym=!1,og=!1;function EI(t){Xr===null?Xr=[t]:Xr.push(t)}function O5(t){Ym=!0,EI(t)}function Ia(){if(!og&&Xr!==null){og=!0;var t=0,e=lt;try{var s=Xr;for(lt=1;t<s.length;t++){var n=s[t];do n=n(!0);while(n!==null)}Xr=null,Ym=!1}catch(r){throw Xr!==null&&(Xr=Xr.slice(t+1)),eI(y0,Ia),r}finally{lt=e,og=!1}}return null}var nl=[],rl=0,Uf=null,zf=0,wn=[],jn=0,go=null,si=1,ni="";function La(t,e){nl[rl++]=zf,nl[rl++]=Uf,Uf=t,zf=e}function PI(t,e,s){wn[jn++]=si,wn[jn++]=ni,wn[jn++]=go,go=t;var n=si;t=ni;var r=32-Zn(n)-1;n&=~(1<<r),s+=1;var a=32-Zn(e)+r;if(30<a){var o=r-r%5;a=(n&(1<<o)-1).toString(32),n>>=o,r-=o,si=1<<32-Zn(e)+r|s<<r|n,ni=a+t}else si=1<<a|s<<r|n,ni=t}function k0(t){t.return!==null&&(La(t,1),PI(t,1,0))}function I0(t){for(;t===Uf;)Uf=nl[--rl],nl[rl]=null,zf=nl[--rl],nl[rl]=null;for(;t===go;)go=wn[--jn],wn[jn]=null,ni=wn[--jn],wn[jn]=null,si=wn[--jn],wn[jn]=null}var rn=null,nn=null,wt=!1,$n=null;function TI(t,e){var s=Nn(5,null,null,0);s.elementType="DELETED",s.stateNode=e,s.return=t,e=t.deletions,e===null?(t.deletions=[s],t.flags|=16):e.push(s)}function Lw(t,e){switch(t.tag){case 5:var s=t.type;return e=e.nodeType!==1||s.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,rn=t,nn=ra(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,rn=t,nn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(s=go!==null?{id:si,overflow:ni}:null,t.memoizedState={dehydrated:e,treeContext:s,retryLane:1073741824},s=Nn(18,null,null,0),s.stateNode=e,s.return=t,t.child=s,rn=t,nn=null,!0):!1;default:return!1}}function Tx(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ax(t){if(wt){var e=nn;if(e){var s=e;if(!Lw(t,e)){if(Tx(t))throw Error(se(418));e=ra(s.nextSibling);var n=rn;e&&Lw(t,e)?TI(n,s):(t.flags=t.flags&-4097|2,wt=!1,rn=t)}}else{if(Tx(t))throw Error(se(418));t.flags=t.flags&-4097|2,wt=!1,rn=t}}}function Fw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rn=t}function bh(t){if(t!==rn)return!1;if(!wt)return Fw(t),wt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!kx(t.type,t.memoizedProps)),e&&(e=nn)){if(Tx(t))throw AI(),Error(se(418));for(;e;)TI(t,e),e=ra(e.nextSibling)}if(Fw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(se(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"){if(e===0){nn=ra(t.nextSibling);break e}e--}else s!=="$"&&s!=="$!"&&s!=="$?"||e++}t=t.nextSibling}nn=null}}else nn=rn?ra(t.stateNode.nextSibling):null;return!0}function AI(){for(var t=nn;t;)t=ra(t.nextSibling)}function Kl(){nn=rn=null,wt=!1}function E0(t){$n===null?$n=[t]:$n.push(t)}var L5=Si.ReactCurrentBatchConfig;function Fc(t,e,s){if(t=s.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(se(309));var n=s.stateNode}if(!n)throw Error(se(147,t));var r=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=r.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(se(284));if(!s._owner)throw Error(se(290,t))}return t}function wh(t,e){throw t=Object.prototype.toString.call(e),Error(se(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Uw(t){var e=t._init;return e(t._payload)}function MI(t){function e(v,y){if(t){var w=v.deletions;w===null?(v.deletions=[y],v.flags|=16):w.push(y)}}function s(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function n(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function r(v,y){return v=la(v,y),v.index=0,v.sibling=null,v}function a(v,y,w){return v.index=w,t?(w=v.alternate,w!==null?(w=w.index,w<y?(v.flags|=2,y):w):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function l(v,y,w,j){return y===null||y.tag!==6?(y=mg(w,v.mode,j),y.return=v,y):(y=r(y,w),y.return=v,y)}function c(v,y,w,j){var N=w.type;return N===Yo?u(v,y,w.props.children,j,w.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ri&&Uw(N)===y.type)?(j=r(y,w.props),j.ref=Fc(v,y,w),j.return=v,j):(j=cf(w.type,w.key,w.props,null,v.mode,j),j.ref=Fc(v,y,w),j.return=v,j)}function d(v,y,w,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=pg(w,v.mode,j),y.return=v,y):(y=r(y,w.children||[]),y.return=v,y)}function u(v,y,w,j,N){return y===null||y.tag!==7?(y=io(w,v.mode,j,N),y.return=v,y):(y=r(y,w),y.return=v,y)}function h(v,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=mg(""+y,v.mode,w),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case dh:return w=cf(y.type,y.key,y.props,null,v.mode,w),w.ref=Fc(v,null,y),w.return=v,w;case Zo:return y=pg(y,v.mode,w),y.return=v,y;case Ri:var j=y._init;return h(v,j(y._payload),w)}if(Jc(y)||Mc(y))return y=io(y,v.mode,w,null),y.return=v,y;wh(v,y)}return null}function f(v,y,w,j){var N=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(v,y,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case dh:return w.key===N?c(v,y,w,j):null;case Zo:return w.key===N?d(v,y,w,j):null;case Ri:return N=w._init,f(v,y,N(w._payload),j)}if(Jc(w)||Mc(w))return N!==null?null:u(v,y,w,j,null);wh(v,w)}return null}function p(v,y,w,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return v=v.get(w)||null,l(y,v,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case dh:return v=v.get(j.key===null?w:j.key)||null,c(y,v,j,N);case Zo:return v=v.get(j.key===null?w:j.key)||null,d(y,v,j,N);case Ri:var C=j._init;return p(v,y,w,C(j._payload),N)}if(Jc(j)||Mc(j))return v=v.get(w)||null,u(y,v,j,N,null);wh(y,j)}return null}function b(v,y,w,j){for(var N=null,C=null,_=y,k=y=0,M=null;_!==null&&k<w.length;k++){_.index>k?(M=_,_=null):M=_.sibling;var L=f(v,_,w[k],j);if(L===null){_===null&&(_=M);break}t&&_&&L.alternate===null&&e(v,_),y=a(L,y,k),C===null?N=L:C.sibling=L,C=L,_=M}if(k===w.length)return s(v,_),wt&&La(v,k),N;if(_===null){for(;k<w.length;k++)_=h(v,w[k],j),_!==null&&(y=a(_,y,k),C===null?N=_:C.sibling=_,C=_);return wt&&La(v,k),N}for(_=n(v,_);k<w.length;k++)M=p(_,v,k,w[k],j),M!==null&&(t&&M.alternate!==null&&_.delete(M.key===null?k:M.key),y=a(M,y,k),C===null?N=M:C.sibling=M,C=M);return t&&_.forEach(function(O){return e(v,O)}),wt&&La(v,k),N}function m(v,y,w,j){var N=Mc(w);if(typeof N!="function")throw Error(se(150));if(w=N.call(w),w==null)throw Error(se(151));for(var C=N=null,_=y,k=y=0,M=null,L=w.next();_!==null&&!L.done;k++,L=w.next()){_.index>k?(M=_,_=null):M=_.sibling;var O=f(v,_,L.value,j);if(O===null){_===null&&(_=M);break}t&&_&&O.alternate===null&&e(v,_),y=a(O,y,k),C===null?N=O:C.sibling=O,C=O,_=M}if(L.done)return s(v,_),wt&&La(v,k),N;if(_===null){for(;!L.done;k++,L=w.next())L=h(v,L.value,j),L!==null&&(y=a(L,y,k),C===null?N=L:C.sibling=L,C=L);return wt&&La(v,k),N}for(_=n(v,_);!L.done;k++,L=w.next())L=p(_,v,k,L.value,j),L!==null&&(t&&L.alternate!==null&&_.delete(L.key===null?k:L.key),y=a(L,y,k),C===null?N=L:C.sibling=L,C=L);return t&&_.forEach(function(I){return e(v,I)}),wt&&La(v,k),N}function g(v,y,w,j){if(typeof w=="object"&&w!==null&&w.type===Yo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case dh:e:{for(var N=w.key,C=y;C!==null;){if(C.key===N){if(N=w.type,N===Yo){if(C.tag===7){s(v,C.sibling),y=r(C,w.props.children),y.return=v,v=y;break e}}else if(C.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ri&&Uw(N)===C.type){s(v,C.sibling),y=r(C,w.props),y.ref=Fc(v,C,w),y.return=v,v=y;break e}s(v,C);break}else e(v,C);C=C.sibling}w.type===Yo?(y=io(w.props.children,v.mode,j,w.key),y.return=v,v=y):(j=cf(w.type,w.key,w.props,null,v.mode,j),j.ref=Fc(v,y,w),j.return=v,v=j)}return o(v);case Zo:e:{for(C=w.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){s(v,y.sibling),y=r(y,w.children||[]),y.return=v,v=y;break e}else{s(v,y);break}else e(v,y);y=y.sibling}y=pg(w,v.mode,j),y.return=v,v=y}return o(v);case Ri:return C=w._init,g(v,y,C(w._payload),j)}if(Jc(w))return b(v,y,w,j);if(Mc(w))return m(v,y,w,j);wh(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(s(v,y.sibling),y=r(y,w),y.return=v,v=y):(s(v,y),y=mg(w,v.mode,j),y.return=v,v=y),o(v)):s(v,y)}return g}var Gl=MI(!0),RI=MI(!1),Vf=ka(null),$f=null,il=null,P0=null;function T0(){P0=il=$f=null}function A0(t){var e=Vf.current;bt(Vf),t._currentValue=e}function Mx(t,e,s){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===s)break;t=t.return}}function ml(t,e){$f=t,P0=il=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Hs=!0),t.firstContext=null)}function En(t){var e=t._currentValue;if(P0!==t)if(t={context:t,memoizedValue:e,next:null},il===null){if($f===null)throw Error(se(308));il=t,$f.dependencies={lanes:0,firstContext:t}}else il=il.next=t;return e}var Ha=null;function M0(t){Ha===null?Ha=[t]:Ha.push(t)}function DI(t,e,s,n){var r=e.interleaved;return r===null?(s.next=s,M0(e)):(s.next=r.next,r.next=s),e.interleaved=s,xi(t,n)}function xi(t,e){t.lanes|=e;var s=t.alternate;for(s!==null&&(s.lanes|=e),s=t,t=t.return;t!==null;)t.childLanes|=e,s=t.alternate,s!==null&&(s.childLanes|=e),s=t,t=t.return;return s.tag===3?s.stateNode:null}var Di=!1;function R0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function OI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ci(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ia(t,e,s){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,tt&2){var r=n.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),n.pending=e,xi(t,s)}return r=n.interleaved,r===null?(e.next=e,M0(n)):(e.next=r.next,r.next=e),n.interleaved=e,xi(t,s)}function sf(t,e,s){if(e=e.updateQueue,e!==null&&(e=e.shared,(s&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,s|=n,e.lanes=s,v0(t,s)}}function zw(t,e){var s=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var r=null,a=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};a===null?r=a=o:a=a.next=o,s=s.next}while(s!==null);a===null?r=a=e:a=a.next=e}else r=a=e;s={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=e:t.next=e,s.lastBaseUpdate=e}function Bf(t,e,s,n){var r=t.updateQueue;Di=!1;var a=r.firstBaseUpdate,o=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(a!==null){var h=r.baseState;o=0,u=d=c=null,l=a;do{var f=l.lane,p=l.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=t,m=l;switch(f=e,p=s,m.tag){case 1:if(b=m.payload,typeof b=="function"){h=b.call(p,h,f);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=m.payload,f=typeof b=="function"?b.call(p,h,f):b,f==null)break e;h=Et({},h,f);break e;case 2:Di=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=r.effects,f===null?r.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=h):u=u.next=p,o|=f;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;f=l,l=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(u===null&&(c=h),r.baseState=c,r.firstBaseUpdate=d,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else a===null&&(r.shared.lanes=0);yo|=o,t.lanes=o,t.memoizedState=h}}function Vw(t,e,s){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],r=n.callback;if(r!==null){if(n.callback=null,n=s,typeof r!="function")throw Error(se(191,r));r.call(n)}}}var Ou={},kr=ka(Ou),Wd=ka(Ou),qd=ka(Ou);function Wa(t){if(t===Ou)throw Error(se(174));return t}function D0(t,e){switch(mt(qd,e),mt(Wd,t),mt(kr,Ou),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:fx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=fx(e,t)}bt(kr),mt(kr,e)}function Ql(){bt(kr),bt(Wd),bt(qd)}function LI(t){Wa(qd.current);var e=Wa(kr.current),s=fx(e,t.type);e!==s&&(mt(Wd,t),mt(kr,s))}function O0(t){Wd.current===t&&(bt(kr),bt(Wd))}var Ct=ka(0);function Hf(t){for(var e=t;e!==null;){if(e.tag===13){var s=e.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var lg=[];function L0(){for(var t=0;t<lg.length;t++)lg[t]._workInProgressVersionPrimary=null;lg.length=0}var nf=Si.ReactCurrentDispatcher,cg=Si.ReactCurrentBatchConfig,xo=0,It=null,Zt=null,Jt=null,Wf=!1,xd=!1,Kd=0,F5=0;function ms(){throw Error(se(321))}function F0(t,e){if(e===null)return!1;for(var s=0;s<e.length&&s<t.length;s++)if(!nr(t[s],e[s]))return!1;return!0}function U0(t,e,s,n,r,a){if(xo=a,It=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,nf.current=t===null||t.memoizedState===null?$5:B5,t=s(n,r),xd){a=0;do{if(xd=!1,Kd=0,25<=a)throw Error(se(301));a+=1,Jt=Zt=null,e.updateQueue=null,nf.current=H5,t=s(n,r)}while(xd)}if(nf.current=qf,e=Zt!==null&&Zt.next!==null,xo=0,Jt=Zt=It=null,Wf=!1,e)throw Error(se(300));return t}function z0(){var t=Kd!==0;return Kd=0,t}function fr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?It.memoizedState=Jt=t:Jt=Jt.next=t,Jt}function Pn(){if(Zt===null){var t=It.alternate;t=t!==null?t.memoizedState:null}else t=Zt.next;var e=Jt===null?It.memoizedState:Jt.next;if(e!==null)Jt=e,Zt=t;else{if(t===null)throw Error(se(310));Zt=t,t={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Jt===null?It.memoizedState=Jt=t:Jt=Jt.next=t}return Jt}function Gd(t,e){return typeof e=="function"?e(t):e}function dg(t){var e=Pn(),s=e.queue;if(s===null)throw Error(se(311));s.lastRenderedReducer=t;var n=Zt,r=n.baseQueue,a=s.pending;if(a!==null){if(r!==null){var o=r.next;r.next=a.next,a.next=o}n.baseQueue=r=a,s.pending=null}if(r!==null){a=r.next,n=n.baseState;var l=o=null,c=null,d=a;do{var u=d.lane;if((xo&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,It.lanes|=u,yo|=u}d=d.next}while(d!==null&&d!==a);c===null?o=n:c.next=l,nr(n,e.memoizedState)||(Hs=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,s.lastRenderedState=n}if(t=s.interleaved,t!==null){r=t;do a=r.lane,It.lanes|=a,yo|=a,r=r.next;while(r!==t)}else r===null&&(s.lanes=0);return[e.memoizedState,s.dispatch]}function ug(t){var e=Pn(),s=e.queue;if(s===null)throw Error(se(311));s.lastRenderedReducer=t;var n=s.dispatch,r=s.pending,a=e.memoizedState;if(r!==null){s.pending=null;var o=r=r.next;do a=t(a,o.action),o=o.next;while(o!==r);nr(a,e.memoizedState)||(Hs=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),s.lastRenderedState=a}return[a,n]}function FI(){}function UI(t,e){var s=It,n=Pn(),r=e(),a=!nr(n.memoizedState,r);if(a&&(n.memoizedState=r,Hs=!0),n=n.queue,V0($I.bind(null,s,n,t),[t]),n.getSnapshot!==e||a||Jt!==null&&Jt.memoizedState.tag&1){if(s.flags|=2048,Qd(9,VI.bind(null,s,n,r,e),void 0,null),ts===null)throw Error(se(349));xo&30||zI(s,e,r)}return r}function zI(t,e,s){t.flags|=16384,t={getSnapshot:e,value:s},e=It.updateQueue,e===null?(e={lastEffect:null,stores:null},It.updateQueue=e,e.stores=[t]):(s=e.stores,s===null?e.stores=[t]:s.push(t))}function VI(t,e,s,n){e.value=s,e.getSnapshot=n,BI(e)&&HI(t)}function $I(t,e,s){return s(function(){BI(e)&&HI(t)})}function BI(t){var e=t.getSnapshot;t=t.value;try{var s=e();return!nr(t,s)}catch{return!0}}function HI(t){var e=xi(t,1);e!==null&&Yn(e,t,1,-1)}function $w(t){var e=fr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gd,lastRenderedState:t},e.queue=t,t=t.dispatch=V5.bind(null,It,t),[e.memoizedState,t]}function Qd(t,e,s,n){return t={tag:t,create:e,destroy:s,deps:n,next:null},e=It.updateQueue,e===null?(e={lastEffect:null,stores:null},It.updateQueue=e,e.lastEffect=t.next=t):(s=e.lastEffect,s===null?e.lastEffect=t.next=t:(n=s.next,s.next=t,t.next=n,e.lastEffect=t)),t}function WI(){return Pn().memoizedState}function rf(t,e,s,n){var r=fr();It.flags|=t,r.memoizedState=Qd(1|e,s,void 0,n===void 0?null:n)}function Xm(t,e,s,n){var r=Pn();n=n===void 0?null:n;var a=void 0;if(Zt!==null){var o=Zt.memoizedState;if(a=o.destroy,n!==null&&F0(n,o.deps)){r.memoizedState=Qd(e,s,a,n);return}}It.flags|=t,r.memoizedState=Qd(1|e,s,a,n)}function Bw(t,e){return rf(8390656,8,t,e)}function V0(t,e){return Xm(2048,8,t,e)}function qI(t,e){return Xm(4,2,t,e)}function KI(t,e){return Xm(4,4,t,e)}function GI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function QI(t,e,s){return s=s!=null?s.concat([t]):null,Xm(4,4,GI.bind(null,e,t),s)}function $0(){}function ZI(t,e){var s=Pn();e=e===void 0?null:e;var n=s.memoizedState;return n!==null&&e!==null&&F0(e,n[1])?n[0]:(s.memoizedState=[t,e],t)}function YI(t,e){var s=Pn();e=e===void 0?null:e;var n=s.memoizedState;return n!==null&&e!==null&&F0(e,n[1])?n[0]:(t=t(),s.memoizedState=[t,e],t)}function XI(t,e,s){return xo&21?(nr(s,e)||(s=nI(),It.lanes|=s,yo|=s,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Hs=!0),t.memoizedState=s)}function U5(t,e){var s=lt;lt=s!==0&&4>s?s:4,t(!0);var n=cg.transition;cg.transition={};try{t(!1),e()}finally{lt=s,cg.transition=n}}function JI(){return Pn().memoizedState}function z5(t,e,s){var n=oa(t);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},eE(t))tE(e,s);else if(s=DI(t,e,s,n),s!==null){var r=Ms();Yn(s,t,n,r),sE(s,e,n)}}function V5(t,e,s){var n=oa(t),r={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(eE(t))tE(e,r);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,s);if(r.hasEagerState=!0,r.eagerState=l,nr(l,o)){var c=e.interleaved;c===null?(r.next=r,M0(e)):(r.next=c.next,c.next=r),e.interleaved=r;return}}catch{}finally{}s=DI(t,e,r,n),s!==null&&(r=Ms(),Yn(s,t,n,r),sE(s,e,n))}}function eE(t){var e=t.alternate;return t===It||e!==null&&e===It}function tE(t,e){xd=Wf=!0;var s=t.pending;s===null?e.next=e:(e.next=s.next,s.next=e),t.pending=e}function sE(t,e,s){if(s&4194240){var n=e.lanes;n&=t.pendingLanes,s|=n,e.lanes=s,v0(t,s)}}var qf={readContext:En,useCallback:ms,useContext:ms,useEffect:ms,useImperativeHandle:ms,useInsertionEffect:ms,useLayoutEffect:ms,useMemo:ms,useReducer:ms,useRef:ms,useState:ms,useDebugValue:ms,useDeferredValue:ms,useTransition:ms,useMutableSource:ms,useSyncExternalStore:ms,useId:ms,unstable_isNewReconciler:!1},$5={readContext:En,useCallback:function(t,e){return fr().memoizedState=[t,e===void 0?null:e],t},useContext:En,useEffect:Bw,useImperativeHandle:function(t,e,s){return s=s!=null?s.concat([t]):null,rf(4194308,4,GI.bind(null,e,t),s)},useLayoutEffect:function(t,e){return rf(4194308,4,t,e)},useInsertionEffect:function(t,e){return rf(4,2,t,e)},useMemo:function(t,e){var s=fr();return e=e===void 0?null:e,t=t(),s.memoizedState=[t,e],t},useReducer:function(t,e,s){var n=fr();return e=s!==void 0?s(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=z5.bind(null,It,t),[n.memoizedState,t]},useRef:function(t){var e=fr();return t={current:t},e.memoizedState=t},useState:$w,useDebugValue:$0,useDeferredValue:function(t){return fr().memoizedState=t},useTransition:function(){var t=$w(!1),e=t[0];return t=U5.bind(null,t[1]),fr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,s){var n=It,r=fr();if(wt){if(s===void 0)throw Error(se(407));s=s()}else{if(s=e(),ts===null)throw Error(se(349));xo&30||zI(n,e,s)}r.memoizedState=s;var a={value:s,getSnapshot:e};return r.queue=a,Bw($I.bind(null,n,a,t),[t]),n.flags|=2048,Qd(9,VI.bind(null,n,a,s,e),void 0,null),s},useId:function(){var t=fr(),e=ts.identifierPrefix;if(wt){var s=ni,n=si;s=(n&~(1<<32-Zn(n)-1)).toString(32)+s,e=":"+e+"R"+s,s=Kd++,0<s&&(e+="H"+s.toString(32)),e+=":"}else s=F5++,e=":"+e+"r"+s.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},B5={readContext:En,useCallback:ZI,useContext:En,useEffect:V0,useImperativeHandle:QI,useInsertionEffect:qI,useLayoutEffect:KI,useMemo:YI,useReducer:dg,useRef:WI,useState:function(){return dg(Gd)},useDebugValue:$0,useDeferredValue:function(t){var e=Pn();return XI(e,Zt.memoizedState,t)},useTransition:function(){var t=dg(Gd)[0],e=Pn().memoizedState;return[t,e]},useMutableSource:FI,useSyncExternalStore:UI,useId:JI,unstable_isNewReconciler:!1},H5={readContext:En,useCallback:ZI,useContext:En,useEffect:V0,useImperativeHandle:QI,useInsertionEffect:qI,useLayoutEffect:KI,useMemo:YI,useReducer:ug,useRef:WI,useState:function(){return ug(Gd)},useDebugValue:$0,useDeferredValue:function(t){var e=Pn();return Zt===null?e.memoizedState=t:XI(e,Zt.memoizedState,t)},useTransition:function(){var t=ug(Gd)[0],e=Pn().memoizedState;return[t,e]},useMutableSource:FI,useSyncExternalStore:UI,useId:JI,unstable_isNewReconciler:!1};function Fn(t,e){if(t&&t.defaultProps){e=Et({},e),t=t.defaultProps;for(var s in t)e[s]===void 0&&(e[s]=t[s]);return e}return e}function Rx(t,e,s,n){e=t.memoizedState,s=s(n,e),s=s==null?e:Et({},e,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Jm={isMounted:function(t){return(t=t._reactInternals)?Lo(t)===t:!1},enqueueSetState:function(t,e,s){t=t._reactInternals;var n=Ms(),r=oa(t),a=ci(n,r);a.payload=e,s!=null&&(a.callback=s),e=ia(t,a,r),e!==null&&(Yn(e,t,r,n),sf(e,t,r))},enqueueReplaceState:function(t,e,s){t=t._reactInternals;var n=Ms(),r=oa(t),a=ci(n,r);a.tag=1,a.payload=e,s!=null&&(a.callback=s),e=ia(t,a,r),e!==null&&(Yn(e,t,r,n),sf(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var s=Ms(),n=oa(t),r=ci(s,n);r.tag=2,e!=null&&(r.callback=e),e=ia(t,r,n),e!==null&&(Yn(e,t,n,s),sf(e,t,n))}};function Hw(t,e,s,n,r,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!Vd(s,n)||!Vd(r,a):!0}function nE(t,e,s){var n=!1,r=ga,a=e.contextType;return typeof a=="object"&&a!==null?a=En(a):(r=qs(e)?po:bs.current,n=e.contextTypes,a=(n=n!=null)?ql(t,r):ga),e=new e(s,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Jm,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=a),e}function Ww(t,e,s,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(s,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(s,n),e.state!==t&&Jm.enqueueReplaceState(e,e.state,null)}function Dx(t,e,s,n){var r=t.stateNode;r.props=s,r.state=t.memoizedState,r.refs={},R0(t);var a=e.contextType;typeof a=="object"&&a!==null?r.context=En(a):(a=qs(e)?po:bs.current,r.context=ql(t,a)),r.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Rx(t,e,a,s),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Jm.enqueueReplaceState(r,r.state,null),Bf(t,s,r,n),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Zl(t,e){try{var s="",n=e;do s+=yF(n),n=n.return;while(n);var r=s}catch(a){r=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:r,digest:null}}function hg(t,e,s){return{value:t,source:null,stack:s??null,digest:e??null}}function Ox(t,e){try{console.error(e.value)}catch(s){setTimeout(function(){throw s})}}var W5=typeof WeakMap=="function"?WeakMap:Map;function rE(t,e,s){s=ci(-1,s),s.tag=3,s.payload={element:null};var n=e.value;return s.callback=function(){Gf||(Gf=!0,qx=n),Ox(t,e)},s}function iE(t,e,s){s=ci(-1,s),s.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var r=e.value;s.payload=function(){return n(r)},s.callback=function(){Ox(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(s.callback=function(){Ox(t,e),typeof n!="function"&&(aa===null?aa=new Set([this]):aa.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),s}function qw(t,e,s){var n=t.pingCache;if(n===null){n=t.pingCache=new W5;var r=new Set;n.set(e,r)}else r=n.get(e),r===void 0&&(r=new Set,n.set(e,r));r.has(s)||(r.add(s),t=i3.bind(null,t,e,s),e.then(t,t))}function Kw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Gw(t,e,s,n,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(e=ci(-1,1),e.tag=2,ia(s,e,1))),s.lanes|=1),t)}var q5=Si.ReactCurrentOwner,Hs=!1;function Es(t,e,s,n){e.child=t===null?RI(e,null,s,n):Gl(e,t.child,s,n)}function Qw(t,e,s,n,r){s=s.render;var a=e.ref;return ml(e,r),n=U0(t,e,s,n,a,r),s=z0(),t!==null&&!Hs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,yi(t,e,r)):(wt&&s&&k0(e),e.flags|=1,Es(t,e,n,r),e.child)}function Zw(t,e,s,n,r){if(t===null){var a=s.type;return typeof a=="function"&&!Z0(a)&&a.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(e.tag=15,e.type=a,aE(t,e,a,n,r)):(t=cf(s.type,null,n,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&r)){var o=a.memoizedProps;if(s=s.compare,s=s!==null?s:Vd,s(o,n)&&t.ref===e.ref)return yi(t,e,r)}return e.flags|=1,t=la(a,n),t.ref=e.ref,t.return=e,e.child=t}function aE(t,e,s,n,r){if(t!==null){var a=t.memoizedProps;if(Vd(a,n)&&t.ref===e.ref)if(Hs=!1,e.pendingProps=n=a,(t.lanes&r)!==0)t.flags&131072&&(Hs=!0);else return e.lanes=t.lanes,yi(t,e,r)}return Lx(t,e,s,n,r)}function oE(t,e,s){var n=e.pendingProps,r=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(ol,en),en|=s;else{if(!(s&1073741824))return t=a!==null?a.baseLanes|s:s,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,mt(ol,en),en|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:s,mt(ol,en),en|=n}else a!==null?(n=a.baseLanes|s,e.memoizedState=null):n=s,mt(ol,en),en|=n;return Es(t,e,r,s),e.child}function lE(t,e){var s=e.ref;(t===null&&s!==null||t!==null&&t.ref!==s)&&(e.flags|=512,e.flags|=2097152)}function Lx(t,e,s,n,r){var a=qs(s)?po:bs.current;return a=ql(e,a),ml(e,r),s=U0(t,e,s,n,a,r),n=z0(),t!==null&&!Hs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,yi(t,e,r)):(wt&&n&&k0(e),e.flags|=1,Es(t,e,s,r),e.child)}function Yw(t,e,s,n,r){if(qs(s)){var a=!0;Ff(e)}else a=!1;if(ml(e,r),e.stateNode===null)af(t,e),nE(e,s,n),Dx(e,s,n,r),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=s.contextType;typeof d=="object"&&d!==null?d=En(d):(d=qs(s)?po:bs.current,d=ql(e,d));var u=s.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&Ww(e,o,n,d),Di=!1;var f=e.memoizedState;o.state=f,Bf(e,n,o,r),c=e.memoizedState,l!==n||f!==c||Ws.current||Di?(typeof u=="function"&&(Rx(e,s,u,n),c=e.memoizedState),(l=Di||Hw(e,s,l,n,f,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,OI(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:Fn(e.type,l),o.props=d,h=e.pendingProps,f=o.context,c=s.contextType,typeof c=="object"&&c!==null?c=En(c):(c=qs(s)?po:bs.current,c=ql(e,c));var p=s.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&Ww(e,o,n,c),Di=!1,f=e.memoizedState,o.state=f,Bf(e,n,o,r);var b=e.memoizedState;l!==h||f!==b||Ws.current||Di?(typeof p=="function"&&(Rx(e,s,p,n),b=e.memoizedState),(d=Di||Hw(e,s,d,n,f,b,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,b,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=b),o.props=n,o.state=b,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Fx(t,e,s,n,a,r)}function Fx(t,e,s,n,r,a){lE(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return r&&Ow(e,s,!1),yi(t,e,a);n=e.stateNode,q5.current=e;var l=o&&typeof s.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Gl(e,t.child,null,a),e.child=Gl(e,null,l,a)):Es(t,e,l,a),e.memoizedState=n.state,r&&Ow(e,s,!0),e.child}function cE(t){var e=t.stateNode;e.pendingContext?Dw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Dw(t,e.context,!1),D0(t,e.containerInfo)}function Xw(t,e,s,n,r){return Kl(),E0(r),e.flags|=256,Es(t,e,s,n),e.child}var Ux={dehydrated:null,treeContext:null,retryLane:0};function zx(t){return{baseLanes:t,cachePool:null,transitions:null}}function dE(t,e,s){var n=e.pendingProps,r=Ct.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(r&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),mt(Ct,r&1),t===null)return Ax(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=sp(o,n,0,null),t=io(t,n,s,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=zx(s),e.memoizedState=Ux,t):B0(e,o));if(r=t.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return K5(t,e,o,n,l,r,s);if(a){a=n.fallback,o=e.mode,r=t.child,l=r.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==r?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=la(r,c),n.subtreeFlags=r.subtreeFlags&14680064),l!==null?a=la(l,a):(a=io(a,o,s,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?zx(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~s,e.memoizedState=Ux,n}return a=t.child,t=a.sibling,n=la(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=s),n.return=e,n.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=n,e.memoizedState=null,n}function B0(t,e){return e=sp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function jh(t,e,s,n){return n!==null&&E0(n),Gl(e,t.child,null,s),t=B0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function K5(t,e,s,n,r,a,o){if(s)return e.flags&256?(e.flags&=-257,n=hg(Error(se(422))),jh(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,r=e.mode,n=sp({mode:"visible",children:n.children},r,0,null),a=io(a,r,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&Gl(e,t.child,null,o),e.child.memoizedState=zx(o),e.memoizedState=Ux,a);if(!(e.mode&1))return jh(t,e,o,null);if(r.data==="$!"){if(n=r.nextSibling&&r.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(se(419)),n=hg(a,n,void 0),jh(t,e,o,n)}if(l=(o&t.childLanes)!==0,Hs||l){if(n=ts,n!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(n.suspendedLanes|o)?0:r,r!==0&&r!==a.retryLane&&(a.retryLane=r,xi(t,r),Yn(n,t,r,-1))}return Q0(),n=hg(Error(se(421))),jh(t,e,o,n)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=a3.bind(null,t),r._reactRetry=e,null):(t=a.treeContext,nn=ra(r.nextSibling),rn=e,wt=!0,$n=null,t!==null&&(wn[jn++]=si,wn[jn++]=ni,wn[jn++]=go,si=t.id,ni=t.overflow,go=e),e=B0(e,n.children),e.flags|=4096,e)}function Jw(t,e,s){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Mx(t.return,e,s)}function fg(t,e,s,n,r){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:r}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=s,a.tailMode=r)}function uE(t,e,s){var n=e.pendingProps,r=n.revealOrder,a=n.tail;if(Es(t,e,n.children,s),n=Ct.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jw(t,s,e);else if(t.tag===19)Jw(t,s,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(mt(Ct,n),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(s=e.child,r=null;s!==null;)t=s.alternate,t!==null&&Hf(t)===null&&(r=s),s=s.sibling;s=r,s===null?(r=e.child,e.child=null):(r=s.sibling,s.sibling=null),fg(e,!1,r,s,a);break;case"backwards":for(s=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Hf(t)===null){e.child=r;break}t=r.sibling,r.sibling=s,s=r,r=t}fg(e,!0,s,null,a);break;case"together":fg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function af(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function yi(t,e,s){if(t!==null&&(e.dependencies=t.dependencies),yo|=e.lanes,!(s&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(se(153));if(e.child!==null){for(t=e.child,s=la(t,t.pendingProps),e.child=s,s.return=e;t.sibling!==null;)t=t.sibling,s=s.sibling=la(t,t.pendingProps),s.return=e;s.sibling=null}return e.child}function G5(t,e,s){switch(e.tag){case 3:cE(e),Kl();break;case 5:LI(e);break;case 1:qs(e.type)&&Ff(e);break;case 4:D0(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,r=e.memoizedProps.value;mt(Vf,n._currentValue),n._currentValue=r;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(mt(Ct,Ct.current&1),e.flags|=128,null):s&e.child.childLanes?dE(t,e,s):(mt(Ct,Ct.current&1),t=yi(t,e,s),t!==null?t.sibling:null);mt(Ct,Ct.current&1);break;case 19:if(n=(s&e.childLanes)!==0,t.flags&128){if(n)return uE(t,e,s);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),mt(Ct,Ct.current),n)break;return null;case 22:case 23:return e.lanes=0,oE(t,e,s)}return yi(t,e,s)}var hE,Vx,fE,mE;hE=function(t,e){for(var s=e.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Vx=function(){};fE=function(t,e,s,n){var r=t.memoizedProps;if(r!==n){t=e.stateNode,Wa(kr.current);var a=null;switch(s){case"input":r=cx(t,r),n=cx(t,n),a=[];break;case"select":r=Et({},r,{value:void 0}),n=Et({},n,{value:void 0}),a=[];break;case"textarea":r=hx(t,r),n=hx(t,n),a=[];break;default:typeof r.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Of)}mx(s,n);var o;s=null;for(d in r)if(!n.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var l=r[d];for(o in l)l.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Rd.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in n){var c=n[d];if(l=r!=null?r[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(s||(s={}),s[o]=c[o])}else s||(a||(a=[]),a.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Rd.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&yt("scroll",t),a||l===c||(a=[])):(a=a||[]).push(d,c))}s&&(a=a||[]).push("style",s);var d=a;(e.updateQueue=d)&&(e.flags|=4)}};mE=function(t,e,s,n){s!==n&&(e.flags|=4)};function Uc(t,e){if(!wt)switch(t.tailMode){case"hidden":e=t.tail;for(var s=null;e!==null;)e.alternate!==null&&(s=e),e=e.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ps(t){var e=t.alternate!==null&&t.alternate.child===t.child,s=0,n=0;if(e)for(var r=t.child;r!==null;)s|=r.lanes|r.childLanes,n|=r.subtreeFlags&14680064,n|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)s|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=n,t.childLanes=s,e}function Q5(t,e,s){var n=e.pendingProps;switch(I0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ps(e),null;case 1:return qs(e.type)&&Lf(),ps(e),null;case 3:return n=e.stateNode,Ql(),bt(Ws),bt(bs),L0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(bh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$n!==null&&(Qx($n),$n=null))),Vx(t,e),ps(e),null;case 5:O0(e);var r=Wa(qd.current);if(s=e.type,t!==null&&e.stateNode!=null)fE(t,e,s,n,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(se(166));return ps(e),null}if(t=Wa(kr.current),bh(e)){n=e.stateNode,s=e.type;var a=e.memoizedProps;switch(n[vr]=e,n[Hd]=a,t=(e.mode&1)!==0,s){case"dialog":yt("cancel",n),yt("close",n);break;case"iframe":case"object":case"embed":yt("load",n);break;case"video":case"audio":for(r=0;r<td.length;r++)yt(td[r],n);break;case"source":yt("error",n);break;case"img":case"image":case"link":yt("error",n),yt("load",n);break;case"details":yt("toggle",n);break;case"input":lw(n,a),yt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},yt("invalid",n);break;case"textarea":dw(n,a),yt("invalid",n)}mx(s,a),r=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&vh(n.textContent,l,t),r=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&vh(n.textContent,l,t),r=["children",""+l]):Rd.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&yt("scroll",n)}switch(s){case"input":uh(n),cw(n,a,!0);break;case"textarea":uh(n),uw(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Of)}n=r,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$2(s)),t==="http://www.w3.org/1999/xhtml"?s==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(s,{is:n.is}):(t=o.createElement(s),s==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,s),t[vr]=e,t[Hd]=n,hE(t,e,!1,!1),e.stateNode=t;e:{switch(o=px(s,n),s){case"dialog":yt("cancel",t),yt("close",t),r=n;break;case"iframe":case"object":case"embed":yt("load",t),r=n;break;case"video":case"audio":for(r=0;r<td.length;r++)yt(td[r],t);r=n;break;case"source":yt("error",t),r=n;break;case"img":case"image":case"link":yt("error",t),yt("load",t),r=n;break;case"details":yt("toggle",t),r=n;break;case"input":lw(t,n),r=cx(t,n),yt("invalid",t);break;case"option":r=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},r=Et({},n,{value:void 0}),yt("invalid",t);break;case"textarea":dw(t,n),r=hx(t,n),yt("invalid",t);break;default:r=n}mx(s,r),l=r;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?W2(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&B2(t,c)):a==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&Dd(t,c):typeof c=="number"&&Dd(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Rd.hasOwnProperty(a)?c!=null&&a==="onScroll"&&yt("scroll",t):c!=null&&f0(t,a,c,o))}switch(s){case"input":uh(t),cw(t,n,!1);break;case"textarea":uh(t),uw(t);break;case"option":n.value!=null&&t.setAttribute("value",""+pa(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?dl(t,!!n.multiple,a,!1):n.defaultValue!=null&&dl(t,!!n.multiple,n.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Of)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ps(e),null;case 6:if(t&&e.stateNode!=null)mE(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(se(166));if(s=Wa(qd.current),Wa(kr.current),bh(e)){if(n=e.stateNode,s=e.memoizedProps,n[vr]=e,(a=n.nodeValue!==s)&&(t=rn,t!==null))switch(t.tag){case 3:vh(n.nodeValue,s,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&vh(n.nodeValue,s,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[vr]=e,e.stateNode=n}return ps(e),null;case 13:if(bt(Ct),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(wt&&nn!==null&&e.mode&1&&!(e.flags&128))AI(),Kl(),e.flags|=98560,a=!1;else if(a=bh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(se(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(se(317));a[vr]=e}else Kl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ps(e),a=!1}else $n!==null&&(Qx($n),$n=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=s,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Ct.current&1?Xt===0&&(Xt=3):Q0())),e.updateQueue!==null&&(e.flags|=4),ps(e),null);case 4:return Ql(),Vx(t,e),t===null&&$d(e.stateNode.containerInfo),ps(e),null;case 10:return A0(e.type._context),ps(e),null;case 17:return qs(e.type)&&Lf(),ps(e),null;case 19:if(bt(Ct),a=e.memoizedState,a===null)return ps(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)Uc(a,!1);else{if(Xt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Hf(t),o!==null){for(e.flags|=128,Uc(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=s,s=e.child;s!==null;)a=s,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s=s.sibling;return mt(Ct,Ct.current&1|2),e.child}t=t.sibling}a.tail!==null&&Ft()>Yl&&(e.flags|=128,n=!0,Uc(a,!1),e.lanes=4194304)}else{if(!n)if(t=Hf(o),t!==null){if(e.flags|=128,n=!0,s=t.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),Uc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!wt)return ps(e),null}else 2*Ft()-a.renderingStartTime>Yl&&s!==1073741824&&(e.flags|=128,n=!0,Uc(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(s=a.last,s!==null?s.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Ft(),e.sibling=null,s=Ct.current,mt(Ct,n?s&1|2:s&1),e):(ps(e),null);case 22:case 23:return G0(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?en&1073741824&&(ps(e),e.subtreeFlags&6&&(e.flags|=8192)):ps(e),null;case 24:return null;case 25:return null}throw Error(se(156,e.tag))}function Z5(t,e){switch(I0(e),e.tag){case 1:return qs(e.type)&&Lf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ql(),bt(Ws),bt(bs),L0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return O0(e),null;case 13:if(bt(Ct),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(se(340));Kl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return bt(Ct),null;case 4:return Ql(),null;case 10:return A0(e.type._context),null;case 22:case 23:return G0(),null;case 24:return null;default:return null}}var Nh=!1,ys=!1,Y5=typeof WeakSet=="function"?WeakSet:Set,xe=null;function al(t,e){var s=t.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){Tt(t,e,n)}else s.current=null}function $x(t,e,s){try{s()}catch(n){Tt(t,e,n)}}var ej=!1;function X5(t,e){if(_x=Mf,t=vI(),C0(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var r=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{s.nodeType,a.nodeType}catch{s=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=t,f=null;t:for(;;){for(var p;h!==s||r!==0&&h.nodeType!==3||(l=o+r),h!==a||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===s&&++d===r&&(l=o),f===a&&++u===n&&(c=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}s=l===-1||c===-1?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(Cx={focusedElem:t,selectionRange:s},Mf=!1,xe=e;xe!==null;)if(e=xe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,xe=t;else for(;xe!==null;){e=xe;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var m=b.memoizedProps,g=b.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?m:Fn(e.type,m),g);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(se(163))}}catch(j){Tt(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,xe=t;break}xe=e.return}return b=ej,ej=!1,b}function yd(t,e,s){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do{if((r.tag&t)===t){var a=r.destroy;r.destroy=void 0,a!==void 0&&$x(e,s,a)}r=r.next}while(r!==n)}}function ep(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var s=e=e.next;do{if((s.tag&t)===t){var n=s.create;s.destroy=n()}s=s.next}while(s!==e)}}function Bx(t){var e=t.ref;if(e!==null){var s=t.stateNode;switch(t.tag){case 5:t=s;break;default:t=s}typeof e=="function"?e(t):e.current=t}}function pE(t){var e=t.alternate;e!==null&&(t.alternate=null,pE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vr],delete e[Hd],delete e[Ex],delete e[R5],delete e[D5])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gE(t){return t.tag===5||t.tag===3||t.tag===4}function tj(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hx(t,e,s){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?s.nodeType===8?s.parentNode.insertBefore(t,e):s.insertBefore(t,e):(s.nodeType===8?(e=s.parentNode,e.insertBefore(t,s)):(e=s,e.appendChild(t)),s=s._reactRootContainer,s!=null||e.onclick!==null||(e.onclick=Of));else if(n!==4&&(t=t.child,t!==null))for(Hx(t,e,s),t=t.sibling;t!==null;)Hx(t,e,s),t=t.sibling}function Wx(t,e,s){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?s.insertBefore(t,e):s.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Wx(t,e,s),t=t.sibling;t!==null;)Wx(t,e,s),t=t.sibling}var os=null,zn=!1;function Ci(t,e,s){for(s=s.child;s!==null;)xE(t,e,s),s=s.sibling}function xE(t,e,s){if(Cr&&typeof Cr.onCommitFiberUnmount=="function")try{Cr.onCommitFiberUnmount(qm,s)}catch{}switch(s.tag){case 5:ys||al(s,e);case 6:var n=os,r=zn;os=null,Ci(t,e,s),os=n,zn=r,os!==null&&(zn?(t=os,s=s.stateNode,t.nodeType===8?t.parentNode.removeChild(s):t.removeChild(s)):os.removeChild(s.stateNode));break;case 18:os!==null&&(zn?(t=os,s=s.stateNode,t.nodeType===8?ag(t.parentNode,s):t.nodeType===1&&ag(t,s),Ud(t)):ag(os,s.stateNode));break;case 4:n=os,r=zn,os=s.stateNode.containerInfo,zn=!0,Ci(t,e,s),os=n,zn=r;break;case 0:case 11:case 14:case 15:if(!ys&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){r=n=n.next;do{var a=r,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&$x(s,e,o),r=r.next}while(r!==n)}Ci(t,e,s);break;case 1:if(!ys&&(al(s,e),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(l){Tt(s,e,l)}Ci(t,e,s);break;case 21:Ci(t,e,s);break;case 22:s.mode&1?(ys=(n=ys)||s.memoizedState!==null,Ci(t,e,s),ys=n):Ci(t,e,s);break;default:Ci(t,e,s)}}function sj(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var s=t.stateNode;s===null&&(s=t.stateNode=new Y5),e.forEach(function(n){var r=o3.bind(null,t,n);s.has(n)||(s.add(n),n.then(r,r))})}}function On(t,e){var s=e.deletions;if(s!==null)for(var n=0;n<s.length;n++){var r=s[n];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:os=l.stateNode,zn=!1;break e;case 3:os=l.stateNode.containerInfo,zn=!0;break e;case 4:os=l.stateNode.containerInfo,zn=!0;break e}l=l.return}if(os===null)throw Error(se(160));xE(a,o,r),os=null,zn=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(d){Tt(r,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)yE(e,t),e=e.sibling}function yE(t,e){var s=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(On(e,t),dr(t),n&4){try{yd(3,t,t.return),ep(3,t)}catch(m){Tt(t,t.return,m)}try{yd(5,t,t.return)}catch(m){Tt(t,t.return,m)}}break;case 1:On(e,t),dr(t),n&512&&s!==null&&al(s,s.return);break;case 5:if(On(e,t),dr(t),n&512&&s!==null&&al(s,s.return),t.flags&32){var r=t.stateNode;try{Dd(r,"")}catch(m){Tt(t,t.return,m)}}if(n&4&&(r=t.stateNode,r!=null)){var a=t.memoizedProps,o=s!==null?s.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&z2(r,a),px(l,o);var d=px(l,a);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?W2(r,h):u==="dangerouslySetInnerHTML"?B2(r,h):u==="children"?Dd(r,h):f0(r,u,h,d)}switch(l){case"input":dx(r,a);break;case"textarea":V2(r,a);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?dl(r,!!a.multiple,p,!1):f!==!!a.multiple&&(a.defaultValue!=null?dl(r,!!a.multiple,a.defaultValue,!0):dl(r,!!a.multiple,a.multiple?[]:"",!1))}r[Hd]=a}catch(m){Tt(t,t.return,m)}}break;case 6:if(On(e,t),dr(t),n&4){if(t.stateNode===null)throw Error(se(162));r=t.stateNode,a=t.memoizedProps;try{r.nodeValue=a}catch(m){Tt(t,t.return,m)}}break;case 3:if(On(e,t),dr(t),n&4&&s!==null&&s.memoizedState.isDehydrated)try{Ud(e.containerInfo)}catch(m){Tt(t,t.return,m)}break;case 4:On(e,t),dr(t);break;case 13:On(e,t),dr(t),r=t.child,r.flags&8192&&(a=r.memoizedState!==null,r.stateNode.isHidden=a,!a||r.alternate!==null&&r.alternate.memoizedState!==null||(q0=Ft())),n&4&&sj(t);break;case 22:if(u=s!==null&&s.memoizedState!==null,t.mode&1?(ys=(d=ys)||u,On(e,t),ys=d):On(e,t),dr(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(xe=t,u=t.child;u!==null;){for(h=xe=u;xe!==null;){switch(f=xe,p=f.child,f.tag){case 0:case 11:case 14:case 15:yd(4,f,f.return);break;case 1:al(f,f.return);var b=f.stateNode;if(typeof b.componentWillUnmount=="function"){n=f,s=f.return;try{e=n,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(m){Tt(n,s,m)}}break;case 5:al(f,f.return);break;case 22:if(f.memoizedState!==null){rj(h);continue}}p!==null?(p.return=f,xe=p):rj(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{r=h.stateNode,d?(a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=H2("display",o))}catch(m){Tt(t,t.return,m)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(m){Tt(t,t.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:On(e,t),dr(t),n&4&&sj(t);break;case 21:break;default:On(e,t),dr(t)}}function dr(t){var e=t.flags;if(e&2){try{e:{for(var s=t.return;s!==null;){if(gE(s)){var n=s;break e}s=s.return}throw Error(se(160))}switch(n.tag){case 5:var r=n.stateNode;n.flags&32&&(Dd(r,""),n.flags&=-33);var a=tj(t);Wx(t,a,r);break;case 3:case 4:var o=n.stateNode.containerInfo,l=tj(t);Hx(t,l,o);break;default:throw Error(se(161))}}catch(c){Tt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function J5(t,e,s){xe=t,vE(t)}function vE(t,e,s){for(var n=(t.mode&1)!==0;xe!==null;){var r=xe,a=r.child;if(r.tag===22&&n){var o=r.memoizedState!==null||Nh;if(!o){var l=r.alternate,c=l!==null&&l.memoizedState!==null||ys;l=Nh;var d=ys;if(Nh=o,(ys=c)&&!d)for(xe=r;xe!==null;)o=xe,c=o.child,o.tag===22&&o.memoizedState!==null?ij(r):c!==null?(c.return=o,xe=c):ij(r);for(;a!==null;)xe=a,vE(a),a=a.sibling;xe=r,Nh=l,ys=d}nj(t)}else r.subtreeFlags&8772&&a!==null?(a.return=r,xe=a):nj(t)}}function nj(t){for(;xe!==null;){var e=xe;if(e.flags&8772){var s=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ys||ep(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ys)if(s===null)n.componentDidMount();else{var r=e.elementType===e.type?s.memoizedProps:Fn(e.type,s.memoizedProps);n.componentDidUpdate(r,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&Vw(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(s=null,e.child!==null)switch(e.child.tag){case 5:s=e.child.stateNode;break;case 1:s=e.child.stateNode}Vw(e,o,s)}break;case 5:var l=e.stateNode;if(s===null&&e.flags&4){s=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Ud(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(se(163))}ys||e.flags&512&&Bx(e)}catch(f){Tt(e,e.return,f)}}if(e===t){xe=null;break}if(s=e.sibling,s!==null){s.return=e.return,xe=s;break}xe=e.return}}function rj(t){for(;xe!==null;){var e=xe;if(e===t){xe=null;break}var s=e.sibling;if(s!==null){s.return=e.return,xe=s;break}xe=e.return}}function ij(t){for(;xe!==null;){var e=xe;try{switch(e.tag){case 0:case 11:case 15:var s=e.return;try{ep(4,e)}catch(c){Tt(e,s,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var r=e.return;try{n.componentDidMount()}catch(c){Tt(e,r,c)}}var a=e.return;try{Bx(e)}catch(c){Tt(e,a,c)}break;case 5:var o=e.return;try{Bx(e)}catch(c){Tt(e,o,c)}}}catch(c){Tt(e,e.return,c)}if(e===t){xe=null;break}var l=e.sibling;if(l!==null){l.return=e.return,xe=l;break}xe=e.return}}var e3=Math.ceil,Kf=Si.ReactCurrentDispatcher,H0=Si.ReactCurrentOwner,kn=Si.ReactCurrentBatchConfig,tt=0,ts=null,Wt=null,ds=0,en=0,ol=ka(0),Xt=0,Zd=null,yo=0,tp=0,W0=0,vd=null,$s=null,q0=0,Yl=1/0,Yr=null,Gf=!1,qx=null,aa=null,Sh=!1,Xi=null,Qf=0,bd=0,Kx=null,of=-1,lf=0;function Ms(){return tt&6?Ft():of!==-1?of:of=Ft()}function oa(t){return t.mode&1?tt&2&&ds!==0?ds&-ds:L5.transition!==null?(lf===0&&(lf=nI()),lf):(t=lt,t!==0||(t=window.event,t=t===void 0?16:dI(t.type)),t):1}function Yn(t,e,s,n){if(50<bd)throw bd=0,Kx=null,Error(se(185));Mu(t,s,n),(!(tt&2)||t!==ts)&&(t===ts&&(!(tt&2)&&(tp|=s),Xt===4&&Li(t,ds)),Ks(t,n),s===1&&tt===0&&!(e.mode&1)&&(Yl=Ft()+500,Ym&&Ia()))}function Ks(t,e){var s=t.callbackNode;LF(t,e);var n=Af(t,t===ts?ds:0);if(n===0)s!==null&&mw(s),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(s!=null&&mw(s),e===1)t.tag===0?O5(aj.bind(null,t)):EI(aj.bind(null,t)),A5(function(){!(tt&6)&&Ia()}),s=null;else{switch(rI(n)){case 1:s=y0;break;case 4:s=tI;break;case 16:s=Tf;break;case 536870912:s=sI;break;default:s=Tf}s=kE(s,bE.bind(null,t))}t.callbackPriority=e,t.callbackNode=s}}function bE(t,e){if(of=-1,lf=0,tt&6)throw Error(se(327));var s=t.callbackNode;if(pl()&&t.callbackNode!==s)return null;var n=Af(t,t===ts?ds:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Zf(t,n);else{e=n;var r=tt;tt|=2;var a=jE();(ts!==t||ds!==e)&&(Yr=null,Yl=Ft()+500,ro(t,e));do try{n3();break}catch(l){wE(t,l)}while(!0);T0(),Kf.current=a,tt=r,Wt!==null?e=0:(ts=null,ds=0,e=Xt)}if(e!==0){if(e===2&&(r=bx(t),r!==0&&(n=r,e=Gx(t,r))),e===1)throw s=Zd,ro(t,0),Li(t,n),Ks(t,Ft()),s;if(e===6)Li(t,n);else{if(r=t.current.alternate,!(n&30)&&!t3(r)&&(e=Zf(t,n),e===2&&(a=bx(t),a!==0&&(n=a,e=Gx(t,a))),e===1))throw s=Zd,ro(t,0),Li(t,n),Ks(t,Ft()),s;switch(t.finishedWork=r,t.finishedLanes=n,e){case 0:case 1:throw Error(se(345));case 2:Fa(t,$s,Yr);break;case 3:if(Li(t,n),(n&130023424)===n&&(e=q0+500-Ft(),10<e)){if(Af(t,0)!==0)break;if(r=t.suspendedLanes,(r&n)!==n){Ms(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Ix(Fa.bind(null,t,$s,Yr),e);break}Fa(t,$s,Yr);break;case 4:if(Li(t,n),(n&4194240)===n)break;for(e=t.eventTimes,r=-1;0<n;){var o=31-Zn(n);a=1<<o,o=e[o],o>r&&(r=o),n&=~a}if(n=r,n=Ft()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*e3(n/1960))-n,10<n){t.timeoutHandle=Ix(Fa.bind(null,t,$s,Yr),n);break}Fa(t,$s,Yr);break;case 5:Fa(t,$s,Yr);break;default:throw Error(se(329))}}}return Ks(t,Ft()),t.callbackNode===s?bE.bind(null,t):null}function Gx(t,e){var s=vd;return t.current.memoizedState.isDehydrated&&(ro(t,e).flags|=256),t=Zf(t,e),t!==2&&(e=$s,$s=s,e!==null&&Qx(e)),t}function Qx(t){$s===null?$s=t:$s.push.apply($s,t)}function t3(t){for(var e=t;;){if(e.flags&16384){var s=e.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var r=s[n],a=r.getSnapshot;r=r.value;try{if(!nr(a(),r))return!1}catch{return!1}}}if(s=e.child,e.subtreeFlags&16384&&s!==null)s.return=e,e=s;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Li(t,e){for(e&=~W0,e&=~tp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var s=31-Zn(e),n=1<<s;t[s]=-1,e&=~n}}function aj(t){if(tt&6)throw Error(se(327));pl();var e=Af(t,0);if(!(e&1))return Ks(t,Ft()),null;var s=Zf(t,e);if(t.tag!==0&&s===2){var n=bx(t);n!==0&&(e=n,s=Gx(t,n))}if(s===1)throw s=Zd,ro(t,0),Li(t,e),Ks(t,Ft()),s;if(s===6)throw Error(se(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fa(t,$s,Yr),Ks(t,Ft()),null}function K0(t,e){var s=tt;tt|=1;try{return t(e)}finally{tt=s,tt===0&&(Yl=Ft()+500,Ym&&Ia())}}function vo(t){Xi!==null&&Xi.tag===0&&!(tt&6)&&pl();var e=tt;tt|=1;var s=kn.transition,n=lt;try{if(kn.transition=null,lt=1,t)return t()}finally{lt=n,kn.transition=s,tt=e,!(tt&6)&&Ia()}}function G0(){en=ol.current,bt(ol)}function ro(t,e){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;if(s!==-1&&(t.timeoutHandle=-1,T5(s)),Wt!==null)for(s=Wt.return;s!==null;){var n=s;switch(I0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Lf();break;case 3:Ql(),bt(Ws),bt(bs),L0();break;case 5:O0(n);break;case 4:Ql();break;case 13:bt(Ct);break;case 19:bt(Ct);break;case 10:A0(n.type._context);break;case 22:case 23:G0()}s=s.return}if(ts=t,Wt=t=la(t.current,null),ds=en=e,Xt=0,Zd=null,W0=tp=yo=0,$s=vd=null,Ha!==null){for(e=0;e<Ha.length;e++)if(s=Ha[e],n=s.interleaved,n!==null){s.interleaved=null;var r=n.next,a=s.pending;if(a!==null){var o=a.next;a.next=r,n.next=o}s.pending=n}Ha=null}return t}function wE(t,e){do{var s=Wt;try{if(T0(),nf.current=qf,Wf){for(var n=It.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Wf=!1}if(xo=0,Jt=Zt=It=null,xd=!1,Kd=0,H0.current=null,s===null||s.return===null){Xt=1,Zd=e,Wt=null;break}e:{var a=t,o=s.return,l=s,c=e;if(e=ds,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Kw(o);if(p!==null){p.flags&=-257,Gw(p,o,l,a,e),p.mode&1&&qw(a,d,e),e=p,c=d;var b=e.updateQueue;if(b===null){var m=new Set;m.add(c),e.updateQueue=m}else b.add(c);break e}else{if(!(e&1)){qw(a,d,e),Q0();break e}c=Error(se(426))}}else if(wt&&l.mode&1){var g=Kw(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),Gw(g,o,l,a,e),E0(Zl(c,l));break e}}a=c=Zl(c,l),Xt!==4&&(Xt=2),vd===null?vd=[a]:vd.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var v=rE(a,c,e);zw(a,v);break e;case 1:l=c;var y=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(aa===null||!aa.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var j=iE(a,l,e);zw(a,j);break e}}a=a.return}while(a!==null)}SE(s)}catch(N){e=N,Wt===s&&s!==null&&(Wt=s=s.return);continue}break}while(!0)}function jE(){var t=Kf.current;return Kf.current=qf,t===null?qf:t}function Q0(){(Xt===0||Xt===3||Xt===2)&&(Xt=4),ts===null||!(yo&268435455)&&!(tp&268435455)||Li(ts,ds)}function Zf(t,e){var s=tt;tt|=2;var n=jE();(ts!==t||ds!==e)&&(Yr=null,ro(t,e));do try{s3();break}catch(r){wE(t,r)}while(!0);if(T0(),tt=s,Kf.current=n,Wt!==null)throw Error(se(261));return ts=null,ds=0,Xt}function s3(){for(;Wt!==null;)NE(Wt)}function n3(){for(;Wt!==null&&!IF();)NE(Wt)}function NE(t){var e=CE(t.alternate,t,en);t.memoizedProps=t.pendingProps,e===null?SE(t):Wt=e,H0.current=null}function SE(t){var e=t;do{var s=e.alternate;if(t=e.return,e.flags&32768){if(s=Z5(s,e),s!==null){s.flags&=32767,Wt=s;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xt=6,Wt=null;return}}else if(s=Q5(s,e,en),s!==null){Wt=s;return}if(e=e.sibling,e!==null){Wt=e;return}Wt=e=t}while(e!==null);Xt===0&&(Xt=5)}function Fa(t,e,s){var n=lt,r=kn.transition;try{kn.transition=null,lt=1,r3(t,e,s,n)}finally{kn.transition=r,lt=n}return null}function r3(t,e,s,n){do pl();while(Xi!==null);if(tt&6)throw Error(se(327));s=t.finishedWork;var r=t.finishedLanes;if(s===null)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(se(177));t.callbackNode=null,t.callbackPriority=0;var a=s.lanes|s.childLanes;if(FF(t,a),t===ts&&(Wt=ts=null,ds=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Sh||(Sh=!0,kE(Tf,function(){return pl(),null})),a=(s.flags&15990)!==0,s.subtreeFlags&15990||a){a=kn.transition,kn.transition=null;var o=lt;lt=1;var l=tt;tt|=4,H0.current=null,X5(t,s),yE(s,t),S5(Cx),Mf=!!_x,Cx=_x=null,t.current=s,J5(s),EF(),tt=l,lt=o,kn.transition=a}else t.current=s;if(Sh&&(Sh=!1,Xi=t,Qf=r),a=t.pendingLanes,a===0&&(aa=null),AF(s.stateNode),Ks(t,Ft()),e!==null)for(n=t.onRecoverableError,s=0;s<e.length;s++)r=e[s],n(r.value,{componentStack:r.stack,digest:r.digest});if(Gf)throw Gf=!1,t=qx,qx=null,t;return Qf&1&&t.tag!==0&&pl(),a=t.pendingLanes,a&1?t===Kx?bd++:(bd=0,Kx=t):bd=0,Ia(),null}function pl(){if(Xi!==null){var t=rI(Qf),e=kn.transition,s=lt;try{if(kn.transition=null,lt=16>t?16:t,Xi===null)var n=!1;else{if(t=Xi,Xi=null,Qf=0,tt&6)throw Error(se(331));var r=tt;for(tt|=4,xe=t.current;xe!==null;){var a=xe,o=a.child;if(xe.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(xe=d;xe!==null;){var u=xe;switch(u.tag){case 0:case 11:case 15:yd(8,u,a)}var h=u.child;if(h!==null)h.return=u,xe=h;else for(;xe!==null;){u=xe;var f=u.sibling,p=u.return;if(pE(u),u===d){xe=null;break}if(f!==null){f.return=p,xe=f;break}xe=p}}}var b=a.alternate;if(b!==null){var m=b.child;if(m!==null){b.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(m!==null)}}xe=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,xe=o;else e:for(;xe!==null;){if(a=xe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:yd(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,xe=v;break e}xe=a.return}}var y=t.current;for(xe=y;xe!==null;){o=xe;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,xe=w;else e:for(o=y;xe!==null;){if(l=xe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ep(9,l)}}catch(N){Tt(l,l.return,N)}if(l===o){xe=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,xe=j;break e}xe=l.return}}if(tt=r,Ia(),Cr&&typeof Cr.onPostCommitFiberRoot=="function")try{Cr.onPostCommitFiberRoot(qm,t)}catch{}n=!0}return n}finally{lt=s,kn.transition=e}}return!1}function oj(t,e,s){e=Zl(s,e),e=rE(t,e,1),t=ia(t,e,1),e=Ms(),t!==null&&(Mu(t,1,e),Ks(t,e))}function Tt(t,e,s){if(t.tag===3)oj(t,t,s);else for(;e!==null;){if(e.tag===3){oj(e,t,s);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(aa===null||!aa.has(n))){t=Zl(s,t),t=iE(e,t,1),e=ia(e,t,1),t=Ms(),e!==null&&(Mu(e,1,t),Ks(e,t));break}}e=e.return}}function i3(t,e,s){var n=t.pingCache;n!==null&&n.delete(e),e=Ms(),t.pingedLanes|=t.suspendedLanes&s,ts===t&&(ds&s)===s&&(Xt===4||Xt===3&&(ds&130023424)===ds&&500>Ft()-q0?ro(t,0):W0|=s),Ks(t,e)}function _E(t,e){e===0&&(t.mode&1?(e=mh,mh<<=1,!(mh&130023424)&&(mh=4194304)):e=1);var s=Ms();t=xi(t,e),t!==null&&(Mu(t,e,s),Ks(t,s))}function a3(t){var e=t.memoizedState,s=0;e!==null&&(s=e.retryLane),_E(t,s)}function o3(t,e){var s=0;switch(t.tag){case 13:var n=t.stateNode,r=t.memoizedState;r!==null&&(s=r.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(se(314))}n!==null&&n.delete(e),_E(t,s)}var CE;CE=function(t,e,s){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ws.current)Hs=!0;else{if(!(t.lanes&s)&&!(e.flags&128))return Hs=!1,G5(t,e,s);Hs=!!(t.flags&131072)}else Hs=!1,wt&&e.flags&1048576&&PI(e,zf,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;af(t,e),t=e.pendingProps;var r=ql(e,bs.current);ml(e,s),r=U0(null,e,n,t,r,s);var a=z0();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,qs(n)?(a=!0,Ff(e)):a=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,R0(e),r.updater=Jm,e.stateNode=r,r._reactInternals=e,Dx(e,n,t,s),e=Fx(null,e,n,!0,a,s)):(e.tag=0,wt&&a&&k0(e),Es(null,e,r,s),e=e.child),e;case 16:n=e.elementType;e:{switch(af(t,e),t=e.pendingProps,r=n._init,n=r(n._payload),e.type=n,r=e.tag=c3(n),t=Fn(n,t),r){case 0:e=Lx(null,e,n,t,s);break e;case 1:e=Yw(null,e,n,t,s);break e;case 11:e=Qw(null,e,n,t,s);break e;case 14:e=Zw(null,e,n,Fn(n.type,t),s);break e}throw Error(se(306,n,""))}return e;case 0:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:Fn(n,r),Lx(t,e,n,r,s);case 1:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:Fn(n,r),Yw(t,e,n,r,s);case 3:e:{if(cE(e),t===null)throw Error(se(387));n=e.pendingProps,a=e.memoizedState,r=a.element,OI(t,e),Bf(e,n,null,s);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){r=Zl(Error(se(423)),e),e=Xw(t,e,n,s,r);break e}else if(n!==r){r=Zl(Error(se(424)),e),e=Xw(t,e,n,s,r);break e}else for(nn=ra(e.stateNode.containerInfo.firstChild),rn=e,wt=!0,$n=null,s=RI(e,null,n,s),e.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Kl(),n===r){e=yi(t,e,s);break e}Es(t,e,n,s)}e=e.child}return e;case 5:return LI(e),t===null&&Ax(e),n=e.type,r=e.pendingProps,a=t!==null?t.memoizedProps:null,o=r.children,kx(n,r)?o=null:a!==null&&kx(n,a)&&(e.flags|=32),lE(t,e),Es(t,e,o,s),e.child;case 6:return t===null&&Ax(e),null;case 13:return dE(t,e,s);case 4:return D0(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Gl(e,null,n,s):Es(t,e,n,s),e.child;case 11:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:Fn(n,r),Qw(t,e,n,r,s);case 7:return Es(t,e,e.pendingProps,s),e.child;case 8:return Es(t,e,e.pendingProps.children,s),e.child;case 12:return Es(t,e,e.pendingProps.children,s),e.child;case 10:e:{if(n=e.type._context,r=e.pendingProps,a=e.memoizedProps,o=r.value,mt(Vf,n._currentValue),n._currentValue=o,a!==null)if(nr(a.value,o)){if(a.children===r.children&&!Ws.current){e=yi(t,e,s);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=ci(-1,s&-s),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=s,c=a.alternate,c!==null&&(c.lanes|=s),Mx(a.return,s,e),l.lanes|=s;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(se(341));o.lanes|=s,l=o.alternate,l!==null&&(l.lanes|=s),Mx(o,s,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Es(t,e,r.children,s),e=e.child}return e;case 9:return r=e.type,n=e.pendingProps.children,ml(e,s),r=En(r),n=n(r),e.flags|=1,Es(t,e,n,s),e.child;case 14:return n=e.type,r=Fn(n,e.pendingProps),r=Fn(n.type,r),Zw(t,e,n,r,s);case 15:return aE(t,e,e.type,e.pendingProps,s);case 17:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:Fn(n,r),af(t,e),e.tag=1,qs(n)?(t=!0,Ff(e)):t=!1,ml(e,s),nE(e,n,r),Dx(e,n,r,s),Fx(null,e,n,!0,t,s);case 19:return uE(t,e,s);case 22:return oE(t,e,s)}throw Error(se(156,e.tag))};function kE(t,e){return eI(t,e)}function l3(t,e,s,n){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(t,e,s,n){return new l3(t,e,s,n)}function Z0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function c3(t){if(typeof t=="function")return Z0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===p0)return 11;if(t===g0)return 14}return 2}function la(t,e){var s=t.alternate;return s===null?(s=Nn(t.tag,e,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=e,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&14680064,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,e=t.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s}function cf(t,e,s,n,r,a){var o=2;if(n=t,typeof t=="function")Z0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Yo:return io(s.children,r,a,e);case m0:o=8,r|=8;break;case ix:return t=Nn(12,s,e,r|2),t.elementType=ix,t.lanes=a,t;case ax:return t=Nn(13,s,e,r),t.elementType=ax,t.lanes=a,t;case ox:return t=Nn(19,s,e,r),t.elementType=ox,t.lanes=a,t;case L2:return sp(s,r,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case D2:o=10;break e;case O2:o=9;break e;case p0:o=11;break e;case g0:o=14;break e;case Ri:o=16,n=null;break e}throw Error(se(130,t==null?t:typeof t,""))}return e=Nn(o,s,e,r),e.elementType=t,e.type=n,e.lanes=a,e}function io(t,e,s,n){return t=Nn(7,t,n,e),t.lanes=s,t}function sp(t,e,s,n){return t=Nn(22,t,n,e),t.elementType=L2,t.lanes=s,t.stateNode={isHidden:!1},t}function mg(t,e,s){return t=Nn(6,t,null,e),t.lanes=s,t}function pg(t,e,s){return e=Nn(4,t.children!==null?t.children:[],t.key,e),e.lanes=s,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function d3(t,e,s,n,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qp(0),this.expirationTimes=Qp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qp(0),this.identifierPrefix=n,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Y0(t,e,s,n,r,a,o,l,c){return t=new d3(t,e,s,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Nn(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},R0(a),t}function u3(t,e,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zo,key:n==null?null:""+n,children:t,containerInfo:e,implementation:s}}function IE(t){if(!t)return ga;t=t._reactInternals;e:{if(Lo(t)!==t||t.tag!==1)throw Error(se(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(qs(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(se(171))}if(t.tag===1){var s=t.type;if(qs(s))return II(t,s,e)}return e}function EE(t,e,s,n,r,a,o,l,c){return t=Y0(s,n,!0,t,r,a,o,l,c),t.context=IE(null),s=t.current,n=Ms(),r=oa(s),a=ci(n,r),a.callback=e??null,ia(s,a,r),t.current.lanes=r,Mu(t,r,n),Ks(t,n),t}function np(t,e,s,n){var r=e.current,a=Ms(),o=oa(r);return s=IE(s),e.context===null?e.context=s:e.pendingContext=s,e=ci(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=ia(r,e,o),t!==null&&(Yn(t,r,o,a),sf(t,r,o)),o}function Yf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lj(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<e?s:e}}function X0(t,e){lj(t,e),(t=t.alternate)&&lj(t,e)}function h3(){return null}var PE=typeof reportError=="function"?reportError:function(t){console.error(t)};function J0(t){this._internalRoot=t}rp.prototype.render=J0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(se(409));np(t,e,null,null)};rp.prototype.unmount=J0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;vo(function(){np(null,t,null,null)}),e[gi]=null}};function rp(t){this._internalRoot=t}rp.prototype.unstable_scheduleHydration=function(t){if(t){var e=oI();t={blockedOn:null,target:t,priority:e};for(var s=0;s<Oi.length&&e!==0&&e<Oi[s].priority;s++);Oi.splice(s,0,t),s===0&&cI(t)}};function ev(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ip(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function cj(){}function f3(t,e,s,n,r){if(r){if(typeof n=="function"){var a=n;n=function(){var d=Yf(o);a.call(d)}}var o=EE(e,n,t,0,null,!1,!1,"",cj);return t._reactRootContainer=o,t[gi]=o.current,$d(t.nodeType===8?t.parentNode:t),vo(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof n=="function"){var l=n;n=function(){var d=Yf(c);l.call(d)}}var c=Y0(t,0,!1,null,null,!1,!1,"",cj);return t._reactRootContainer=c,t[gi]=c.current,$d(t.nodeType===8?t.parentNode:t),vo(function(){np(e,c,s,n)}),c}function ap(t,e,s,n,r){var a=s._reactRootContainer;if(a){var o=a;if(typeof r=="function"){var l=r;r=function(){var c=Yf(o);l.call(c)}}np(e,o,t,r)}else o=f3(s,e,t,r,n);return Yf(o)}iI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var s=ed(e.pendingLanes);s!==0&&(v0(e,s|1),Ks(e,Ft()),!(tt&6)&&(Yl=Ft()+500,Ia()))}break;case 13:vo(function(){var n=xi(t,1);if(n!==null){var r=Ms();Yn(n,t,1,r)}}),X0(t,1)}};b0=function(t){if(t.tag===13){var e=xi(t,134217728);if(e!==null){var s=Ms();Yn(e,t,134217728,s)}X0(t,134217728)}};aI=function(t){if(t.tag===13){var e=oa(t),s=xi(t,e);if(s!==null){var n=Ms();Yn(s,t,e,n)}X0(t,e)}};oI=function(){return lt};lI=function(t,e){var s=lt;try{return lt=t,e()}finally{lt=s}};xx=function(t,e,s){switch(e){case"input":if(dx(t,s),e=s.name,s.type==="radio"&&e!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<s.length;e++){var n=s[e];if(n!==t&&n.form===t.form){var r=Zm(n);if(!r)throw Error(se(90));U2(n),dx(n,r)}}}break;case"textarea":V2(t,s);break;case"select":e=s.value,e!=null&&dl(t,!!s.multiple,e,!1)}};G2=K0;Q2=vo;var m3={usingClientEntryPoint:!1,Events:[Du,tl,Zm,q2,K2,K0]},zc={findFiberByHostInstance:Ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},p3={bundleType:zc.bundleType,version:zc.version,rendererPackageName:zc.rendererPackageName,rendererConfig:zc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Si.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=X2(t),t===null?null:t.stateNode},findFiberByHostInstance:zc.findFiberByHostInstance||h3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_h.isDisabled&&_h.supportsFiber)try{qm=_h.inject(p3),Cr=_h}catch{}}un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m3;un.createPortal=function(t,e){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ev(e))throw Error(se(200));return u3(t,e,null,s)};un.createRoot=function(t,e){if(!ev(t))throw Error(se(299));var s=!1,n="",r=PE;return e!=null&&(e.unstable_strictMode===!0&&(s=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Y0(t,1,!1,null,null,s,!1,n,r),t[gi]=e.current,$d(t.nodeType===8?t.parentNode:t),new J0(e)};un.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(se(188)):(t=Object.keys(t).join(","),Error(se(268,t)));return t=X2(e),t=t===null?null:t.stateNode,t};un.flushSync=function(t){return vo(t)};un.hydrate=function(t,e,s){if(!ip(e))throw Error(se(200));return ap(null,t,e,!0,s)};un.hydrateRoot=function(t,e,s){if(!ev(t))throw Error(se(405));var n=s!=null&&s.hydratedSources||null,r=!1,a="",o=PE;if(s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),e=EE(e,null,t,1,s??null,r,!1,a,o),t[gi]=e.current,$d(t),n)for(t=0;t<n.length;t++)s=n[t],r=s._getVersion,r=r(s._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[s,r]:e.mutableSourceEagerHydrationData.push(s,r);return new rp(e)};un.render=function(t,e,s){if(!ip(e))throw Error(se(200));return ap(null,t,e,!1,s)};un.unmountComponentAtNode=function(t){if(!ip(t))throw Error(se(40));return t._reactRootContainer?(vo(function(){ap(null,null,t,!1,function(){t._reactRootContainer=null,t[gi]=null})}),!0):!1};un.unstable_batchedUpdates=K0;un.unstable_renderSubtreeIntoContainer=function(t,e,s,n){if(!ip(s))throw Error(se(200));if(t==null||t._reactInternals===void 0)throw Error(se(38));return ap(t,e,s,!1,n)};un.version="18.3.1-next-f1338f8080-20240426";function TE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(TE)}catch(t){console.error(t)}}TE(),T2.exports=un;var Fo=T2.exports;const g3=y2(Fo);var AE,dj=Fo;AE=dj.createRoot,dj.hydrateRoot;function x3(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var s,n,r,a,o=[],l="",c=t.split("/");for(c[0]||c.shift();r=c.shift();)s=r[0],s==="*"?(o.push(s),l+=r[1]==="?"?"(?:/(.*))?":"/(.*)"):s===":"?(n=r.indexOf("?",1),a=r.indexOf(".",1),o.push(r.substring(1,~n?n:~a?a:r.length)),l+=~n&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~n?"?":"")+"\\"+r.substring(a))):l+="/"+r;return{keys:o,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}var ME={exports:{}},RE={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xl=x;function y3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var v3=typeof Object.is=="function"?Object.is:y3,b3=Xl.useState,w3=Xl.useEffect,j3=Xl.useLayoutEffect,N3=Xl.useDebugValue;function S3(t,e){var s=e(),n=b3({inst:{value:s,getSnapshot:e}}),r=n[0].inst,a=n[1];return j3(function(){r.value=s,r.getSnapshot=e,gg(r)&&a({inst:r})},[t,s,e]),w3(function(){return gg(r)&&a({inst:r}),t(function(){gg(r)&&a({inst:r})})},[t]),N3(s),s}function gg(t){var e=t.getSnapshot;t=t.value;try{var s=e();return!v3(t,s)}catch{return!0}}function _3(t,e){return e()}var C3=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?_3:S3;RE.useSyncExternalStore=Xl.useSyncExternalStore!==void 0?Xl.useSyncExternalStore:C3;ME.exports=RE;var k3=ME.exports;const I3=E2.useInsertionEffect,E3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",P3=E3?x.useLayoutEffect:x.useEffect,T3=I3||P3,DE=t=>{const e=x.useRef([t,(...s)=>e[0](...s)]).current;return T3(()=>{e[0]=t}),e[1]},A3="popstate",tv="pushState",sv="replaceState",M3="hashchange",uj=[A3,tv,sv,M3],R3=t=>{for(const e of uj)addEventListener(e,t);return()=>{for(const e of uj)removeEventListener(e,t)}},OE=(t,e)=>k3.useSyncExternalStore(R3,t,e),D3=()=>location.search,O3=({ssrSearch:t=""}={})=>OE(D3,()=>t),hj=()=>location.pathname,L3=({ssrPath:t}={})=>OE(hj,t?()=>t:hj),F3=(t,{replace:e=!1,state:s=null}={})=>history[e?sv:tv](s,"",t),U3=(t={})=>[L3(t),F3],fj=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[fj]>"u"){for(const t of[tv,sv]){const e=history[t];history[t]=function(){const s=e.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),s}}Object.defineProperty(window,fj,{value:!0})}const z3=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",LE=(t="")=>t==="/"?"":t,V3=(t,e)=>t[0]==="~"?t.slice(1):LE(e)+t,$3=(t="",e)=>z3(mj(LE(t)),mj(e)),mj=t=>{try{return decodeURI(t)}catch{return t}},FE={hook:U3,searchHook:O3,parser:x3,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},UE=x.createContext(FE),Lu=()=>x.useContext(UE),zE={},VE=x.createContext(zE),nv=()=>x.useContext(VE),op=t=>{const[e,s]=t.hook(t);return[$3(t.base,e),DE((n,r)=>s(V3(n,t.base),r))]},Ns=()=>op(Lu()),$E=(t,e,s,n)=>{const{pattern:r,keys:a}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",n),o=r.exec(s)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=a!==!1?Object.fromEntries(a.map((h,f)=>[h,c[f]])):o.groups;let u={...c};return d&&Object.assign(u,d),u})(),...n?[l]:[]]:[!1,null]},B3=({children:t,...e})=>{var u,h;const s=Lu(),n=e.hook?FE:s;let r=n;const[a,o]=((u=e.ssrPath)==null?void 0:u.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=a),e.hrefs=e.hrefs??((h=e.hook)==null?void 0:h.hrefs);let l=x.useRef({}),c=l.current,d=c;for(let f in n){const p=f==="base"?n[f]+(e[f]||""):e[f]||n[f];c===d&&p!==d[f]&&(l.current=d={...d}),d[f]=p,p!==n[f]&&(r=d)}return x.createElement(UE.Provider,{value:r,children:t})},pj=({children:t,component:e},s)=>e?x.createElement(e,{params:s}):typeof t=="function"?t(s):t,H3=t=>{let e=x.useRef(zE),s=e.current;for(const n in t)t[n]!==s[n]&&(s=t);return Object.keys(t).length===0&&(s=t),e.current=s},gt=({path:t,nest:e,match:s,...n})=>{const r=Lu(),[a]=op(r),[o,l,c]=s??$E(r.parser,t,a,e),d=H3({...nv(),...l});if(!o)return null;const u=c?x.createElement(B3,{base:c},pj(n,d)):pj(n,d);return x.createElement(VE.Provider,{value:d,children:u})},Ji=x.forwardRef((t,e)=>{const s=Lu(),[n,r]=op(s),{to:a="",href:o=a,onClick:l,asChild:c,children:d,className:u,replace:h,state:f,...p}=t,b=DE(g=>{g.ctrlKey||g.metaKey||g.altKey||g.shiftKey||g.button!==0||(l==null||l(g),g.defaultPrevented||(g.preventDefault(),r(o,t)))}),m=s.hrefs(o[0]==="~"?o.slice(1):s.base+o,s);return c&&x.isValidElement(d)?x.cloneElement(d,{onClick:b,href:m}):x.createElement("a",{...p,onClick:b,href:m,className:u!=null&&u.call?u(n===o):u,children:d,ref:e})}),BE=t=>Array.isArray(t)?t.flatMap(e=>BE(e&&e.type===x.Fragment?e.props.children:e)):[t],W3=({children:t,location:e})=>{const s=Lu(),[n]=op(s);for(const r of BE(t)){let a=0;if(x.isValidElement(r)&&(a=$E(s.parser,r.props.path,e||n,r.props.nest))[0])return x.cloneElement(r,{match:a})}return null};var yc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},bo=typeof window>"u"||"Deno"in globalThis;function pn(){}function q3(t,e){return typeof t=="function"?t(e):t}function Zx(t){return typeof t=="number"&&t>=0&&t!==1/0}function HE(t,e){return Math.max(t+(e||0)-Date.now(),0)}function gl(t,e){return typeof t=="function"?t(e):t}function Bn(t,e){return typeof t=="function"?t(e):t}function gj(t,e){const{type:s="all",exact:n,fetchStatus:r,predicate:a,queryKey:o,stale:l}=t;if(o){if(n){if(e.queryHash!==rv(o,e.options))return!1}else if(!Yd(e.queryKey,o))return!1}if(s!=="all"){const c=e.isActive();if(s==="active"&&!c||s==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||r&&r!==e.state.fetchStatus||a&&!a(e))}function xj(t,e){const{exact:s,status:n,predicate:r,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(s){if(wo(e.options.mutationKey)!==wo(a))return!1}else if(!Yd(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||r&&!r(e))}function rv(t,e){return((e==null?void 0:e.queryKeyHashFn)||wo)(t)}function wo(t){return JSON.stringify(t,(e,s)=>Yx(s)?Object.keys(s).sort().reduce((n,r)=>(n[r]=s[r],n),{}):s)}function Yd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(s=>!Yd(t[s],e[s])):!1}function WE(t,e){if(t===e)return t;const s=yj(t)&&yj(e);if(s||Yx(t)&&Yx(e)){const n=s?t:Object.keys(t),r=n.length,a=s?e:Object.keys(e),o=a.length,l=s?[]:{};let c=0;for(let d=0;d<o;d++){const u=s?d:a[d];(!s&&n.includes(u)||s)&&t[u]===void 0&&e[u]===void 0?(l[u]=void 0,c++):(l[u]=WE(t[u],e[u]),l[u]===t[u]&&t[u]!==void 0&&c++)}return r===o&&c===r?t:l}return e}function Xf(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}function yj(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Yx(t){if(!vj(t))return!1;const e=t.constructor;if(e===void 0)return!0;const s=e.prototype;return!(!vj(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function vj(t){return Object.prototype.toString.call(t)==="[object Object]"}function K3(t){return new Promise(e=>{setTimeout(e,t)})}function Xx(t,e,s){return typeof s.structuralSharing=="function"?s.structuralSharing(t,e):s.structuralSharing!==!1?WE(t,e):e}function G3(t,e,s=0){const n=[...t,e];return s&&n.length>s?n.slice(1):n}function Q3(t,e,s=0){const n=[e,...t];return s&&n.length>s?n.slice(0,-1):n}var iv=Symbol();function qE(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===iv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ya,$i,Al,jS,Z3=(jS=class extends yc{constructor(){super();Te(this,Ya);Te(this,$i);Te(this,Al);fe(this,Al,e=>{if(!bo&&window.addEventListener){const s=()=>e();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){D(this,$i)||this.setEventListener(D(this,Al))}onUnsubscribe(){var e;this.hasListeners()||((e=D(this,$i))==null||e.call(this),fe(this,$i,void 0))}setEventListener(e){var s;fe(this,Al,e),(s=D(this,$i))==null||s.call(this),fe(this,$i,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){D(this,Ya)!==e&&(fe(this,Ya,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(s=>{s(e)})}isFocused(){var e;return typeof D(this,Ya)=="boolean"?D(this,Ya):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ya=new WeakMap,$i=new WeakMap,Al=new WeakMap,jS),av=new Z3,Ml,Bi,Rl,NS,Y3=(NS=class extends yc{constructor(){super();Te(this,Ml,!0);Te(this,Bi);Te(this,Rl);fe(this,Rl,e=>{if(!bo&&window.addEventListener){const s=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",n)}}})}onSubscribe(){D(this,Bi)||this.setEventListener(D(this,Rl))}onUnsubscribe(){var e;this.hasListeners()||((e=D(this,Bi))==null||e.call(this),fe(this,Bi,void 0))}setEventListener(e){var s;fe(this,Rl,e),(s=D(this,Bi))==null||s.call(this),fe(this,Bi,e(this.setOnline.bind(this)))}setOnline(e){D(this,Ml)!==e&&(fe(this,Ml,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return D(this,Ml)}},Ml=new WeakMap,Bi=new WeakMap,Rl=new WeakMap,NS),Jf=new Y3;function Jx(){let t,e;const s=new Promise((r,a)=>{t=r,e=a});s.status="pending",s.catch(()=>{});function n(r){Object.assign(s,r),delete s.resolve,delete s.reject}return s.resolve=r=>{n({status:"fulfilled",value:r}),t(r)},s.reject=r=>{n({status:"rejected",reason:r}),e(r)},s}function X3(t){return Math.min(1e3*2**t,3e4)}function KE(t){return(t??"online")==="online"?Jf.isOnline():!0}var GE=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function xg(t){return t instanceof GE}function QE(t){let e=!1,s=0,n=!1,r;const a=Jx(),o=m=>{var g;n||(f(new GE(m)),(g=t.abort)==null||g.call(t))},l=()=>{e=!0},c=()=>{e=!1},d=()=>av.isFocused()&&(t.networkMode==="always"||Jf.isOnline())&&t.canRun(),u=()=>KE(t.networkMode)&&t.canRun(),h=m=>{var g;n||(n=!0,(g=t.onSuccess)==null||g.call(t,m),r==null||r(),a.resolve(m))},f=m=>{var g;n||(n=!0,(g=t.onError)==null||g.call(t,m),r==null||r(),a.reject(m))},p=()=>new Promise(m=>{var g;r=v=>{(n||d())&&m(v)},(g=t.onPause)==null||g.call(t)}).then(()=>{var m;r=void 0,n||(m=t.onContinue)==null||m.call(t)}),b=()=>{if(n)return;let m;const g=s===0?t.initialPromise:void 0;try{m=g??t.fn()}catch(v){m=Promise.reject(v)}Promise.resolve(m).then(h).catch(v=>{var C;if(n)return;const y=t.retry??(bo?0:3),w=t.retryDelay??X3,j=typeof w=="function"?w(s,v):w,N=y===!0||typeof y=="number"&&s<y||typeof y=="function"&&y(s,v);if(e||!N){f(v);return}s++,(C=t.onFail)==null||C.call(t,s,v),K3(j).then(()=>d()?void 0:p()).then(()=>{e?f(v):b()})})};return{promise:a,cancel:o,continue:()=>(r==null||r(),a),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?b():p().then(b),a)}}function J3(){let t=[],e=0,s=l=>{l()},n=l=>{l()},r=l=>setTimeout(l,0);const a=l=>{e?t.push(l):r(()=>{s(l)})},o=()=>{const l=t;t=[],l.length&&r(()=>{n(()=>{l.forEach(c=>{s(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{s=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{r=l}}}var Yt=J3(),Xa,SS,ZE=(SS=class{constructor(){Te(this,Xa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Zx(this.gcTime)&&fe(this,Xa,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(bo?1/0:5*60*1e3))}clearGcTimeout(){D(this,Xa)&&(clearTimeout(D(this,Xa)),fe(this,Xa,void 0))}},Xa=new WeakMap,SS),Dl,Ol,mn,gs,Iu,Ja,Un,Kr,_S,e6=(_S=class extends ZE{constructor(e){super();Te(this,Un);Te(this,Dl);Te(this,Ol);Te(this,mn);Te(this,gs);Te(this,Iu);Te(this,Ja);fe(this,Ja,!1),fe(this,Iu,e.defaultOptions),this.setOptions(e.options),this.observers=[],fe(this,mn,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,fe(this,Dl,t6(this.options)),this.state=e.state??D(this,Dl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=D(this,gs))==null?void 0:e.promise}setOptions(e){this.options={...D(this,Iu),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&D(this,mn).remove(this)}setData(e,s){const n=Xx(this.state.data,e,this.options);return We(this,Un,Kr).call(this,{data:n,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),n}setState(e,s){We(this,Un,Kr).call(this,{type:"setState",state:e,setStateOptions:s})}cancel(e){var n,r;const s=(n=D(this,gs))==null?void 0:n.promise;return(r=D(this,gs))==null||r.cancel(e),s?s.then(pn).catch(pn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(D(this,Dl))}isActive(){return this.observers.some(e=>Bn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===iv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!HE(this.state.dataUpdatedAt,e)}onFocus(){var s;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(s=D(this,gs))==null||s.continue()}onOnline(){var s;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(s=D(this,gs))==null||s.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),D(this,mn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(s=>s!==e),this.observers.length||(D(this,gs)&&(D(this,Ja)?D(this,gs).cancel({revert:!0}):D(this,gs).cancelRetry()),this.scheduleGc()),D(this,mn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||We(this,Un,Kr).call(this,{type:"invalidate"})}fetch(e,s){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(D(this,gs))return D(this,gs).continueRetry(),D(this,gs).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,r=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(fe(this,Ja,!0),n.signal)})},a=()=>{const h=qE(this.options,s),f={queryKey:this.queryKey,meta:this.meta};return r(f),fe(this,Ja,!1),this.options.persister?this.options.persister(h,f,this):h(f)},o={fetchOptions:s,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};r(o),(c=this.options.behavior)==null||c.onFetch(o,this),fe(this,Ol,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&We(this,Un,Kr).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const l=h=>{var f,p,b,m;xg(h)&&h.silent||We(this,Un,Kr).call(this,{type:"error",error:h}),xg(h)||((p=(f=D(this,mn).config).onError)==null||p.call(f,h,this),(m=(b=D(this,mn).config).onSettled)==null||m.call(b,this.state.data,h,this)),this.scheduleGc()};return fe(this,gs,QE({initialPromise:s==null?void 0:s.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var f,p,b,m;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(g){l(g);return}(p=(f=D(this,mn).config).onSuccess)==null||p.call(f,h,this),(m=(b=D(this,mn).config).onSettled)==null||m.call(b,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,f)=>{We(this,Un,Kr).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{We(this,Un,Kr).call(this,{type:"pause"})},onContinue:()=>{We(this,Un,Kr).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),D(this,gs).start()}},Dl=new WeakMap,Ol=new WeakMap,mn=new WeakMap,gs=new WeakMap,Iu=new WeakMap,Ja=new WeakMap,Un=new WeakSet,Kr=function(e){const s=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...YE(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return xg(r)&&r.revert&&D(this,Ol)?{...D(this,Ol),fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=s(this.state),Yt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),D(this,mn).notify({query:this,type:"updated",action:e})})},_S);function YE(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:KE(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function t6(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,s=e!==void 0,n=s?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var pr,CS,s6=(CS=class extends yc{constructor(e={}){super();Te(this,pr);this.config=e,fe(this,pr,new Map)}build(e,s,n){const r=s.queryKey,a=s.queryHash??rv(r,s);let o=this.get(a);return o||(o=new e6({cache:this,queryKey:r,queryHash:a,options:e.defaultQueryOptions(s),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){D(this,pr).has(e.queryHash)||(D(this,pr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const s=D(this,pr).get(e.queryHash);s&&(e.destroy(),s===e&&D(this,pr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Yt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return D(this,pr).get(e)}getAll(){return[...D(this,pr).values()]}find(e){const s={exact:!0,...e};return this.getAll().find(n=>gj(s,n))}findAll(e={}){const s=this.getAll();return Object.keys(e).length>0?s.filter(n=>gj(e,n)):s}notify(e){Yt.batch(()=>{this.listeners.forEach(s=>{s(e)})})}onFocus(){Yt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Yt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},pr=new WeakMap,CS),gr,Cs,eo,xr,Ti,kS,n6=(kS=class extends ZE{constructor(e){super();Te(this,xr);Te(this,gr);Te(this,Cs);Te(this,eo);this.mutationId=e.mutationId,fe(this,Cs,e.mutationCache),fe(this,gr,[]),this.state=e.state||XE(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){D(this,gr).includes(e)||(D(this,gr).push(e),this.clearGcTimeout(),D(this,Cs).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){fe(this,gr,D(this,gr).filter(s=>s!==e)),this.scheduleGc(),D(this,Cs).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){D(this,gr).length||(this.state.status==="pending"?this.scheduleGc():D(this,Cs).remove(this))}continue(){var e;return((e=D(this,eo))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var r,a,o,l,c,d,u,h,f,p,b,m,g,v,y,w,j,N,C,_;fe(this,eo,QE({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(k,M)=>{We(this,xr,Ti).call(this,{type:"failed",failureCount:k,error:M})},onPause:()=>{We(this,xr,Ti).call(this,{type:"pause"})},onContinue:()=>{We(this,xr,Ti).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>D(this,Cs).canRun(this)}));const s=this.state.status==="pending",n=!D(this,eo).canStart();try{if(!s){We(this,xr,Ti).call(this,{type:"pending",variables:e,isPaused:n}),await((a=(r=D(this,Cs).config).onMutate)==null?void 0:a.call(r,e,this));const M=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,e));M!==this.state.context&&We(this,xr,Ti).call(this,{type:"pending",context:M,variables:e,isPaused:n})}const k=await D(this,eo).start();return await((d=(c=D(this,Cs).config).onSuccess)==null?void 0:d.call(c,k,e,this.state.context,this)),await((h=(u=this.options).onSuccess)==null?void 0:h.call(u,k,e,this.state.context)),await((p=(f=D(this,Cs).config).onSettled)==null?void 0:p.call(f,k,null,this.state.variables,this.state.context,this)),await((m=(b=this.options).onSettled)==null?void 0:m.call(b,k,null,e,this.state.context)),We(this,xr,Ti).call(this,{type:"success",data:k}),k}catch(k){try{throw await((v=(g=D(this,Cs).config).onError)==null?void 0:v.call(g,k,e,this.state.context,this)),await((w=(y=this.options).onError)==null?void 0:w.call(y,k,e,this.state.context)),await((N=(j=D(this,Cs).config).onSettled)==null?void 0:N.call(j,void 0,k,this.state.variables,this.state.context,this)),await((_=(C=this.options).onSettled)==null?void 0:_.call(C,void 0,k,e,this.state.context)),k}finally{We(this,xr,Ti).call(this,{type:"error",error:k})}}finally{D(this,Cs).runNext(this)}}},gr=new WeakMap,Cs=new WeakMap,eo=new WeakMap,xr=new WeakSet,Ti=function(e){const s=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=s(this.state),Yt.batch(()=>{D(this,gr).forEach(n=>{n.onMutationUpdate(e)}),D(this,Cs).notify({mutation:this,type:"updated",action:e})})},kS);function XE(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Xs,Eu,IS,r6=(IS=class extends yc{constructor(e={}){super();Te(this,Xs);Te(this,Eu);this.config=e,fe(this,Xs,new Map),fe(this,Eu,Date.now())}build(e,s,n){const r=new n6({mutationCache:this,mutationId:++lh(this,Eu)._,options:e.defaultMutationOptions(s),state:n});return this.add(r),r}add(e){const s=Ch(e),n=D(this,Xs).get(s)??[];n.push(e),D(this,Xs).set(s,n),this.notify({type:"added",mutation:e})}remove(e){var n;const s=Ch(e);if(D(this,Xs).has(s)){const r=(n=D(this,Xs).get(s))==null?void 0:n.filter(a=>a!==e);r&&(r.length===0?D(this,Xs).delete(s):D(this,Xs).set(s,r))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const s=(n=D(this,Xs).get(Ch(e)))==null?void 0:n.find(r=>r.state.status==="pending");return!s||s===e}runNext(e){var n;const s=(n=D(this,Xs).get(Ch(e)))==null?void 0:n.find(r=>r!==e&&r.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}clear(){Yt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...D(this,Xs).values()].flat()}find(e){const s={exact:!0,...e};return this.getAll().find(n=>xj(s,n))}findAll(e={}){return this.getAll().filter(s=>xj(e,s))}notify(e){Yt.batch(()=>{this.listeners.forEach(s=>{s(e)})})}resumePausedMutations(){const e=this.getAll().filter(s=>s.state.isPaused);return Yt.batch(()=>Promise.all(e.map(s=>s.continue().catch(pn))))}},Xs=new WeakMap,Eu=new WeakMap,IS);function Ch(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function bj(t){return{onFetch:(e,s)=>{var u,h,f,p,b;const n=e.options,r=(f=(h=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,a=((p=e.state.data)==null?void 0:p.pages)||[],o=((b=e.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let m=!1;const g=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},v=qE(e.options,e.fetchOptions),y=async(w,j,N)=>{if(m)return Promise.reject();if(j==null&&w.pages.length)return Promise.resolve(w);const C={queryKey:e.queryKey,pageParam:j,direction:N?"backward":"forward",meta:e.options.meta};g(C);const _=await v(C),{maxPages:k}=e.options,M=N?Q3:G3;return{pages:M(w.pages,_,k),pageParams:M(w.pageParams,j,k)}};if(r&&a.length){const w=r==="backward",j=w?i6:wj,N={pages:a,pageParams:o},C=j(n,N);l=await y(N,C,w)}else{const w=t??a.length;do{const j=c===0?o[0]??n.initialPageParam:wj(n,l);if(c>0&&j==null)break;l=await y(l,j),c++}while(c<w)}return l};e.options.persister?e.fetchFn=()=>{var m,g;return(g=(m=e.options).persister)==null?void 0:g.call(m,d,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s)}:e.fetchFn=d}}}function wj(t,{pages:e,pageParams:s}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,s[n],s):void 0}function i6(t,{pages:e,pageParams:s}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,s[0],s):void 0}var Pt,Hi,Wi,Ll,Fl,qi,Ul,zl,ES,a6=(ES=class{constructor(t={}){Te(this,Pt);Te(this,Hi);Te(this,Wi);Te(this,Ll);Te(this,Fl);Te(this,qi);Te(this,Ul);Te(this,zl);fe(this,Pt,t.queryCache||new s6),fe(this,Hi,t.mutationCache||new r6),fe(this,Wi,t.defaultOptions||{}),fe(this,Ll,new Map),fe(this,Fl,new Map),fe(this,qi,0)}mount(){lh(this,qi)._++,D(this,qi)===1&&(fe(this,Ul,av.subscribe(async t=>{t&&(await this.resumePausedMutations(),D(this,Pt).onFocus())})),fe(this,zl,Jf.subscribe(async t=>{t&&(await this.resumePausedMutations(),D(this,Pt).onOnline())})))}unmount(){var t,e;lh(this,qi)._--,D(this,qi)===0&&((t=D(this,Ul))==null||t.call(this),fe(this,Ul,void 0),(e=D(this,zl))==null||e.call(this),fe(this,zl,void 0))}isFetching(t){return D(this,Pt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return D(this,Hi).findAll({...t,status:"pending"}).length}getQueryData(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=D(this,Pt).get(e.queryHash))==null?void 0:s.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const s=this.defaultQueryOptions(t),n=D(this,Pt).build(this,s);return t.revalidateIfStale&&n.isStaleByTime(gl(s.staleTime,n))&&this.prefetchQuery(s),Promise.resolve(e)}}getQueriesData(t){return D(this,Pt).findAll(t).map(({queryKey:e,state:s})=>{const n=s.data;return[e,n]})}setQueryData(t,e,s){const n=this.defaultQueryOptions({queryKey:t}),r=D(this,Pt).get(n.queryHash),a=r==null?void 0:r.state.data,o=q3(e,a);if(o!==void 0)return D(this,Pt).build(this,n).setData(o,{...s,manual:!0})}setQueriesData(t,e,s){return Yt.batch(()=>D(this,Pt).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,s)]))}getQueryState(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=D(this,Pt).get(e.queryHash))==null?void 0:s.state}removeQueries(t){const e=D(this,Pt);Yt.batch(()=>{e.findAll(t).forEach(s=>{e.remove(s)})})}resetQueries(t,e){const s=D(this,Pt),n={type:"active",...t};return Yt.batch(()=>(s.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const s={revert:!0,...e},n=Yt.batch(()=>D(this,Pt).findAll(t).map(r=>r.cancel(s)));return Promise.all(n).then(pn).catch(pn)}invalidateQueries(t={},e={}){return Yt.batch(()=>{if(D(this,Pt).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const s={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(s,e)})}refetchQueries(t={},e){const s={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=Yt.batch(()=>D(this,Pt).findAll(t).filter(r=>!r.isDisabled()).map(r=>{let a=r.fetch(void 0,s);return s.throwOnError||(a=a.catch(pn)),r.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(pn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const s=D(this,Pt).build(this,e);return s.isStaleByTime(gl(e.staleTime,s))?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(pn).catch(pn)}fetchInfiniteQuery(t){return t.behavior=bj(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(pn).catch(pn)}ensureInfiniteQueryData(t){return t.behavior=bj(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Jf.isOnline()?D(this,Hi).resumePausedMutations():Promise.resolve()}getQueryCache(){return D(this,Pt)}getMutationCache(){return D(this,Hi)}getDefaultOptions(){return D(this,Wi)}setDefaultOptions(t){fe(this,Wi,t)}setQueryDefaults(t,e){D(this,Ll).set(wo(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...D(this,Ll).values()];let s={};return e.forEach(n=>{Yd(t,n.queryKey)&&(s={...s,...n.defaultOptions})}),s}setMutationDefaults(t,e){D(this,Fl).set(wo(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...D(this,Fl).values()];let s={};return e.forEach(n=>{Yd(t,n.mutationKey)&&(s={...s,...n.defaultOptions})}),s}defaultQueryOptions(t){if(t._defaulted)return t;const e={...D(this,Wi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=rv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===iv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...D(this,Wi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){D(this,Pt).clear(),D(this,Hi).clear()}},Pt=new WeakMap,Hi=new WeakMap,Wi=new WeakMap,Ll=new WeakMap,Fl=new WeakMap,qi=new WeakMap,Ul=new WeakMap,zl=new WeakMap,ES),zs,Ze,Pu,ks,to,Vl,Ki,yr,Tu,$l,Bl,so,no,Gi,Hl,it,sd,ey,ty,sy,ny,ry,iy,ay,JE,PS,o6=(PS=class extends yc{constructor(e,s){super();Te(this,it);Te(this,zs);Te(this,Ze);Te(this,Pu);Te(this,ks);Te(this,to);Te(this,Vl);Te(this,Ki);Te(this,yr);Te(this,Tu);Te(this,$l);Te(this,Bl);Te(this,so);Te(this,no);Te(this,Gi);Te(this,Hl,new Set);this.options=s,fe(this,zs,e),fe(this,yr,null),fe(this,Ki,Jx()),this.options.experimental_prefetchInRender||D(this,Ki).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(D(this,Ze).addObserver(this),jj(D(this,Ze),this.options)?We(this,it,sd).call(this):this.updateResult(),We(this,it,ny).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return oy(D(this,Ze),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return oy(D(this,Ze),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,We(this,it,ry).call(this),We(this,it,iy).call(this),D(this,Ze).removeObserver(this)}setOptions(e,s){const n=this.options,r=D(this,Ze);if(this.options=D(this,zs).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Bn(this.options.enabled,D(this,Ze))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");We(this,it,ay).call(this),D(this,Ze).setOptions(this.options),n._defaulted&&!Xf(this.options,n)&&D(this,zs).getQueryCache().notify({type:"observerOptionsUpdated",query:D(this,Ze),observer:this});const a=this.hasListeners();a&&Nj(D(this,Ze),r,this.options,n)&&We(this,it,sd).call(this),this.updateResult(s),a&&(D(this,Ze)!==r||Bn(this.options.enabled,D(this,Ze))!==Bn(n.enabled,D(this,Ze))||gl(this.options.staleTime,D(this,Ze))!==gl(n.staleTime,D(this,Ze)))&&We(this,it,ey).call(this);const o=We(this,it,ty).call(this);a&&(D(this,Ze)!==r||Bn(this.options.enabled,D(this,Ze))!==Bn(n.enabled,D(this,Ze))||o!==D(this,Gi))&&We(this,it,sy).call(this,o)}getOptimisticResult(e){const s=D(this,zs).getQueryCache().build(D(this,zs),e),n=this.createResult(s,e);return c6(this,n)&&(fe(this,ks,n),fe(this,Vl,this.options),fe(this,to,D(this,Ze).state)),n}getCurrentResult(){return D(this,ks)}trackResult(e,s){const n={};return Object.keys(e).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),s==null||s(r),e[r])})}),n}trackProp(e){D(this,Hl).add(e)}getCurrentQuery(){return D(this,Ze)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=D(this,zs).defaultQueryOptions(e),n=D(this,zs).getQueryCache().build(D(this,zs),s);return n.fetch().then(()=>this.createResult(n,s))}fetch(e){return We(this,it,sd).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),D(this,ks)))}createResult(e,s){var k;const n=D(this,Ze),r=this.options,a=D(this,ks),o=D(this,to),l=D(this,Vl),d=e!==n?e.state:D(this,Pu),{state:u}=e;let h={...u},f=!1,p;if(s._optimisticResults){const M=this.hasListeners(),L=!M&&jj(e,s),O=M&&Nj(e,n,s,r);(L||O)&&(h={...h,...YE(u.data,e.options)}),s._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:b,errorUpdatedAt:m,status:g}=h;if(s.select&&h.data!==void 0)if(a&&h.data===(o==null?void 0:o.data)&&s.select===D(this,Tu))p=D(this,$l);else try{fe(this,Tu,s.select),p=s.select(h.data),p=Xx(a==null?void 0:a.data,p,s),fe(this,$l,p),fe(this,yr,null)}catch(M){fe(this,yr,M)}else p=h.data;if(s.placeholderData!==void 0&&p===void 0&&g==="pending"){let M;if(a!=null&&a.isPlaceholderData&&s.placeholderData===(l==null?void 0:l.placeholderData))M=a.data;else if(M=typeof s.placeholderData=="function"?s.placeholderData((k=D(this,Bl))==null?void 0:k.state.data,D(this,Bl)):s.placeholderData,s.select&&M!==void 0)try{M=s.select(M),fe(this,yr,null)}catch(L){fe(this,yr,L)}M!==void 0&&(g="success",p=Xx(a==null?void 0:a.data,M,s),f=!0)}D(this,yr)&&(b=D(this,yr),p=D(this,$l),m=Date.now(),g="error");const v=h.fetchStatus==="fetching",y=g==="pending",w=g==="error",j=y&&v,N=p!==void 0,_={status:g,fetchStatus:h.fetchStatus,isPending:y,isSuccess:g==="success",isError:w,isInitialLoading:j,isLoading:j,data:p,dataUpdatedAt:h.dataUpdatedAt,error:b,errorUpdatedAt:m,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:v,isRefetching:v&&!y,isLoadingError:w&&!N,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:w&&N,isStale:ov(e,s),refetch:this.refetch,promise:D(this,Ki)};if(this.options.experimental_prefetchInRender){const M=I=>{_.status==="error"?I.reject(_.error):_.data!==void 0&&I.resolve(_.data)},L=()=>{const I=fe(this,Ki,_.promise=Jx());M(I)},O=D(this,Ki);switch(O.status){case"pending":e.queryHash===n.queryHash&&M(O);break;case"fulfilled":(_.status==="error"||_.data!==O.value)&&L();break;case"rejected":(_.status!=="error"||_.error!==O.reason)&&L();break}}return _}updateResult(e){const s=D(this,ks),n=this.createResult(D(this,Ze),this.options);if(fe(this,to,D(this,Ze).state),fe(this,Vl,this.options),D(this,to).data!==void 0&&fe(this,Bl,D(this,Ze)),Xf(n,s))return;fe(this,ks,n);const r={},a=()=>{if(!s)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!D(this,Hl).size)return!0;const c=new Set(l??D(this,Hl));return this.options.throwOnError&&c.add("error"),Object.keys(D(this,ks)).some(d=>{const u=d;return D(this,ks)[u]!==s[u]&&c.has(u)})};(e==null?void 0:e.listeners)!==!1&&a()&&(r.listeners=!0),We(this,it,JE).call(this,{...r,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&We(this,it,ny).call(this)}},zs=new WeakMap,Ze=new WeakMap,Pu=new WeakMap,ks=new WeakMap,to=new WeakMap,Vl=new WeakMap,Ki=new WeakMap,yr=new WeakMap,Tu=new WeakMap,$l=new WeakMap,Bl=new WeakMap,so=new WeakMap,no=new WeakMap,Gi=new WeakMap,Hl=new WeakMap,it=new WeakSet,sd=function(e){We(this,it,ay).call(this);let s=D(this,Ze).fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(pn)),s},ey=function(){We(this,it,ry).call(this);const e=gl(this.options.staleTime,D(this,Ze));if(bo||D(this,ks).isStale||!Zx(e))return;const n=HE(D(this,ks).dataUpdatedAt,e)+1;fe(this,so,setTimeout(()=>{D(this,ks).isStale||this.updateResult()},n))},ty=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(D(this,Ze)):this.options.refetchInterval)??!1},sy=function(e){We(this,it,iy).call(this),fe(this,Gi,e),!(bo||Bn(this.options.enabled,D(this,Ze))===!1||!Zx(D(this,Gi))||D(this,Gi)===0)&&fe(this,no,setInterval(()=>{(this.options.refetchIntervalInBackground||av.isFocused())&&We(this,it,sd).call(this)},D(this,Gi)))},ny=function(){We(this,it,ey).call(this),We(this,it,sy).call(this,We(this,it,ty).call(this))},ry=function(){D(this,so)&&(clearTimeout(D(this,so)),fe(this,so,void 0))},iy=function(){D(this,no)&&(clearInterval(D(this,no)),fe(this,no,void 0))},ay=function(){const e=D(this,zs).getQueryCache().build(D(this,zs),this.options);if(e===D(this,Ze))return;const s=D(this,Ze);fe(this,Ze,e),fe(this,Pu,e.state),this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))},JE=function(e){Yt.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(D(this,ks))}),D(this,zs).getQueryCache().notify({query:D(this,Ze),type:"observerResultsUpdated"})})},PS);function l6(t,e){return Bn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function jj(t,e){return l6(t,e)||t.state.data!==void 0&&oy(t,e,e.refetchOnMount)}function oy(t,e,s){if(Bn(e.enabled,t)!==!1){const n=typeof s=="function"?s(t):s;return n==="always"||n!==!1&&ov(t,e)}return!1}function Nj(t,e,s,n){return(t!==e||Bn(n.enabled,t)===!1)&&(!s.suspense||t.state.status!=="error")&&ov(t,s)}function ov(t,e){return Bn(e.enabled,t)!==!1&&t.isStaleByTime(gl(e.staleTime,t))}function c6(t,e){return!Xf(t.getCurrentResult(),e)}var Qi,Zi,Vs,ti,mi,df,ly,TS,d6=(TS=class extends yc{constructor(s,n){super();Te(this,mi);Te(this,Qi);Te(this,Zi);Te(this,Vs);Te(this,ti);fe(this,Qi,s),this.setOptions(n),this.bindMethods(),We(this,mi,df).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var r;const n=this.options;this.options=D(this,Qi).defaultMutationOptions(s),Xf(this.options,n)||D(this,Qi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:D(this,Vs),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&wo(n.mutationKey)!==wo(this.options.mutationKey)?this.reset():((r=D(this,Vs))==null?void 0:r.state.status)==="pending"&&D(this,Vs).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(s=D(this,Vs))==null||s.removeObserver(this)}onMutationUpdate(s){We(this,mi,df).call(this),We(this,mi,ly).call(this,s)}getCurrentResult(){return D(this,Zi)}reset(){var s;(s=D(this,Vs))==null||s.removeObserver(this),fe(this,Vs,void 0),We(this,mi,df).call(this),We(this,mi,ly).call(this)}mutate(s,n){var r;return fe(this,ti,n),(r=D(this,Vs))==null||r.removeObserver(this),fe(this,Vs,D(this,Qi).getMutationCache().build(D(this,Qi),this.options)),D(this,Vs).addObserver(this),D(this,Vs).execute(s)}},Qi=new WeakMap,Zi=new WeakMap,Vs=new WeakMap,ti=new WeakMap,mi=new WeakSet,df=function(){var n;const s=((n=D(this,Vs))==null?void 0:n.state)??XE();fe(this,Zi,{...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset})},ly=function(s){Yt.batch(()=>{var n,r,a,o,l,c,d,u;if(D(this,ti)&&this.hasListeners()){const h=D(this,Zi).variables,f=D(this,Zi).context;(s==null?void 0:s.type)==="success"?((r=(n=D(this,ti)).onSuccess)==null||r.call(n,s.data,h,f),(o=(a=D(this,ti)).onSettled)==null||o.call(a,s.data,null,h,f)):(s==null?void 0:s.type)==="error"&&((c=(l=D(this,ti)).onError)==null||c.call(l,s.error,h,f),(u=(d=D(this,ti)).onSettled)==null||u.call(d,void 0,s.error,h,f))}this.listeners.forEach(h=>{h(D(this,Zi))})})},TS),eP=x.createContext(void 0),Gt=t=>{const e=x.useContext(eP);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},u6=({client:t,children:e})=>(x.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),i.jsx(eP.Provider,{value:t,children:e})),tP=x.createContext(!1),h6=()=>x.useContext(tP);tP.Provider;function f6(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var m6=x.createContext(f6()),p6=()=>x.useContext(m6);function sP(t,e){return typeof t=="function"?t(...e):!!t}function cy(){}var g6=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},x6=t=>{x.useEffect(()=>{t.clearReset()},[t])},y6=({result:t,errorResetBoundary:e,throwOnError:s,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&sP(s,[t.error,n]),v6=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},b6=(t,e)=>t.isLoading&&t.isFetching&&!e,w6=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Sj=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function j6(t,e,s){var u,h,f,p,b;const n=Gt(),r=h6(),a=p6(),o=n.defaultQueryOptions(t);(h=(u=n.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||h.call(u,o),o._optimisticResults=r?"isRestoring":"optimistic",v6(o),g6(o,a),x6(a);const l=!n.getQueryCache().get(o.queryHash),[c]=x.useState(()=>new e(n,o)),d=c.getOptimisticResult(o);if(x.useSyncExternalStore(x.useCallback(m=>{const g=r?cy:c.subscribe(Yt.batchCalls(m));return c.updateResult(),g},[c,r]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),x.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),w6(o,d))throw Sj(o,c,a);if(y6({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw d.error;if((p=(f=n.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||p.call(f,o,d),o.experimental_prefetchInRender&&!bo&&b6(d,r)){const m=l?Sj(o,c,a):(b=n.getQueryCache().get(o.queryHash))==null?void 0:b.promise;m==null||m.catch(cy).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function Ce(t,e){return j6(t,o6)}function Me(t,e){const s=Gt(),[n]=x.useState(()=>new d6(s,t));x.useEffect(()=>{n.setOptions(t)},[n,t]);const r=x.useSyncExternalStore(x.useCallback(o=>n.subscribe(Yt.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=x.useCallback((o,l)=>{n.mutate(o,l).catch(cy)},[n]);if(r.error&&sP(n.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:a,mutateAsync:r.mutate}}const N6="modulepreload",S6=function(t){return"/"+t},_j={},nP=function(e,s,n){let r=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(s.map(c=>{if(c=S6(c),c in _j)return;_j[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":N6,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return r.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})},_6=()=>{};var Cj={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP=function(t){const e=[];let s=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e[s++]=r:r<2048?(e[s++]=r>>6|192,e[s++]=r&63|128):(r&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++n)&1023),e[s++]=r>>18|240,e[s++]=r>>12&63|128,e[s++]=r>>6&63|128,e[s++]=r&63|128):(e[s++]=r>>12|224,e[s++]=r>>6&63|128,e[s++]=r&63|128)}return e},C6=function(t){const e=[];let s=0,n=0;for(;s<t.length;){const r=t[s++];if(r<128)e[n++]=String.fromCharCode(r);else if(r>191&&r<224){const a=t[s++];e[n++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=t[s++],o=t[s++],l=t[s++],c=((r&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const a=t[s++],o=t[s++];e[n++]=String.fromCharCode((r&15)<<12|(a&63)<<6|o&63)}}return e.join("")},iP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<t.length;r+=3){const a=t[r],o=r+1<t.length,l=o?t[r+1]:0,c=r+2<t.length,d=c?t[r+2]:0,u=a>>2,h=(a&3)<<4|l>>4;let f=(l&15)<<2|d>>6,p=d&63;c||(p=64,o||(f=64)),n.push(s[u],s[h],s[f],s[p])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):C6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<t.length;){const a=s[t.charAt(r++)],l=r<t.length?s[t.charAt(r)]:0;++r;const d=r<t.length?s[t.charAt(r)]:64;++r;const h=r<t.length?s[t.charAt(r)]:64;if(++r,a==null||l==null||d==null||h==null)throw new k6;const f=a<<2|l>>4;if(n.push(f),d!==64){const p=l<<4&240|d>>2;if(n.push(p),h!==64){const b=d<<6&192|h;n.push(b)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class k6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const I6=function(t){const e=rP(t);return iP.encodeByteArray(e,!0)},aP=function(t){return I6(t).replace(/\./g,"")},oP=function(t){try{return iP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6=()=>E6().__FIREBASE_DEFAULTS__,T6=()=>{if(typeof process>"u"||typeof Cj>"u")return;const t=Cj.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},A6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&oP(t[1]);return e&&JSON.parse(e)},lv=()=>{try{return _6()||P6()||T6()||A6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},M6=t=>{var e,s;return(s=(e=lv())===null||e===void 0?void 0:e.emulatorHosts)===null||s===void 0?void 0:s[t]},lP=()=>{var t;return(t=lv())===null||t===void 0?void 0:t.config},cP=t=>{var e;return(e=lv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,n)=>{s?this.reject(s):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(t){return t.endsWith(".cloudworkstations.dev")}async function D6(t){return(await fetch(t,{credentials:"include"})).ok}const wd={};function O6(){const t={prod:[],emulator:[]};for(const e of Object.keys(wd))wd[e]?t.emulator.push(e):t.prod.push(e);return t}function L6(t){let e=document.getElementById(t),s=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),s=!0),{created:s,element:e}}let kj=!1;function F6(t,e){if(typeof window>"u"||typeof document>"u"||!cv(window.location.host)||wd[t]===e||wd[t]||kj)return;wd[t]=e;function s(f){return`__firebase__banner__${f}`}const n="__firebase__banner",a=O6().prod.length>0;function o(){const f=document.getElementById(n);f&&f.remove()}function l(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,p){f.setAttribute("width","24"),f.setAttribute("id",p),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function d(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{kj=!0,o()},f}function u(f,p){f.setAttribute("id",p),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=L6(n),p=s("text"),b=document.getElementById(p)||document.createElement("span"),m=s("learnmore"),g=document.getElementById(m)||document.createElement("a"),v=s("preprendIcon"),y=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const w=f.element;l(w),u(g,m);const j=d();c(y,v),w.append(y,b,g,j),document.body.appendChild(w)}a?(b.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function U6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ds())}function z6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function V6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function B6(){const t=Ds();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function H6(){try{return typeof indexedDB=="object"}catch{return!1}}function W6(){return new Promise((t,e)=>{try{let s=!0;const n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),s||self.indexedDB.deleteDatabase(n),t(!0)},r.onupgradeneeded=()=>{s=!1},r.onerror=()=>{var a;e(((a=r.error)===null||a===void 0?void 0:a.message)||"")}}catch(s){e(s)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6="FirebaseError";class Ea extends Error{constructor(e,s,n){super(s),this.code=e,this.customData=n,this.name=q6,Object.setPrototypeOf(this,Ea.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fu.prototype.create)}}class Fu{constructor(e,s,n){this.service=e,this.serviceName=s,this.errors=n}create(e,...s){const n=s[0]||{},r=`${this.service}/${e}`,a=this.errors[e],o=a?K6(a,n):"Error",l=`${this.serviceName}: ${o} (${r}).`;return new Ea(r,l,n)}}function K6(t,e){return t.replace(G6,(s,n)=>{const r=e[n];return r!=null?String(r):`<${n}?>`})}const G6=/\{\$([^}]+)}/g;function Q6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Jl(t,e){if(t===e)return!0;const s=Object.keys(t),n=Object.keys(e);for(const r of s){if(!n.includes(r))return!1;const a=t[r],o=e[r];if(Ij(a)&&Ij(o)){if(!Jl(a,o))return!1}else if(a!==o)return!1}for(const r of n)if(!s.includes(r))return!1;return!0}function Ij(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(t){const e=[];for(const[s,n]of Object.entries(t))Array.isArray(n)?n.forEach(r=>{e.push(encodeURIComponent(s)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(s)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Z6(t,e){const s=new Y6(t,e);return s.subscribe.bind(s)}class Y6{constructor(e,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(s=>{s.next(e)})}error(e){this.forEachObserver(s=>{s.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,s,n){let r;if(e===void 0&&s===void 0&&n===void 0)throw new Error("Missing Observer.");X6(e,["next","error","complete"])?r=e:r={next:e,error:s,complete:n},r.next===void 0&&(r.next=yg),r.error===void 0&&(r.error=yg),r.complete===void 0&&(r.complete=yg);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,e)}sendOne(e,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{s(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function X6(t,e){if(typeof t!="object"||t===null)return!1;for(const s of e)if(s in t&&typeof t[s]=="function")return!0;return!1}function yg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pa(t){return t&&t._delegate?t._delegate:t}class ec{constructor(e,s,n){this.name=e,this.instanceFactory=s,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let J6=class{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const n=new R6;if(this.instancesDeferred.set(s,n),this.isInitialized(s)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:s});r&&n.resolve(r)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(e){var s;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(s=e==null?void 0:e.optional)!==null&&s!==void 0?s:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tU(e))try{this.getOrInitializeService({instanceIdentifier:Ua})}catch{}for(const[s,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(s);try{const a=this.getOrInitializeService({instanceIdentifier:r});n.resolve(a)}catch{}}}}clearInstance(e=Ua){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ua){return this.instances.has(e)}getOptions(e=Ua){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:s});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);n===l&&o.resolve(r)}return r}onInit(e,s){var n;const r=this.normalizeInstanceIdentifier(s),a=(n=this.onInitCallbacks.get(r))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,s){const n=this.onInitCallbacks.get(s);if(n)for(const r of n)try{r(e,s)}catch{}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:eU(e),options:s}),this.instances.set(e,n),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Ua){return this.component?this.component.multipleInstances?e:Ua:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function eU(t){return t===Ua?void 0:t}function tU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new J6(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ht||(ht={}));const nU={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},rU=ht.INFO,iU={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},aU=(t,e,...s)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),r=iU[e];if(r)console[r](`[${n}]  ${t.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dP{constructor(e){this.name=e,this._logLevel=rU,this._logHandler=aU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...e),this._logHandler(this,ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...e),this._logHandler(this,ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ht.INFO,...e),this._logHandler(this,ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ht.WARN,...e),this._logHandler(this,ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...e),this._logHandler(this,ht.ERROR,...e)}}const oU=(t,e)=>e.some(s=>t instanceof s);let Ej,Pj;function lU(){return Ej||(Ej=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cU(){return Pj||(Pj=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uP=new WeakMap,dy=new WeakMap,hP=new WeakMap,vg=new WeakMap,dv=new WeakMap;function dU(t){const e=new Promise((s,n)=>{const r=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{s(ca(t.result)),r()},o=()=>{n(t.error),r()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(s=>{s instanceof IDBCursor&&uP.set(s,t)}).catch(()=>{}),dv.set(e,t),e}function uU(t){if(dy.has(t))return;const e=new Promise((s,n)=>{const r=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{s(),r()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});dy.set(t,e)}let uy={get(t,e,s){if(t instanceof IDBTransaction){if(e==="done")return dy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||hP.get(t);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return ca(t[e])},set(t,e,s){return t[e]=s,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function hU(t){uy=t(uy)}function fU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const n=t.call(bg(this),e,...s);return hP.set(n,e.sort?e.sort():[e]),ca(n)}:cU().includes(t)?function(...e){return t.apply(bg(this),e),ca(uP.get(this))}:function(...e){return ca(t.apply(bg(this),e))}}function mU(t){return typeof t=="function"?fU(t):(t instanceof IDBTransaction&&uU(t),oU(t,lU())?new Proxy(t,uy):t)}function ca(t){if(t instanceof IDBRequest)return dU(t);if(vg.has(t))return vg.get(t);const e=mU(t);return e!==t&&(vg.set(t,e),dv.set(e,t)),e}const bg=t=>dv.get(t);function pU(t,e,{blocked:s,upgrade:n,blocking:r,terminated:a}={}){const o=indexedDB.open(t,e),l=ca(o);return n&&o.addEventListener("upgradeneeded",c=>{n(ca(o.result),c.oldVersion,c.newVersion,ca(o.transaction),c)}),s&&o.addEventListener("blocked",c=>s(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),r&&c.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const gU=["get","getKey","getAll","getAllKeys","count"],xU=["put","add","delete","clear"],wg=new Map;function Tj(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wg.get(e))return wg.get(e);const s=e.replace(/FromIndex$/,""),n=e!==s,r=xU.includes(s);if(!(s in(n?IDBIndex:IDBObjectStore).prototype)||!(r||gU.includes(s)))return;const a=async function(o,...l){const c=this.transaction(o,r?"readwrite":"readonly");let d=c.store;return n&&(d=d.index(l.shift())),(await Promise.all([d[s](...l),r&&c.done]))[0]};return wg.set(e,a),a}hU(t=>({...t,get:(e,s,n)=>Tj(e,s)||t.get(e,s,n),has:(e,s)=>!!Tj(e,s)||t.has(e,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(vU(s)){const n=s.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(s=>s).join(" ")}}function vU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hy="@firebase/app",Aj="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi=new dP("@firebase/app"),bU="@firebase/app-compat",wU="@firebase/analytics-compat",jU="@firebase/analytics",NU="@firebase/app-check-compat",SU="@firebase/app-check",_U="@firebase/auth",CU="@firebase/auth-compat",kU="@firebase/database",IU="@firebase/data-connect",EU="@firebase/database-compat",PU="@firebase/functions",TU="@firebase/functions-compat",AU="@firebase/installations",MU="@firebase/installations-compat",RU="@firebase/messaging",DU="@firebase/messaging-compat",OU="@firebase/performance",LU="@firebase/performance-compat",FU="@firebase/remote-config",UU="@firebase/remote-config-compat",zU="@firebase/storage",VU="@firebase/storage-compat",$U="@firebase/firestore",BU="@firebase/ai",HU="@firebase/firestore-compat",WU="firebase",qU="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy="[DEFAULT]",KU={[hy]:"fire-core",[bU]:"fire-core-compat",[jU]:"fire-analytics",[wU]:"fire-analytics-compat",[SU]:"fire-app-check",[NU]:"fire-app-check-compat",[_U]:"fire-auth",[CU]:"fire-auth-compat",[kU]:"fire-rtdb",[IU]:"fire-data-connect",[EU]:"fire-rtdb-compat",[PU]:"fire-fn",[TU]:"fire-fn-compat",[AU]:"fire-iid",[MU]:"fire-iid-compat",[RU]:"fire-fcm",[DU]:"fire-fcm-compat",[OU]:"fire-perf",[LU]:"fire-perf-compat",[FU]:"fire-rc",[UU]:"fire-rc-compat",[zU]:"fire-gcs",[VU]:"fire-gcs-compat",[$U]:"fire-fst",[HU]:"fire-fst-compat",[BU]:"fire-vertex","fire-js":"fire-js",[WU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em=new Map,GU=new Map,my=new Map;function Mj(t,e){try{t.container.addComponent(e)}catch(s){vi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,s)}}function Xd(t){const e=t.name;if(my.has(e))return vi.debug(`There were multiple attempts to register component ${e}.`),!1;my.set(e,t);for(const s of em.values())Mj(s,t);for(const s of GU.values())Mj(s,t);return!0}function fP(t,e){const s=t.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),t.container.getProvider(e)}function Hn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},da=new Fu("app","Firebase",QU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(e,s,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},s),this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ec("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw da.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu=qU;function mP(t,e={}){let s=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:fy,automaticDataCollectionEnabled:!0},e),r=n.name;if(typeof r!="string"||!r)throw da.create("bad-app-name",{appName:String(r)});if(s||(s=lP()),!s)throw da.create("no-options");const a=em.get(r);if(a){if(Jl(s,a.options)&&Jl(n,a.config))return a;throw da.create("duplicate-app",{appName:r})}const o=new sU(r);for(const c of my.values())o.addComponent(c);const l=new ZU(s,n,o);return em.set(r,l),l}function YU(t=fy){const e=em.get(t);if(!e&&t===fy&&lP())return mP();if(!e)throw da.create("no-app",{appName:t});return e}function xl(t,e,s){var n;let r=(n=KU[t])!==null&&n!==void 0?n:t;s&&(r+=`-${s}`);const a=r.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const l=[`Unable to register library "${r}" with version "${e}":`];a&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vi.warn(l.join(" "));return}Xd(new ec(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU="firebase-heartbeat-database",JU=1,Jd="firebase-heartbeat-store";let jg=null;function pP(){return jg||(jg=pU(XU,JU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Jd)}catch(s){console.warn(s)}}}}).catch(t=>{throw da.create("idb-open",{originalErrorMessage:t.message})})),jg}async function ez(t){try{const s=(await pP()).transaction(Jd),n=await s.objectStore(Jd).get(gP(t));return await s.done,n}catch(e){if(e instanceof Ea)vi.warn(e.message);else{const s=da.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vi.warn(s.message)}}}async function Rj(t,e){try{const n=(await pP()).transaction(Jd,"readwrite");await n.objectStore(Jd).put(e,gP(t)),await n.done}catch(s){if(s instanceof Ea)vi.warn(s.message);else{const n=da.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});vi.warn(n.message)}}}function gP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tz=1024,sz=30;class nz{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new iz(s),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,s;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Dj();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)===null||s===void 0?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>sz){const o=az(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){vi.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=Dj(),{heartbeatsToSend:n,unsentEntries:r}=rz(this._heartbeatsCache.heartbeats),a=aP(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=s,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(s){return vi.warn(s),""}}}function Dj(){return new Date().toISOString().substring(0,10)}function rz(t,e=tz){const s=[];let n=t.slice();for(const r of t){const a=s.find(o=>o.agent===r.agent);if(a){if(a.dates.push(r.date),Oj(s)>e){a.dates.pop();break}}else if(s.push({agent:r.agent,dates:[r.date]}),Oj(s)>e){s.pop();break}n=n.slice(1)}return{heartbeatsToSend:s,unsentEntries:n}}class iz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return H6()?W6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await ez(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var s;if(await this._canUseIndexedDBPromise){const r=await this.read();return Rj(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!==null&&s!==void 0?s:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var s;if(await this._canUseIndexedDBPromise){const r=await this.read();return Rj(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!==null&&s!==void 0?s:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Oj(t){return aP(JSON.stringify({version:2,heartbeats:t})).length}function az(t){if(t.length===0)return-1;let e=0,s=t[0].date;for(let n=1;n<t.length;n++)t[n].date<s&&(s=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oz(t){Xd(new ec("platform-logger",e=>new yU(e),"PRIVATE")),Xd(new ec("heartbeat",e=>new nz(e),"PRIVATE")),xl(hy,Aj,t),xl(hy,Aj,"esm2017"),xl("fire-js","")}oz("");var lz="firebase",cz="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xl(lz,cz,"app");var br=function(){return br=Object.assign||function(e){for(var s,n=1,r=arguments.length;n<r;n++){s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},br.apply(this,arguments)};function Vu(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s}function dz(t,e,s){if(s||arguments.length===2)for(var n=0,r=e.length,a;n<r;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function xP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uz=xP,yP=new Fu("auth","Firebase",xP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm=new dP("@firebase/auth");function hz(t,...e){tm.logLevel<=ht.WARN&&tm.warn(`Auth (${zu}): ${t}`,...e)}function uf(t,...e){tm.logLevel<=ht.ERROR&&tm.error(`Auth (${zu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(t,...e){throw hv(t,...e)}function Xn(t,...e){return hv(t,...e)}function uv(t,e,s){const n=Object.assign(Object.assign({},uz()),{[e]:s});return new Fu("auth","Firebase",n).create(e,{appName:t.name})}function ua(t){return uv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vP(t,e,s){const n=s;if(!(e instanceof n))throw n.name!==e.constructor.name&&Dr(t,"argument-error"),uv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function hv(t,...e){if(typeof t!="string"){const s=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(s,...n)}return yP.create(t,...e)}function Fe(t,e,...s){if(!t)throw hv(e,...s)}function ri(t){const e="INTERNAL ASSERTION FAILED: "+t;throw uf(e),new Error(e)}function bi(t,e){t||ri(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function fz(){return Lj()==="http:"||Lj()==="https:"}function Lj(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fz()||V6()||"connection"in navigator)?navigator.onLine:!0}function pz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,s){this.shortDelay=e,this.longDelay=s,bi(s>e,"Short delay should be less than long delay!"),this.isMobile=U6()||$6()}get(){return mz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(t,e){bi(t.emulator,"Emulator should always be set here");const{url:s}=t.emulator;return e?`${s}${e.startsWith("/")?e.slice(1):e}`:s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{static initialize(e,s,n){this.fetchImpl=e,s&&(this.headersImpl=s),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xz=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yz=new $u(3e4,6e4);function mv(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function vc(t,e,s,n,r={}){return wP(t,r,async()=>{let a={},o={};n&&(e==="GET"?o=n:a={body:JSON.stringify(n)});const l=Uu(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:c},a);return z6()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&cv(t.emulatorConfig.host)&&(d.credentials="include"),bP.fetch()(await jP(t,t.config.apiHost,s,l),d)})}async function wP(t,e,s){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},gz),e);try{const r=new bz(t),a=await Promise.race([s(),r.promise]);r.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw kh(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw kh(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw kh(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw kh(t,"user-disabled",o);const u=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw uv(t,u,d);Dr(t,u)}}catch(r){if(r instanceof Ea)throw r;Dr(t,"network-request-failed",{message:String(r)})}}async function vz(t,e,s,n,r={}){const a=await vc(t,e,s,n,r);return"mfaPendingCredential"in a&&Dr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function jP(t,e,s,n){const r=`${e}${s}?${n}`,a=t,o=a.config.emulator?fv(t.config,r):`${t.config.apiScheme}://${r}`;return xz.includes(s)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}class bz{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((s,n)=>{this.timer=setTimeout(()=>n(Xn(this.auth,"network-request-failed")),yz.get())})}}function kh(t,e,s){const n={appName:t.name};s.email&&(n.email=s.email),s.phoneNumber&&(n.phoneNumber=s.phoneNumber);const r=Xn(t,e,n);return r.customData._tokenResponse=s,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wz(t,e){return vc(t,"POST","/v1/accounts:delete",e)}async function sm(t,e){return vc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jz(t,e=!1){const s=Pa(t),n=await s.getIdToken(e),r=pv(n);Fe(r&&r.exp&&r.auth_time&&r.iat,s.auth,"internal-error");const a=typeof r.firebase=="object"?r.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:r,token:n,authTime:jd(Ng(r.auth_time)),issuedAtTime:jd(Ng(r.iat)),expirationTime:jd(Ng(r.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Ng(t){return Number(t)*1e3}function pv(t){const[e,s,n]=t.split(".");if(e===void 0||s===void 0||n===void 0)return uf("JWT malformed, contained fewer than 3 sections"),null;try{const r=oP(s);return r?JSON.parse(r):(uf("Failed to decode base64 JWT payload"),null)}catch(r){return uf("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function Fj(t){const e=pv(t);return Fe(e,"internal-error"),Fe(typeof e.exp<"u","internal-error"),Fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eu(t,e,s=!1){if(s)return e;try{return await e}catch(n){throw n instanceof Ea&&Nz(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function Nz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var s;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=((s=this.user.stsTokenManager.expirationTime)!==null&&s!==void 0?s:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const s=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,s){this.createdAt=e,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=jd(this.lastLoginAt),this.creationTime=jd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nm(t){var e;const s=t.auth,n=await t.getIdToken(),r=await eu(t,sm(s,{idToken:n}));Fe(r==null?void 0:r.users.length,s,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?NP(a.providerUserInfo):[],l=Cz(t.providerData,o),c=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!(l!=null&&l.length),u=c?d:!1,h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new gy(a.createdAt,a.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function _z(t){const e=Pa(t);await nm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Cz(t,e){return[...t.filter(n=>!e.some(r=>r.providerId===n.providerId)),...e]}function NP(t){return t.map(e=>{var{providerId:s}=e,n=Vu(e,["providerId"]);return{providerId:s,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kz(t,e){const s=await wP(t,{},async()=>{const n=Uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:a}=t.config,o=await jP(t,r,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",bP.fetch()(o,{method:"POST",headers:l,body:n})});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}async function Iz(t,e){return vc(t,"POST","/v2/accounts:revokeToken",mv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fe(e.idToken,"internal-error"),Fe(typeof e.idToken<"u","internal-error"),Fe(typeof e.refreshToken<"u","internal-error");const s="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Fj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,s)}updateFromIdToken(e){Fe(e.length!==0,"internal-error");const s=Fj(e);this.updateTokensAndExpiration(e,null,s)}async getToken(e,s=!1){return!s&&this.accessToken&&!this.isExpired?this.accessToken:(Fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,s){const{accessToken:n,refreshToken:r,expiresIn:a}=await kz(e,s);this.updateTokensAndExpiration(n,r,Number(a))}updateTokensAndExpiration(e,s,n){this.refreshToken=s||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,s){const{refreshToken:n,accessToken:r,expirationTime:a}=s,o=new yl;return n&&(Fe(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),r&&(Fe(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),a&&(Fe(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yl,this.toJSON())}_performRefresh(){return ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(t,e){Fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Kn{constructor(e){var{uid:s,auth:n,stsTokenManager:r}=e,a=Vu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Sz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=s,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new gy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const s=await eu(this,this.stsTokenManager.getToken(this.auth,e));return Fe(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(e){return jz(this,e)}reload(){return _z(this)}_assign(e){this!==e&&(Fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(s=>Object.assign({},s)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const s=new Kn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return s.metadata._copy(this.metadata),s}_onReload(e){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,s=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),s&&await nm(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(ua(this.auth));const e=await this.getIdToken();return await eu(this,wz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,s){var n,r,a,o,l,c,d,u;const h=(n=s.displayName)!==null&&n!==void 0?n:void 0,f=(r=s.email)!==null&&r!==void 0?r:void 0,p=(a=s.phoneNumber)!==null&&a!==void 0?a:void 0,b=(o=s.photoURL)!==null&&o!==void 0?o:void 0,m=(l=s.tenantId)!==null&&l!==void 0?l:void 0,g=(c=s._redirectEventId)!==null&&c!==void 0?c:void 0,v=(d=s.createdAt)!==null&&d!==void 0?d:void 0,y=(u=s.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:w,emailVerified:j,isAnonymous:N,providerData:C,stsTokenManager:_}=s;Fe(w&&_,e,"internal-error");const k=yl.fromJSON(this.name,_);Fe(typeof w=="string",e,"internal-error"),ki(h,e.name),ki(f,e.name),Fe(typeof j=="boolean",e,"internal-error"),Fe(typeof N=="boolean",e,"internal-error"),ki(p,e.name),ki(b,e.name),ki(m,e.name),ki(g,e.name),ki(v,e.name),ki(y,e.name);const M=new Kn({uid:w,auth:e,email:f,emailVerified:j,displayName:h,isAnonymous:N,photoURL:b,phoneNumber:p,tenantId:m,stsTokenManager:k,createdAt:v,lastLoginAt:y});return C&&Array.isArray(C)&&(M.providerData=C.map(L=>Object.assign({},L))),g&&(M._redirectEventId=g),M}static async _fromIdTokenResponse(e,s,n=!1){const r=new yl;r.updateFromServerResponse(s);const a=new Kn({uid:s.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await nm(a),a}static async _fromGetAccountInfoResponse(e,s,n){const r=s.users[0];Fe(r.localId!==void 0,"internal-error");const a=r.providerUserInfo!==void 0?NP(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(a!=null&&a.length),l=new yl;l.updateFromIdToken(n);const c=new Kn({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new gy(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj=new Map;function ii(t){bi(t instanceof Function,"Expected a class definition");let e=Uj.get(t);return e?(bi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Uj.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,s){this.storage[e]=s}async _get(e){const s=this.storage[e];return s===void 0?null:s}async _remove(e){delete this.storage[e]}_addListener(e,s){}_removeListener(e,s){}}SP.type="NONE";const zj=SP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(t,e,s){return`firebase:${t}:${e}:${s}`}class vl{constructor(e,s,n){this.persistence=e,this.auth=s,this.userKey=n;const{config:r,name:a}=this.auth;this.fullUserKey=hf(this.userKey,r.apiKey,a),this.fullPersistenceKey=hf("persistence",r.apiKey,a),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const s=await sm(this.auth,{idToken:e}).catch(()=>{});return s?Kn._fromGetAccountInfoResponse(this.auth,s,e):null}return Kn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,s,n="authUser"){if(!s.length)return new vl(ii(zj),e,n);const r=(await Promise.all(s.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=r[0]||ii(zj);const o=hf(n,e.config.apiKey,e.name);let l=null;for(const d of s)try{const u=await d._get(o);if(u){let h;if(typeof u=="string"){const f=await sm(e,{idToken:u}).catch(()=>{});if(!f)break;h=await Kn._fromGetAccountInfoResponse(e,f,u)}else h=Kn._fromJSON(e,u);d!==a&&(l=h),a=d;break}}catch{}const c=r.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new vl(a,e,n):(a=c[0],l&&await a._set(o,l.toJSON()),await Promise.all(s.map(async d=>{if(d!==a)try{await d._remove(o)}catch{}})),new vl(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_P(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PP(e))return"Blackberry";if(TP(e))return"Webos";if(CP(e))return"Safari";if((e.includes("chrome/")||kP(e))&&!e.includes("edge/"))return"Chrome";if(EP(e))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(s);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function _P(t=Ds()){return/firefox\//i.test(t)}function CP(t=Ds()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kP(t=Ds()){return/crios\//i.test(t)}function IP(t=Ds()){return/iemobile/i.test(t)}function EP(t=Ds()){return/android/i.test(t)}function PP(t=Ds()){return/blackberry/i.test(t)}function TP(t=Ds()){return/webos/i.test(t)}function gv(t=Ds()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Ez(t=Ds()){var e;return gv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Pz(){return B6()&&document.documentMode===10}function AP(t=Ds()){return gv(t)||EP(t)||TP(t)||PP(t)||/windows phone/i.test(t)||IP(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(t,e=[]){let s;switch(t){case"Browser":s=Vj(Ds());break;case"Worker":s=`${Vj(Ds())}-${t}`;break;default:s=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${s}/JsCore/${zu}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,s){const n=a=>new Promise((o,l)=>{try{const c=e(a);o(c)}catch(c){l(c)}});n.onAbort=s,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const s=[];try{for(const n of this.queue)await n(e),n.onAbort&&s.push(n.onAbort)}catch(n){s.reverse();for(const r of s)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Az(t,e={}){return vc(t,"GET","/v2/passwordPolicy",mv(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz=6;class Rz{constructor(e){var s,n,r,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(s=o.minPasswordLength)!==null&&s!==void 0?s:Mz,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var s,n,r,a,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(s=c.meetsMinPasswordLength)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(n=c.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,s){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(s.meetsMinPasswordLength=e.length>=n),r&&(s.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,s){this.updatePasswordCharacterOptionsStatuses(s,!1,!1,!1,!1);let n;for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(s,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,s,n,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=s)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(e,s,n,r){this.app=e,this.heartbeatServiceProvider=s,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $j(this),this.idTokenSubscription=new $j(this),this.beforeStateQueue=new Tz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,s){return s&&(this._popupRedirectResolver=ii(s)),this._initializationPromise=this.queue(async()=>{var n,r,a;if(!this._deleted&&(this.persistenceManager=await vl.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(s),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const s=await sm(this,{idToken:e}),n=await Kn._fromGetAccountInfoResponse(this,s,e);await this.directlySetCurrentUser(n)}catch(s){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",s),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Hn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(r=c.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(e){try{await nm(e)}catch(s){if((s==null?void 0:s.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hn(this.app))return Promise.reject(ua(this));const s=e?Pa(e):null;return s&&Fe(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(e,s=!1){if(!this._deleted)return e&&Fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hn(this.app)?Promise.reject(ua(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hn(this.app)?Promise.reject(ua(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const s=this._getPasswordPolicyInternal();return s.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Az(this),s=new Rz(e);this.tenantId===null?this._projectPasswordPolicy=s:this._tenantPasswordPolicies[this.tenantId]=s}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fu("auth","Firebase",e())}onAuthStateChanged(e,s,n){return this.registerStateListener(this.authStateSubscription,e,s,n)}beforeAuthStateChanged(e,s){return this.beforeStateQueue.pushCallback(e,s)}onIdTokenChanged(e,s,n){return this.registerStateListener(this.idTokenSubscription,e,s,n)}authStateReady(){return new Promise((e,s)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},s)}})}async revokeAccessToken(e){if(this.currentUser){const s=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:s};this.tenantId!=null&&(n.tenantId=this.tenantId),await Iz(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,s){const n=await this.getOrInitRedirectPersistenceManager(s);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const s=e&&ii(e)||this._popupRedirectResolver;Fe(s,this,"argument-error"),this.redirectPersistenceManager=await vl.create(this,[ii(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var s,n;return this._isInitialized&&await this.queue(async()=>{}),((s=this._currentUser)===null||s===void 0?void 0:s._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,s;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(s=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&s!==void 0?s:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,s,n,r){if(this._deleted)return()=>{};const a=typeof s=="function"?s:s.next.bind(s);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof s=="function"){const c=e.addObserver(s,n,r);return()=>{o=!0,c()}}else{const c=e.addObserver(s);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const s={"X-Client-Version":this.clientVersion};this.app.options.appId&&(s["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(s["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(s["X-Firebase-AppCheck"]=r),s}async _getAppCheckToken(){var e;if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const s=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return s!=null&&s.error&&hz(`Error while retrieving App Check token: ${s.error}`),s==null?void 0:s.token}}function bc(t){return Pa(t)}class $j{constructor(e){this.auth=e,this.observer=null,this.addObserver=Z6(s=>this.observer=s)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Oz(t){xv=t}function Lz(t){return xv.loadJS(t)}function Fz(){return xv.gapiScript}function Uz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zz(t,e){const s=fP(t,"auth");if(s.isInitialized()){const r=s.getImmediate(),a=s.getOptions();if(Jl(a,e??{}))return r;Dr(r,"already-initialized")}return s.initialize({options:e})}function Vz(t,e){const s=(e==null?void 0:e.persistence)||[],n=(Array.isArray(s)?s:[s]).map(ii);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function $z(t,e,s){const n=bc(t);Fe(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const r=!1,a=RP(e),{host:o,port:l}=Bz(e),c=l===null?"":`:${l}`,d={url:`${a}//${o}${c}/`},u=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!n._canInitEmulator){Fe(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Fe(Jl(d,n.config.emulator)&&Jl(u,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=d,n.emulatorConfig=u,n.settings.appVerificationDisabledForTesting=!0,cv(o)?(D6(`${a}//${o}${c}`),F6("Auth",!0)):Hz()}function RP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Bz(t){const e=RP(t),s=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!s)return{host:"",port:null};const n=s[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(n);if(r){const a=r[1];return{host:a,port:Bj(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:Bj(o)}}}function Bj(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Hz(){function t(){const e=document.createElement("p"),s=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e,s){this.providerId=e,this.signInMethod=s}toJSON(){return ri("not implemented")}_getIdTokenResponse(e){return ri("not implemented")}_linkToIdToken(e,s){return ri("not implemented")}_getReauthenticationResolver(e){return ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(t,e){return vz(t,"POST","/v1/accounts:signInWithIdp",mv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wz="http://localhost";class jo extends DP{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const s=new jo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(s.idToken=e.idToken),e.accessToken&&(s.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(s.nonce=e.nonce),e.pendingToken&&(s.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(s.accessToken=e.oauthToken,s.secret=e.oauthTokenSecret):Dr("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:r}=s,a=Vu(s,["providerId","signInMethod"]);if(!n||!r)return null;const o=new jo(n,r);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const s=this.buildRequest();return bl(e,s)}_linkToIdToken(e,s){const n=this.buildRequest();return n.idToken=s,bl(e,n)}_getReauthenticationResolver(e){const s=this.buildRequest();return s.autoCreate=!1,bl(e,s)}buildRequest(){const e={requestUri:Wz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),e.postBody=Uu(s)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu extends lp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Bu{constructor(){super("facebook.com")}static credential(e){return jo._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends Bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,s){return jo._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:s})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:s,oauthAccessToken:n}=e;if(!s&&!n)return null;try{return wr.credential(s,n)}catch{return null}}}wr.GOOGLE_SIGN_IN_METHOD="google.com";wr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Bu{constructor(){super("github.com")}static credential(e){return jo._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.GITHUB_SIGN_IN_METHOD="github.com";Ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Bu{constructor(){super("twitter.com")}static credential(e,s){return jo._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:s})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:s,oauthTokenSecret:n}=e;if(!s||!n)return null;try{return zi.credential(s,n)}catch{return null}}}zi.TWITTER_SIGN_IN_METHOD="twitter.com";zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,s,n,r=!1){const a=await Kn._fromIdTokenResponse(e,n,r),o=Hj(n);return new tc({user:a,providerId:o,_tokenResponse:n,operationType:s})}static async _forOperation(e,s,n){await e._updateTokensIfNecessary(n,!0);const r=Hj(n);return new tc({user:e,providerId:r,_tokenResponse:n,operationType:s})}}function Hj(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm extends Ea{constructor(e,s,n,r){var a;super(s.code,s.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,rm.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:s.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,s,n,r){return new rm(e,s,n,r)}}function OP(t,e,s,n){return(e==="reauthenticate"?s._getReauthenticationResolver(t):s._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?rm._fromErrorAndOperation(t,a,e,n):a})}async function qz(t,e,s=!1){const n=await eu(t,e._linkToIdToken(t.auth,await t.getIdToken()),s);return tc._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kz(t,e,s=!1){const{auth:n}=t;if(Hn(n.app))return Promise.reject(ua(n));const r="reauthenticate";try{const a=await eu(t,OP(n,r,e,t),s);Fe(a.idToken,n,"internal-error");const o=pv(a.idToken);Fe(o,n,"internal-error");const{sub:l}=o;return Fe(t.uid===l,n,"user-mismatch"),tc._forOperation(t,r,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Dr(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gz(t,e,s=!1){if(Hn(t.app))return Promise.reject(ua(t));const n="signIn",r=await OP(t,n,e),a=await tc._fromIdTokenResponse(t,n,r);return s||await t._updateCurrentUser(a.user),a}function Qz(t,e,s,n){return Pa(t).onIdTokenChanged(e,s,n)}function Zz(t,e,s){return Pa(t).beforeAuthStateChanged(e,s)}function Yz(t,e,s,n){return Pa(t).onAuthStateChanged(e,s,n)}function Xz(t){return Pa(t).signOut()}const im="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e,s){this.storageRetriever=e,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(im,"1"),this.storage.removeItem(im),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,s){return this.storage.setItem(e,JSON.stringify(s)),Promise.resolve()}_get(e){const s=this.storage.getItem(e);return Promise.resolve(s?JSON.parse(s):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jz=1e3,eV=10;class FP extends LP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,s)=>this.onStorageEvent(e,s),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const s of Object.keys(this.listeners)){const n=this.storage.getItem(s),r=this.localCache[s];n!==r&&e(s,r,n)}}onStorageEvent(e,s=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const n=e.key;s?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(n);!s&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);Pz()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,eV):r()}notifyListeners(e,s){this.localCache[e]=s;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,s,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:s,newValue:n}),!0)})},Jz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,s){await super._set(e,s),this.localCache[e]=JSON.stringify(s)}async _get(e){const s=await super._get(e);return this.localCache[e]=JSON.stringify(s),s}async _remove(e){await super._remove(e),delete this.localCache[e]}}FP.type="LOCAL";const tV=FP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP extends LP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,s){}_removeListener(e,s){}}UP.type="SESSION";const zP=UP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(s){return{fulfilled:!1,reason:s}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const s=this.receivers.find(r=>r.isListeningto(e));if(s)return s;const n=new cp(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const s=e,{eventId:n,eventType:r,data:a}=s.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;s.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const l=Array.from(o).map(async d=>d(s.origin,a)),c=await sV(l);s.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:c})}_subscribe(e,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(s)}_unsubscribe(e,s){this.handlersMap[e]&&s&&this.handlersMap[e].delete(s),(!s||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(t="",e=10){let s="";for(let n=0;n<e;n++)s+=Math.floor(Math.random()*10);return t+s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,s,n=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,o;return new Promise((l,c)=>{const d=yv("",20);r.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(h){const f=h;if(f.data.eventId===d)switch(f.data.status){case"ack":clearTimeout(u),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(f.data.response);break;default:clearTimeout(u),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:s},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(){return window}function rV(t){Ir().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(){return typeof Ir().WorkerGlobalScope<"u"&&typeof Ir().importScripts=="function"}async function iV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function oV(){return VP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P="firebaseLocalStorageDb",lV=1,am="firebaseLocalStorage",BP="fbase_key";class Hu{constructor(e){this.request=e}toPromise(){return new Promise((e,s)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function dp(t,e){return t.transaction([am],e?"readwrite":"readonly").objectStore(am)}function cV(){const t=indexedDB.deleteDatabase($P);return new Hu(t).toPromise()}function xy(){const t=indexedDB.open($P,lV);return new Promise((e,s)=>{t.addEventListener("error",()=>{s(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(am,{keyPath:BP})}catch(r){s(r)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(am)?e(n):(n.close(),await cV(),e(await xy()))})})}async function Wj(t,e,s){const n=dp(t,!0).put({[BP]:e,value:s});return new Hu(n).toPromise()}async function dV(t,e){const s=dp(t,!1).get(e),n=await new Hu(s).toPromise();return n===void 0?null:n.value}function qj(t,e){const s=dp(t,!0).delete(e);return new Hu(s).toPromise()}const uV=800,hV=3;class HP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xy(),this.db)}async _withRetries(e){let s=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(s++>hV)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return VP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cp._getInstance(oV()),this.receiver._subscribe("keyChanged",async(e,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(e,s)=>["keyChanged"])}async initializeSender(){var e,s;if(this.activeServiceWorker=await iV(),!this.activeServiceWorker)return;this.sender=new nV(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((s=n[0])===null||s===void 0)&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||aV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xy();return await Wj(e,im,"1"),await qj(e,im),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,s){return this._withPendingWrite(async()=>(await this._withRetries(n=>Wj(n,e,s)),this.localCache[e]=s,this.notifyServiceWorker(e)))}async _get(e){const s=await this._withRetries(n=>dV(n,e));return this.localCache[e]=s,s}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(s=>qj(s,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const a=dp(r,!1).getAll();return new Hu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const s=[],n=new Set;if(e.length!==0)for(const{fbase_key:r,value:a}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),s.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),s.push(r));return s}notifyListeners(e,s){this.localCache[e]=s;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HP.type="LOCAL";const fV=HP;new $u(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(t,e){return e?ii(e):(Fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv extends DP{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bl(e,this._buildIdpRequest())}_linkToIdToken(e,s){return bl(e,this._buildIdpRequest(s))}_getReauthenticationResolver(e){return bl(e,this._buildIdpRequest())}_buildIdpRequest(e){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(s.idToken=e),s}}function mV(t){return Gz(t.auth,new bv(t),t.bypassAuthState)}function pV(t){const{auth:e,user:s}=t;return Fe(s,e,"internal-error"),Kz(s,new bv(t),t.bypassAuthState)}async function gV(t){const{auth:e,user:s}=t;return Fe(s,e,"internal-error"),qz(s,new bv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e,s,n,r,a=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(e,s)=>{this.pendingPromise={resolve:e,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:s,sessionId:n,postBody:r,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:s,sessionId:n,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mV;case"linkViaPopup":case"linkViaRedirect":return gV;case"reauthViaPopup":case"reauthViaRedirect":return pV;default:Dr(this.auth,"internal-error")}}resolve(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV=new $u(2e3,1e4);async function yV(t,e,s){if(Hn(t.app))return Promise.reject(Xn(t,"operation-not-supported-in-this-environment"));const n=bc(t);vP(t,e,lp);const r=vv(n,s);return new qa(n,"signInViaPopup",e,r).executeNotNull()}class qa extends WP{constructor(e,s,n,r,a){super(e,s,r,a),this.provider=n,this.authWindow=null,this.pollId=null,qa.currentPopupAction&&qa.currentPopupAction.cancel(),qa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Fe(e,this.auth,"internal-error"),e}async onExecution(){bi(this.filter.length===1,"Popup operations only handle one event");const e=yv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject(Xn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Xn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var s,n;if(!((n=(s=this.authWindow)===null||s===void 0?void 0:s.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xV.get())};e()}}qa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV="pendingRedirect",ff=new Map;class bV extends WP{constructor(e,s,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,n),this.eventId=null}async execute(){let e=ff.get(this.auth._key());if(!e){try{const n=await wV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(s){e=()=>Promise.reject(s)}ff.set(this.auth._key(),e)}return this.bypassAuthState||ff.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const s=await this.auth._redirectUserForId(e.eventId);if(s)return this.user=s,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wV(t,e){const s=KP(e),n=qP(t);if(!await n._isAvailable())return!1;const r=await n._get(s)==="true";return await n._remove(s),r}async function jV(t,e){return qP(t)._set(KP(e),"true")}function NV(t,e){ff.set(t._key(),e)}function qP(t){return ii(t._redirectPersistence)}function KP(t){return hf(vV,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SV(t,e,s){return _V(t,e,s)}async function _V(t,e,s){if(Hn(t.app))return Promise.reject(ua(t));const n=bc(t);vP(t,e,lp),await n._initializationPromise;const r=vv(n,s);return await jV(r,n),r._openRedirect(n,e,"signInViaRedirect")}async function CV(t,e){return await bc(t)._initializationPromise,GP(t,e,!1)}async function GP(t,e,s=!1){if(Hn(t.app))return Promise.reject(ua(t));const n=bc(t),r=vv(n,e),o=await new bV(n,r,s).execute();return o&&!s&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV=10*60*1e3;class IV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let s=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(s=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EV(e)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=e,s=!0)),s}sendToConsumer(e,s){var n;if(e.error&&!QP(e)){const r=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";s.onError(Xn(this.auth,r))}else s.onAuthEvent(e)}isEventForConsumer(e,s){const n=s.eventId===null||!!e.eventId&&e.eventId===s.eventId;return s.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kV&&this.cachedEventUids.clear(),this.cachedEventUids.has(Kj(e))}saveEventToCache(e){this.cachedEventUids.add(Kj(e)),this.lastProcessedEventTime=Date.now()}}function Kj(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function QP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function EV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PV(t,e={}){return vc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AV=/^https?/;async function MV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await PV(t);for(const s of e)try{if(RV(s))return}catch{}Dr(t,"unauthorized-domain")}function RV(t){const e=py(),{protocol:s,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?s==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):s==="chrome-extension:"&&o.hostname===n}if(!AV.test(s))return!1;if(TV.test(t))return n===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV=new $u(3e4,6e4);function Gj(){const t=Ir().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let s=0;s<t.CP.length;s++)t.CP[s]=null}}function OV(t){return new Promise((e,s)=>{var n,r,a;function o(){Gj(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Gj(),s(Xn(t,"network-request-failed"))},timeout:DV.get()})}if(!((r=(n=Ir().gapi)===null||n===void 0?void 0:n.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((a=Ir().gapi)===null||a===void 0)&&a.load)o();else{const l=Uz("iframefcb");return Ir()[l]=()=>{gapi.load?o():s(Xn(t,"network-request-failed"))},Lz(`${Fz()}?onload=${l}`).catch(c=>s(c))}}).catch(e=>{throw mf=null,e})}let mf=null;function LV(t){return mf=mf||OV(t),mf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV=new $u(5e3,15e3),UV="__/auth/iframe",zV="emulator/auth/iframe",VV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$V=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BV(t){const e=t.config;Fe(e.authDomain,t,"auth-domain-config-required");const s=e.emulator?fv(e,zV):`https://${t.config.authDomain}/${UV}`,n={apiKey:e.apiKey,appName:t.name,v:zu},r=$V.get(t.config.apiHost);r&&(n.eid=r);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${s}?${Uu(n).slice(1)}`}async function HV(t){const e=await LV(t),s=Ir().gapi;return Fe(s,t,"internal-error"),e.open({where:document.body,url:BV(t),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VV,dontclear:!0},n=>new Promise(async(r,a)=>{await n.restyle({setHideOnLeave:!1});const o=Xn(t,"network-request-failed"),l=Ir().setTimeout(()=>{a(o)},FV.get());function c(){Ir().clearTimeout(l),r(n)}n.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qV=500,KV=600,GV="_blank",QV="http://localhost";class Qj{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZV(t,e,s,n=qV,r=KV){const a=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const c=Object.assign(Object.assign({},WV),{width:n.toString(),height:r.toString(),top:a,left:o}),d=Ds().toLowerCase();s&&(l=kP(d)?GV:s),_P(d)&&(e=e||QV,c.scrollbars="yes");const u=Object.entries(c).reduce((f,[p,b])=>`${f}${p}=${b},`,"");if(Ez(d)&&l!=="_self")return YV(e||"",l),new Qj(null);const h=window.open(e||"",l,u);Fe(h,t,"popup-blocked");try{h.focus()}catch{}return new Qj(h)}function YV(t,e){const s=document.createElement("a");s.href=t,s.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV="__/auth/handler",JV="emulator/auth/handler",e$=encodeURIComponent("fac");async function Zj(t,e,s,n,r,a){Fe(t.config.authDomain,t,"auth-domain-config-required"),Fe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:s,redirectUrl:n,v:zu,eventId:r};if(e instanceof lp){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Q6(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))o[u]=h}if(e instanceof Bu){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const u of Object.keys(l))l[u]===void 0&&delete l[u];const c=await t._getAppCheckToken(),d=c?`#${e$}=${encodeURIComponent(c)}`:"";return`${t$(t)}?${Uu(l).slice(1)}${d}`}function t$({config:t}){return t.emulator?fv(t,JV):`https://${t.authDomain}/${XV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg="webStorageSupport";class s${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zP,this._completeRedirectFn=GP,this._overrideRedirectResult=NV}async _openPopup(e,s,n,r){var a;bi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await Zj(e,s,n,py(),r);return ZV(e,o,yv())}async _openRedirect(e,s,n,r){await this._originValidation(e);const a=await Zj(e,s,n,py(),r);return rV(a),new Promise(()=>{})}_initialize(e){const s=e._key();if(this.eventManagers[s]){const{manager:r,promise:a}=this.eventManagers[s];return r?Promise.resolve(r):(bi(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[s]={promise:n},n.catch(()=>{delete this.eventManagers[s]}),n}async initAndGetManager(e){const s=await HV(e),n=new IV(e);return s.register("authEvent",r=>(Fe(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:n.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=s,n}_isIframeWebStorageSupported(e,s){this.iframes[e._key()].send(Sg,{type:Sg},r=>{var a;const o=(a=r==null?void 0:r[0])===null||a===void 0?void 0:a[Sg];o!==void 0&&s(!!o),Dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const s=e._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=MV(e)),this.originValidationPromises[s]}get _shouldInitProactively(){return AP()||CP()||gv()}}const n$=s$;var Yj="@firebase/auth",Xj="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const s=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,s),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const s=this.internalListeners.get(e);s&&(this.internalListeners.delete(e),s(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function a$(t){Xd(new ec("auth",(e,{options:s})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=n.options;Fe(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MP(t)},d=new Dz(n,r,a,c);return Vz(d,s),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,s,n)=>{e.getProvider("auth-internal").initialize()})),Xd(new ec("auth-internal",e=>{const s=bc(e.getProvider("auth").getImmediate());return(n=>new r$(n))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),xl(Yj,Xj,i$(t)),xl(Yj,Xj,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o$=5*60,l$=cP("authIdTokenMaxAge")||o$;let Jj=null;const c$=t=>async e=>{const s=e&&await e.getIdTokenResult(),n=s&&(new Date().getTime()-Date.parse(s.issuedAtTime))/1e3;if(n&&n>l$)return;const r=s==null?void 0:s.token;Jj!==r&&(Jj=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function ZP(t=YU()){const e=fP(t,"auth");if(e.isInitialized())return e.getImmediate();const s=zz(t,{popupRedirectResolver:n$,persistence:[fV,tV,zP]}),n=cP("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=c$(a.toString());Zz(s,o,()=>o(s.currentUser)),Qz(s,l=>o(l))}}const r=M6("auth");return r&&$z(s,`http://${r}`),s}function d$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Oz({loadJS(t){return new Promise((e,s)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=r=>{const a=Xn("internal-error");a.customData=r,s(a)},n.type="text/javascript",n.charset="UTF-8",d$().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});a$("Browser");const u$={apiKey:"AIzaSyCKfuJ0Wq24MXrKnrcFiAk537jiEw94CFI",authDomain:"marvel-card-vault.firebaseapp.com",projectId:"marvel-card-vault",storageBucket:"marvel-card-vault.appspot.com",messagingSenderId:"123456789",appId:"1:946426423073:web:a57b9dc81913c0f31d0060"},h$=mP(u$),di=ZP(h$);try{console.log("Firebase initialized successfully")}catch(t){throw console.error("Firebase initialization error:",t),t}const eN=new wr,f$=async t=>{try{const e=await fetch("/api/auth/sync",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firebaseUid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL})});if(e.ok){const s=await e.json();console.log("User synced with backend:",s.user);const{useAppStore:n}=await nP(async()=>{const{useAppStore:a}=await Promise.resolve().then(()=>SA);return{useAppStore:a}},void 0);n.getState().setCurrentUser({id:s.user.id,name:s.user.displayName||s.user.username,email:s.user.email,avatar:s.user.photoURL||"",isAdmin:s.user.isAdmin,plan:s.user.plan,subscriptionStatus:s.user.subscriptionStatus,onboardingComplete:s.user.onboardingComplete,username:s.user.username});const r=localStorage.getItem("selectedPlan");r==="SUPER_HERO"&&s.user.plan==="SIDE_KICK"?(localStorage.removeItem("selectedPlan"),setTimeout(()=>{window.location.href="https://buy.stripe.com/3cI14n5dwegW7Bo8pP6kg00"},1e3)):r&&localStorage.removeItem("selectedPlan")}else console.error("Failed to sync user with backend")}catch(e){console.error("Error syncing user:",e)}},m$=async()=>{try{console.log("Starting Google sign-in..."),console.log("Firebase config check:",{apiKey:!0,projectId:"marvel-card-vault",appId:!0,hostname:window.location.hostname});try{const t=await yV(di,eN);t.user&&(console.log("User signed in via popup:",t.user.displayName),await f$(t.user))}catch(t){if(t.code==="auth/popup-blocked"||t.code==="auth/popup-closed-by-user"||t.code==="auth/cancelled-popup-request"){console.log("Popup blocked or closed, using redirect method..."),await SV(di,eN);return}throw t}}catch(t){throw console.error("Google sign-in error details:",{code:t.code,message:t.message,stack:t.stack}),t.code==="auth/unauthorized-domain"&&console.error("Domain not authorized in Firebase. Add this domain to Firebase Console > Authentication > Settings > Authorized domains"),t}},p$=()=>Xz(di);async function YP(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}async function XP(){var e;const t={"Content-Type":"application/json"};try{const s=di==null?void 0:di.currentUser;if(s){const n=await s.getIdToken();t.Authorization=`Bearer ${n}`,t["x-firebase-uid"]=s.uid,t["x-user-email"]=s.email||"",t["x-display-name"]=s.displayName||"",t["x-photo-url"]=s.photoURL||"",t["x-user-name"]=s.displayName||((e=s.email)==null?void 0:e.split("@")[0])||"User"}}catch(s){console.error("Error getting auth headers:",s)}return t}async function _e(t,e,s){const n=await XP(),r=await fetch(e,{method:t,headers:n,body:s?JSON.stringify(s):void 0,credentials:"include"});return await YP(r),r}const g$=({on401:t})=>async({queryKey:e})=>{const s=await XP(),n=await fetch(e[0],{headers:s,credentials:"include"});return t==="returnNull"&&n.status===401?null:(await YP(n),await n.json())},Rs=new a6({defaultOptions:{queries:{queryFn:g$({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),x$=1,y$=1e6;let _g=0;function v$(){return _g=(_g+1)%Number.MAX_SAFE_INTEGER,_g.toString()}const Cg=new Map,tN=t=>{if(Cg.has(t))return;const e=setTimeout(()=>{Cg.delete(t),Nd({type:"REMOVE_TOAST",toastId:t})},y$);Cg.set(t,e)},b$=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,x$)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=e;return s?tN(s):t.toasts.forEach(n=>{tN(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===s||s===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)}}},pf=[];let gf={toasts:[]};function Nd(t){gf=b$(gf,t),pf.forEach(e=>{e(gf)})}function Js({...t}){const e=v$(),s=r=>Nd({type:"UPDATE_TOAST",toast:{...r,id:e}}),n=()=>Nd({type:"DISMISS_TOAST",toastId:e});return Nd({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:r=>{r||n()}}}),{id:e,dismiss:n,update:s}}function dt(){const[t,e]=x.useState(gf);return x.useEffect(()=>(pf.push(e),()=>{const s=pf.indexOf(e);s>-1&&pf.splice(s,1)}),[t]),{...t,toast:Js,dismiss:s=>Nd({type:"DISMISS_TOAST",toastId:s})}}function pe(t,e,{checkForDefaultPrevented:s=!0}={}){return function(r){if(t==null||t(r),s===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function sN(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function JP(...t){return e=>{let s=!1;const n=t.map(r=>{const a=sN(r,e);return!s&&typeof a=="function"&&(s=!0),a});if(s)return()=>{for(let r=0;r<n.length;r++){const a=n[r];typeof a=="function"?a():sN(t[r],null)}}}}function Ge(...t){return x.useCallback(JP(...t),t)}function w$(t,e){const s=x.createContext(e),n=a=>{const{children:o,...l}=a,c=x.useMemo(()=>l,Object.values(l));return i.jsx(s.Provider,{value:c,children:o})};n.displayName=t+"Provider";function r(a){const o=x.useContext(s);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[n,r]}function hs(t,e=[]){let s=[];function n(a,o){const l=x.createContext(o),c=s.length;s=[...s,o];const d=h=>{var v;const{scope:f,children:p,...b}=h,m=((v=f==null?void 0:f[t])==null?void 0:v[c])||l,g=x.useMemo(()=>b,Object.values(b));return i.jsx(m.Provider,{value:g,children:p})};d.displayName=a+"Provider";function u(h,f){var m;const p=((m=f==null?void 0:f[t])==null?void 0:m[c])||l,b=x.useContext(p);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[d,u]}const r=()=>{const a=s.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return x.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return r.scopeName=t,[n,j$(r,...e)]}function j$(...t){const e=t[0];if(t.length===1)return e;const s=()=>{const n=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const h=c(a)[`__scope${d}`];return{...l,...h}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return s.scopeName=e.scopeName,s}function No(t){const e=N$(t),s=x.forwardRef((n,r)=>{const{children:a,...o}=n,l=x.Children.toArray(a),c=l.find(_$);if(c){const d=c.props.children,u=l.map(h=>h===c?x.Children.count(d)>1?x.Children.only(null):x.isValidElement(d)?d.props.children:null:h);return i.jsx(e,{...o,ref:r,children:x.isValidElement(d)?x.cloneElement(d,void 0,u):null})}return i.jsx(e,{...o,ref:r,children:a})});return s.displayName=`${t}.Slot`,s}var eT=No("Slot");function N$(t){const e=x.forwardRef((s,n)=>{const{children:r,...a}=s;if(x.isValidElement(r)){const o=k$(r),l=C$(a,r.props);return r.type!==x.Fragment&&(l.ref=n?JP(n,o):o),x.cloneElement(r,l)}return x.Children.count(r)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var tT=Symbol("radix.slottable");function S$(t){const e=({children:s})=>i.jsx(i.Fragment,{children:s});return e.displayName=`${t}.Slottable`,e.__radixId=tT,e}function _$(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===tT}function C$(t,e){const s={...e};for(const n in e){const r=t[n],a=e[n];/^on[A-Z]/.test(n)?r&&a?s[n]=(...l)=>{a(...l),r(...l)}:r&&(s[n]=r):n==="style"?s[n]={...r,...a}:n==="className"&&(s[n]=[r,a].filter(Boolean).join(" "))}return{...t,...s}}function k$(t){var n,r;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,s=e&&"isReactWarning"in e&&e.isReactWarning;return s?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,s=e&&"isReactWarning"in e&&e.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function wv(t){const e=t+"CollectionProvider",[s,n]=hs(e),[r,a]=s(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:g,children:v}=m,y=Oe.useRef(null),w=Oe.useRef(new Map).current;return i.jsx(r,{scope:g,itemMap:w,collectionRef:y,children:v})};o.displayName=e;const l=t+"CollectionSlot",c=No(l),d=Oe.forwardRef((m,g)=>{const{scope:v,children:y}=m,w=a(l,v),j=Ge(g,w.collectionRef);return i.jsx(c,{ref:j,children:y})});d.displayName=l;const u=t+"CollectionItemSlot",h="data-radix-collection-item",f=No(u),p=Oe.forwardRef((m,g)=>{const{scope:v,children:y,...w}=m,j=Oe.useRef(null),N=Ge(g,j),C=a(u,v);return Oe.useEffect(()=>(C.itemMap.set(j,{ref:j,...w}),()=>void C.itemMap.delete(j))),i.jsx(f,{[h]:"",ref:N,children:y})});p.displayName=u;function b(m){const g=a(t+"CollectionConsumer",m);return Oe.useCallback(()=>{const y=g.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${h}]`));return Array.from(g.itemMap.values()).sort((C,_)=>w.indexOf(C.ref.current)-w.indexOf(_.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:d,ItemSlot:p},b,n]}var I$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],je=I$.reduce((t,e)=>{const s=No(`Primitive.${e}`),n=x.forwardRef((r,a)=>{const{asChild:o,...l}=r,c=o?s:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function sT(t,e){t&&Fo.flushSync(()=>t.dispatchEvent(e))}function At(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...s)=>{var n;return(n=e.current)==null?void 0:n.call(e,...s)},[])}function E$(t,e=globalThis==null?void 0:globalThis.document){const s=At(t);x.useEffect(()=>{const n=r=>{r.key==="Escape"&&s(r)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[s,e])}var P$="DismissableLayer",yy="dismissableLayer.update",T$="dismissableLayer.pointerDownOutside",A$="dismissableLayer.focusOutside",nN,nT=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),wc=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:n,onPointerDownOutside:r,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=t,d=x.useContext(nT),[u,h]=x.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=x.useState({}),b=Ge(e,_=>h(_)),m=Array.from(d.layers),[g]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(g),y=u?m.indexOf(u):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,j=y>=v,N=R$(_=>{const k=_.target,M=[...d.branches].some(L=>L.contains(k));!j||M||(r==null||r(_),o==null||o(_),_.defaultPrevented||l==null||l())},f),C=D$(_=>{const k=_.target;[...d.branches].some(L=>L.contains(k))||(a==null||a(_),o==null||o(_),_.defaultPrevented||l==null||l())},f);return E$(_=>{y===d.layers.size-1&&(n==null||n(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},f),x.useEffect(()=>{if(u)return s&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(nN=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),rN(),()=>{s&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=nN)}},[u,f,s,d]),x.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),rN())},[u,d]),x.useEffect(()=>{const _=()=>p({});return document.addEventListener(yy,_),()=>document.removeEventListener(yy,_)},[]),i.jsx(je.div,{...c,ref:b,style:{pointerEvents:w?j?"auto":"none":void 0,...t.style},onFocusCapture:pe(t.onFocusCapture,C.onFocusCapture),onBlurCapture:pe(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:pe(t.onPointerDownCapture,N.onPointerDownCapture)})});wc.displayName=P$;var M$="DismissableLayerBranch",rT=x.forwardRef((t,e)=>{const s=x.useContext(nT),n=x.useRef(null),r=Ge(e,n);return x.useEffect(()=>{const a=n.current;if(a)return s.branches.add(a),()=>{s.branches.delete(a)}},[s.branches]),i.jsx(je.div,{...t,ref:r})});rT.displayName=M$;function R$(t,e=globalThis==null?void 0:globalThis.document){const s=At(t),n=x.useRef(!1),r=x.useRef(()=>{});return x.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){iT(T$,s,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=c,e.addEventListener("click",r.current,{once:!0})):c()}else e.removeEventListener("click",r.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",r.current)}},[e,s]),{onPointerDownCapture:()=>n.current=!0}}function D$(t,e=globalThis==null?void 0:globalThis.document){const s=At(t),n=x.useRef(!1);return x.useEffect(()=>{const r=a=>{a.target&&!n.current&&iT(A$,s,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,s]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function rN(){const t=new CustomEvent(yy);document.dispatchEvent(t)}function iT(t,e,s,{discrete:n}){const r=s.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:s});e&&r.addEventListener(t,e,{once:!0}),n?sT(r,a):r.dispatchEvent(a)}var O$=wc,L$=rT,Bt=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},F$="Portal",Wu=x.forwardRef((t,e)=>{var l;const{container:s,...n}=t,[r,a]=x.useState(!1);Bt(()=>a(!0),[]);const o=s||r&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?g3.createPortal(i.jsx(je.div,{...n,ref:e}),o):null});Wu.displayName=F$;function U$(t,e){return x.useReducer((s,n)=>e[s][n]??s,t)}var Ss=t=>{const{present:e,children:s}=t,n=z$(e),r=typeof s=="function"?s({present:n.isPresent}):x.Children.only(s),a=Ge(n.ref,V$(r));return typeof s=="function"||n.isPresent?x.cloneElement(r,{ref:a}):null};Ss.displayName="Presence";function z$(t){const[e,s]=x.useState(),n=x.useRef({}),r=x.useRef(t),a=x.useRef("none"),o=t?"mounted":"unmounted",[l,c]=U$(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const d=Ih(n.current);a.current=l==="mounted"?d:"none"},[l]),Bt(()=>{const d=n.current,u=r.current;if(u!==t){const f=a.current,p=Ih(d);t?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&f!==p?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,c]),Bt(()=>{if(e){let d;const u=e.ownerDocument.defaultView??window,h=p=>{const m=Ih(n.current).includes(p.animationName);if(p.target===e&&m&&(c("ANIMATION_END"),!r.current)){const g=e.style.animationFillMode;e.style.animationFillMode="forwards",d=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=g)})}},f=p=>{p.target===e&&(a.current=Ih(n.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(d),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(d=>{d&&(n.current=getComputedStyle(d)),s(d)},[])}}function Ih(t){return(t==null?void 0:t.animationName)||"none"}function V$(t){var n,r;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,s=e&&"isReactWarning"in e&&e.isReactWarning;return s?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,s=e&&"isReactWarning"in e&&e.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function rr({prop:t,defaultProp:e,onChange:s=()=>{}}){const[n,r]=$$({defaultProp:e,onChange:s}),a=t!==void 0,o=a?t:n,l=At(s),c=x.useCallback(d=>{if(a){const h=typeof d=="function"?d(t):d;h!==t&&l(h)}else r(d)},[a,t,r,l]);return[o,c]}function $$({defaultProp:t,onChange:e}){const s=x.useState(t),[n]=s,r=x.useRef(n),a=At(e);return x.useEffect(()=>{r.current!==n&&(a(n),r.current=n)},[n,r,a]),s}var B$="VisuallyHidden",qu=x.forwardRef((t,e)=>i.jsx(je.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));qu.displayName=B$;var H$=qu,jv="ToastProvider",[Nv,W$,q$]=wv("Toast"),[aT,Rte]=hs("Toast",[q$]),[K$,up]=aT(jv),oT=t=>{const{__scopeToast:e,label:s="Notification",duration:n=5e3,swipeDirection:r="right",swipeThreshold:a=50,children:o}=t,[l,c]=x.useState(null),[d,u]=x.useState(0),h=x.useRef(!1),f=x.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${jv}\`. Expected non-empty \`string\`.`),i.jsx(Nv.Provider,{scope:e,children:i.jsx(K$,{scope:e,label:s,duration:n,swipeDirection:r,swipeThreshold:a,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:x.useCallback(()=>u(p=>p+1),[]),onToastRemove:x.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};oT.displayName=jv;var lT="ToastViewport",G$=["F8"],vy="toast.viewportPause",by="toast.viewportResume",cT=x.forwardRef((t,e)=>{const{__scopeToast:s,hotkey:n=G$,label:r="Notifications ({hotkey})",...a}=t,o=up(lT,s),l=W$(s),c=x.useRef(null),d=x.useRef(null),u=x.useRef(null),h=x.useRef(null),f=Ge(e,h,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;x.useEffect(()=>{const g=v=>{var w;n.length!==0&&n.every(j=>v[j]||v.code===j)&&((w=h.current)==null||w.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[n]),x.useEffect(()=>{const g=c.current,v=h.current;if(b&&g&&v){const y=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(vy);v.dispatchEvent(C),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(by);v.dispatchEvent(C),o.isClosePausedRef.current=!1}},j=C=>{!g.contains(C.relatedTarget)&&w()},N=()=>{g.contains(document.activeElement)||w()};return g.addEventListener("focusin",y),g.addEventListener("focusout",j),g.addEventListener("pointermove",y),g.addEventListener("pointerleave",N),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{g.removeEventListener("focusin",y),g.removeEventListener("focusout",j),g.removeEventListener("pointermove",y),g.removeEventListener("pointerleave",N),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[b,o.isClosePausedRef]);const m=x.useCallback(({tabbingDirection:g})=>{const y=l().map(w=>{const j=w.ref.current,N=[j,...o8(j)];return g==="forwards"?N:N.reverse()});return(g==="forwards"?y.reverse():y).flat()},[l]);return x.useEffect(()=>{const g=h.current;if(g){const v=y=>{var N,C,_;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const k=document.activeElement,M=y.shiftKey;if(y.target===g&&M){(N=d.current)==null||N.focus();return}const I=m({tabbingDirection:M?"backwards":"forwards"}),B=I.findIndex(H=>H===k);kg(I.slice(B+1))?y.preventDefault():M?(C=d.current)==null||C.focus():(_=u.current)==null||_.focus()}};return g.addEventListener("keydown",v),()=>g.removeEventListener("keydown",v)}},[l,m]),i.jsxs(L$,{ref:c,role:"region","aria-label":r.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&i.jsx(wy,{ref:d,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"forwards"});kg(g)}}),i.jsx(Nv.Slot,{scope:s,children:i.jsx(je.ol,{tabIndex:-1,...a,ref:f})}),b&&i.jsx(wy,{ref:u,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"backwards"});kg(g)}})]})});cT.displayName=lT;var dT="ToastFocusProxy",wy=x.forwardRef((t,e)=>{const{__scopeToast:s,onFocusFromOutsideViewport:n,...r}=t,a=up(dT,s);return i.jsx(qu,{"aria-hidden":!0,tabIndex:0,...r,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=a.viewport)!=null&&d.contains(l))&&n()}})});wy.displayName=dT;var hp="Toast",Q$="toast.swipeStart",Z$="toast.swipeMove",Y$="toast.swipeCancel",X$="toast.swipeEnd",uT=x.forwardRef((t,e)=>{const{forceMount:s,open:n,defaultOpen:r,onOpenChange:a,...o}=t,[l=!0,c]=rr({prop:n,defaultProp:r,onChange:a});return i.jsx(Ss,{present:s||l,children:i.jsx(t8,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:At(t.onPause),onResume:At(t.onResume),onSwipeStart:pe(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:pe(t.onSwipeMove,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:pe(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:pe(t.onSwipeEnd,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});uT.displayName=hp;var[J$,e8]=aT(hp,{onClose(){}}),t8=x.forwardRef((t,e)=>{const{__scopeToast:s,type:n="foreground",duration:r,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:p,...b}=t,m=up(hp,s),[g,v]=x.useState(null),y=Ge(e,H=>v(H)),w=x.useRef(null),j=x.useRef(null),N=r||m.duration,C=x.useRef(0),_=x.useRef(N),k=x.useRef(0),{onToastAdd:M,onToastRemove:L}=m,O=At(()=>{var J;(g==null?void 0:g.contains(document.activeElement))&&((J=m.viewport)==null||J.focus()),o()}),I=x.useCallback(H=>{!H||H===1/0||(window.clearTimeout(k.current),C.current=new Date().getTime(),k.current=window.setTimeout(O,H))},[O]);x.useEffect(()=>{const H=m.viewport;if(H){const J=()=>{I(_.current),d==null||d()},z=()=>{const q=new Date().getTime()-C.current;_.current=_.current-q,window.clearTimeout(k.current),c==null||c()};return H.addEventListener(vy,z),H.addEventListener(by,J),()=>{H.removeEventListener(vy,z),H.removeEventListener(by,J)}}},[m.viewport,N,c,d,I]),x.useEffect(()=>{a&&!m.isClosePausedRef.current&&I(N)},[a,N,m.isClosePausedRef,I]),x.useEffect(()=>(M(),()=>L()),[M,L]);const B=x.useMemo(()=>g?yT(g):null,[g]);return m.viewport?i.jsxs(i.Fragment,{children:[B&&i.jsx(s8,{__scopeToast:s,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:B}),i.jsx(J$,{scope:s,onClose:O,children:Fo.createPortal(i.jsx(Nv.ItemSlot,{scope:s,children:i.jsx(O$,{asChild:!0,onEscapeKeyDown:pe(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||O(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(je.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":m.swipeDirection,...b,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:pe(t.onKeyDown,H=>{H.key==="Escape"&&(l==null||l(H.nativeEvent),H.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:pe(t.onPointerDown,H=>{H.button===0&&(w.current={x:H.clientX,y:H.clientY})}),onPointerMove:pe(t.onPointerMove,H=>{if(!w.current)return;const J=H.clientX-w.current.x,z=H.clientY-w.current.y,q=!!j.current,F=["left","right"].includes(m.swipeDirection),W=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,Q=F?W(0,J):0,ae=F?0:W(0,z),he=H.pointerType==="touch"?10:2,Be={x:Q,y:ae},Ae={originalEvent:H,delta:Be};q?(j.current=Be,Eh(Z$,h,Ae,{discrete:!1})):iN(Be,m.swipeDirection,he)?(j.current=Be,Eh(Q$,u,Ae,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(J)>he||Math.abs(z)>he)&&(w.current=null)}),onPointerUp:pe(t.onPointerUp,H=>{const J=j.current,z=H.target;if(z.hasPointerCapture(H.pointerId)&&z.releasePointerCapture(H.pointerId),j.current=null,w.current=null,J){const q=H.currentTarget,F={originalEvent:H,delta:J};iN(J,m.swipeDirection,m.swipeThreshold)?Eh(X$,p,F,{discrete:!0}):Eh(Y$,f,F,{discrete:!0}),q.addEventListener("click",W=>W.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),s8=t=>{const{__scopeToast:e,children:s,...n}=t,r=up(hp,e),[a,o]=x.useState(!1),[l,c]=x.useState(!1);return i8(()=>o(!0)),x.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:i.jsx(Wu,{asChild:!0,children:i.jsx(qu,{...n,children:a&&i.jsxs(i.Fragment,{children:[r.label," ",s]})})})},n8="ToastTitle",hT=x.forwardRef((t,e)=>{const{__scopeToast:s,...n}=t;return i.jsx(je.div,{...n,ref:e})});hT.displayName=n8;var r8="ToastDescription",fT=x.forwardRef((t,e)=>{const{__scopeToast:s,...n}=t;return i.jsx(je.div,{...n,ref:e})});fT.displayName=r8;var mT="ToastAction",pT=x.forwardRef((t,e)=>{const{altText:s,...n}=t;return s.trim()?i.jsx(xT,{altText:s,asChild:!0,children:i.jsx(Sv,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${mT}\`. Expected non-empty \`string\`.`),null)});pT.displayName=mT;var gT="ToastClose",Sv=x.forwardRef((t,e)=>{const{__scopeToast:s,...n}=t,r=e8(gT,s);return i.jsx(xT,{asChild:!0,children:i.jsx(je.button,{type:"button",...n,ref:e,onClick:pe(t.onClick,r.onClose)})})});Sv.displayName=gT;var xT=x.forwardRef((t,e)=>{const{__scopeToast:s,altText:n,...r}=t;return i.jsx(je.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...r,ref:e})});function yT(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),a8(n)){const r=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!r)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...yT(n))}}),e}function Eh(t,e,s,{discrete:n}){const r=s.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:s});e&&r.addEventListener(t,e,{once:!0}),n?sT(r,a):r.dispatchEvent(a)}var iN=(t,e,s=0)=>{const n=Math.abs(t.x),r=Math.abs(t.y),a=n>r;return e==="left"||e==="right"?a&&n>s:!a&&r>s};function i8(t=()=>{}){const e=At(t);Bt(()=>{let s=0,n=0;return s=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(n)}},[e])}function a8(t){return t.nodeType===t.ELEMENT_NODE}function o8(t){const e=[],s=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const r=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||r?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)e.push(s.currentNode);return e}function kg(t){const e=document.activeElement;return t.some(s=>s===e?!0:(s.focus(),document.activeElement!==e))}var l8=oT,vT=cT,bT=uT,wT=hT,jT=fT,NT=pT,ST=Sv;function _T(t){var e,s,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(s=_T(t[e]))&&(n&&(n+=" "),n+=s)}else for(s in t)t[s]&&(n&&(n+=" "),n+=s);return n}function CT(){for(var t,e,s=0,n="",r=arguments.length;s<r;s++)(t=arguments[s])&&(e=_T(t))&&(n&&(n+=" "),n+=e);return n}const aN=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,oN=CT,Ku=(t,e)=>s=>{var n;if((e==null?void 0:e.variants)==null)return oN(t,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:r,defaultVariants:a}=e,o=Object.keys(r).map(d=>{const u=s==null?void 0:s[d],h=a==null?void 0:a[d];if(u===null)return null;const f=aN(u)||aN(h);return r[d][f]}),l=s&&Object.entries(s).reduce((d,u)=>{let[h,f]=u;return f===void 0||(d[h]=f),d},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:h,className:f,...p}=u;return Object.entries(p).every(b=>{let[m,g]=b;return Array.isArray(g)?g.includes({...a,...l}[m]):{...a,...l}[m]===g})?[...d,h,f]:d},[]);return oN(t,o,c,s==null?void 0:s.class,s==null?void 0:s.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kT=(...t)=>t.filter((e,s,n)=>!!e&&n.indexOf(e)===s).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var d8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u8=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:n,className:r="",children:a,iconNode:o,...l},c)=>x.createElement("svg",{ref:c,...d8,width:e,height:e,stroke:t,strokeWidth:n?Number(s)*24/Number(e):s,className:kT("lucide",r),...l},[...o.map(([d,u])=>x.createElement(d,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(t,e)=>{const s=x.forwardRef(({className:n,...r},a)=>x.createElement(u8,{ref:a,iconNode:e,className:kT(`lucide-${c8(t)}`,n),...r}));return s.displayName=`${t}`,s};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=ge("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=ge("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=ge("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=ge("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=ge("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8=ge("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f8=ge("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=ge("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=ge("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=ge("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=ge("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=ge("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=ge("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=ge("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=ge("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=ge("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=ge("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=ge("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=ge("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=ge("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=ge("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=ge("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=ge("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=ge("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=ge("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=ge("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=ge("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=ge("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=ge("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=ge("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=ge("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=ge("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=ge("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=ge("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y8=ge("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=ge("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=ge("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=ge("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v8=ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=ge("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b8=ge("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=ge("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=ge("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w8=ge("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=ge("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=ge("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=ge("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=ge("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j8=ge("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N8=ge("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=ge("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=ge("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S8=ge("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=ge("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=ge("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=ge("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=ge("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=ge("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=ge("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Tv="-",_8=t=>{const e=k8(t),{conflictingClassGroups:s,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(Tv);return l[0]===""&&l.length!==1&&l.shift(),RT(l,e)||C8(o)},getConflictingClassGroupIds:(o,l)=>{const c=s[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},RT=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const s=t[0],n=e.nextPart.get(s),r=n?RT(t.slice(1),n):void 0;if(r)return r;if(e.validators.length===0)return;const a=t.join(Tv);return(o=e.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},cN=/^\[(.+)\]$/,C8=t=>{if(cN.test(t)){const e=cN.exec(t)[1],s=e==null?void 0:e.substring(0,e.indexOf(":"));if(s)return"arbitrary.."+s}},k8=t=>{const{theme:e,prefix:s}=t,n={nextPart:new Map,validators:[]};return E8(Object.entries(t.classGroups),s).forEach(([a,o])=>{Cy(o,n,a,e)}),n},Cy=(t,e,s,n)=>{t.forEach(r=>{if(typeof r=="string"){const a=r===""?e:dN(e,r);a.classGroupId=s;return}if(typeof r=="function"){if(I8(r)){Cy(r(n),e,s,n);return}e.validators.push({validator:r,classGroupId:s});return}Object.entries(r).forEach(([a,o])=>{Cy(o,dN(e,a),s,n)})})},dN=(t,e)=>{let s=t;return e.split(Tv).forEach(n=>{s.nextPart.has(n)||s.nextPart.set(n,{nextPart:new Map,validators:[]}),s=s.nextPart.get(n)}),s},I8=t=>t.isThemeGetter,E8=(t,e)=>e?t.map(([s,n])=>{const r=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[e+o,l])):a);return[s,r]}):t,P8=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,s=new Map,n=new Map;const r=(a,o)=>{s.set(a,o),e++,e>t&&(e=0,n=s,s=new Map)};return{get(a){let o=s.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return r(a,o),o},set(a,o){s.has(a)?s.set(a,o):r(a,o)}}},DT="!",T8=t=>{const{separator:e,experimentalParseClassName:s}=t,n=e.length===1,r=e[0],a=e.length,o=l=>{const c=[];let d=0,u=0,h;for(let g=0;g<l.length;g++){let v=l[g];if(d===0){if(v===r&&(n||l.slice(g,g+a)===e)){c.push(l.slice(u,g)),u=g+a;continue}if(v==="/"){h=g;continue}}v==="["?d++:v==="]"&&d--}const f=c.length===0?l:l.substring(u),p=f.startsWith(DT),b=p?f.substring(1):f,m=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:b,maybePostfixModifierPosition:m}};return s?l=>s({className:l,parseClassName:o}):o},A8=t=>{if(t.length<=1)return t;const e=[];let s=[];return t.forEach(n=>{n[0]==="["?(e.push(...s.sort(),n),s=[]):s.push(n)}),e.push(...s.sort()),e},M8=t=>({cache:P8(t.cacheSize),parseClassName:T8(t),..._8(t)}),R8=/\s+/,D8=(t,e)=>{const{parseClassName:s,getClassGroupId:n,getConflictingClassGroupIds:r}=e,a=[],o=t.trim().split(R8);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=s(d);let b=!!p,m=n(b?f.substring(0,p):f);if(!m){if(!b){l=d+(l.length>0?" "+l:l);continue}if(m=n(f),!m){l=d+(l.length>0?" "+l:l);continue}b=!1}const g=A8(u).join(":"),v=h?g+DT:g,y=v+m;if(a.includes(y))continue;a.push(y);const w=r(m,b);for(let j=0;j<w.length;++j){const N=w[j];a.push(v+N)}l=d+(l.length>0?" "+l:l)}return l};function O8(){let t=0,e,s,n="";for(;t<arguments.length;)(e=arguments[t++])&&(s=OT(e))&&(n&&(n+=" "),n+=s);return n}const OT=t=>{if(typeof t=="string")return t;let e,s="";for(let n=0;n<t.length;n++)t[n]&&(e=OT(t[n]))&&(s&&(s+=" "),s+=e);return s};function L8(t,...e){let s,n,r,a=o;function o(c){const d=e.reduce((u,h)=>h(u),t());return s=M8(d),n=s.cache.get,r=s.cache.set,a=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=D8(c,s);return r(c,u),u}return function(){return a(O8.apply(null,arguments))}}const xt=t=>{const e=s=>s[t]||[];return e.isThemeGetter=!0,e},LT=/^\[(?:([a-z-]+):)?(.+)\]$/i,F8=/^\d+\/\d+$/,U8=new Set(["px","full","screen"]),z8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,V8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,B8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,H8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Hr=t=>Sl(t)||U8.has(t)||F8.test(t),Ii=t=>Nc(t,"length",X8),Sl=t=>!!t&&!Number.isNaN(Number(t)),Pg=t=>Nc(t,"number",Sl),Vc=t=>!!t&&Number.isInteger(Number(t)),W8=t=>t.endsWith("%")&&Sl(t.slice(0,-1)),He=t=>LT.test(t),Ei=t=>z8.test(t),q8=new Set(["length","size","percentage"]),K8=t=>Nc(t,q8,FT),G8=t=>Nc(t,"position",FT),Q8=new Set(["image","url"]),Z8=t=>Nc(t,Q8,eB),Y8=t=>Nc(t,"",J8),$c=()=>!0,Nc=(t,e,s)=>{const n=LT.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):s(n[2]):!1},X8=t=>V8.test(t)&&!$8.test(t),FT=()=>!1,J8=t=>B8.test(t),eB=t=>H8.test(t),tB=()=>{const t=xt("colors"),e=xt("spacing"),s=xt("blur"),n=xt("brightness"),r=xt("borderColor"),a=xt("borderRadius"),o=xt("borderSpacing"),l=xt("borderWidth"),c=xt("contrast"),d=xt("grayscale"),u=xt("hueRotate"),h=xt("invert"),f=xt("gap"),p=xt("gradientColorStops"),b=xt("gradientColorStopPositions"),m=xt("inset"),g=xt("margin"),v=xt("opacity"),y=xt("padding"),w=xt("saturate"),j=xt("scale"),N=xt("sepia"),C=xt("skew"),_=xt("space"),k=xt("translate"),M=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",He,e],I=()=>[He,e],B=()=>["",Hr,Ii],H=()=>["auto",Sl,He],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],W=()=>["","0",He],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ae=()=>[Sl,He];return{cacheSize:500,separator:":",theme:{colors:[$c],spacing:[Hr,Ii],blur:["none","",Ei,He],brightness:ae(),borderColor:[t],borderRadius:["none","","full",Ei,He],borderSpacing:I(),borderWidth:B(),contrast:ae(),grayscale:W(),hueRotate:ae(),invert:W(),gap:I(),gradientColorStops:[t],gradientColorStopPositions:[W8,Ii],inset:O(),margin:O(),opacity:ae(),padding:I(),saturate:ae(),scale:ae(),sepia:W(),skew:ae(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",He]}],container:["container"],columns:[{columns:[Ei]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),He]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Vc,He]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",He]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",Vc,He]}],"grid-cols":[{"grid-cols":[$c]}],"col-start-end":[{col:["auto",{span:["full",Vc,He]},He]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[$c]}],"row-start-end":[{row:["auto",{span:[Vc,He]},He]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",He]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",He]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",He,e]}],"min-w":[{"min-w":[He,e,"min","max","fit"]}],"max-w":[{"max-w":[He,e,"none","full","min","max","fit","prose",{screen:[Ei]},Ei]}],h:[{h:[He,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[He,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[He,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[He,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ei,Ii]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Pg]}],"font-family":[{font:[$c]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",He]}],"line-clamp":[{"line-clamp":["none",Sl,Pg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Hr,He]}],"list-image":[{"list-image":["none",He]}],"list-style-type":[{list:["none","disc","decimal",He]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Hr,Ii]}],"underline-offset":[{"underline-offset":["auto",Hr,He]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",He]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",He]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),G8]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",K8]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Z8]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:z()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[Hr,He]}],"outline-w":[{outline:[Hr,Ii]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Hr,Ii]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ei,Y8]}],"shadow-color":[{shadow:[$c]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ei,He]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",He]}],duration:[{duration:ae()}],ease:[{ease:["linear","in","out","in-out",He]}],delay:[{delay:ae()}],animate:[{animate:["none","spin","ping","pulse","bounce",He]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Vc,He]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",He]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",He]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",He]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Hr,Ii,Pg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},sB=L8(tB);function ye(...t){return sB(CT(t))}function sc(t){if(!t)return t;const e=/drive\.google\.com\/file\/d\/([a-zA-Z0-9_-]+)/,s=t.match(e);if(s)return`https://drive.google.com/uc?export=view&id=${s[1]}`;const n=/drive\.google\.com\/open\?id=([a-zA-Z0-9_-]+)/,r=t.match(n);return r?`https://drive.google.com/uc?export=view&id=${r[1]}`:(t.includes("googleusercontent.com")||t.includes("drive.google.com/thumbnail")||t.includes("drive.google.com/uc?export=view"),t)}const nB=l8,UT=x.forwardRef(({className:t,...e},s)=>i.jsx(vT,{ref:s,className:ye("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));UT.displayName=vT.displayName;const rB=Ku("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),zT=x.forwardRef(({className:t,variant:e,...s},n)=>i.jsx(bT,{ref:n,className:ye(rB({variant:e}),t),...s}));zT.displayName=bT.displayName;const iB=x.forwardRef(({className:t,...e},s)=>i.jsx(NT,{ref:s,className:ye("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));iB.displayName=NT.displayName;const VT=x.forwardRef(({className:t,...e},s)=>i.jsx(ST,{ref:s,className:ye("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:i.jsx(Er,{className:"h-4 w-4"})}));VT.displayName=ST.displayName;const $T=x.forwardRef(({className:t,...e},s)=>i.jsx(wT,{ref:s,className:ye("text-sm font-semibold",t),...e}));$T.displayName=wT.displayName;const BT=x.forwardRef(({className:t,...e},s)=>i.jsx(jT,{ref:s,className:ye("text-sm opacity-90",t),...e}));BT.displayName=jT.displayName;function aB(){const{toasts:t}=dt();return i.jsxs(nB,{children:[t.map(function({id:e,title:s,description:n,action:r,...a}){return i.jsxs(zT,{...a,children:[i.jsxs("div",{className:"grid gap-1",children:[s&&i.jsx($T,{children:s}),n&&i.jsx(BT,{children:n})]}),r,i.jsx(VT,{})]},e)}),i.jsx(UT,{})]})}var oB=E2[" useId ".trim().toString()]||(()=>{}),lB=0;function Pr(t){const[e,s]=x.useState(oB());return Bt(()=>{s(n=>n??String(lB++))},[t]),e?`radix-${e}`:""}const cB=["top","right","bottom","left"],ya=Math.min,sn=Math.max,cm=Math.round,Ph=Math.floor,Tr=t=>({x:t,y:t}),dB={left:"right",right:"left",bottom:"top",top:"bottom"},uB={start:"end",end:"start"};function ky(t,e,s){return sn(t,ya(e,s))}function wi(t,e){return typeof t=="function"?t(e):t}function ji(t){return t.split("-")[0]}function Sc(t){return t.split("-")[1]}function Av(t){return t==="x"?"y":"x"}function Mv(t){return t==="y"?"height":"width"}function va(t){return["top","bottom"].includes(ji(t))?"y":"x"}function Rv(t){return Av(va(t))}function hB(t,e,s){s===void 0&&(s=!1);const n=Sc(t),r=Rv(t),a=Mv(r);let o=r==="x"?n===(s?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=dm(o)),[o,dm(o)]}function fB(t){const e=dm(t);return[Iy(t),e,Iy(e)]}function Iy(t){return t.replace(/start|end/g,e=>uB[e])}function mB(t,e,s){const n=["left","right"],r=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return s?e?r:n:e?n:r;case"left":case"right":return e?a:o;default:return[]}}function pB(t,e,s,n){const r=Sc(t);let a=mB(ji(t),s==="start",n);return r&&(a=a.map(o=>o+"-"+r),e&&(a=a.concat(a.map(Iy)))),a}function dm(t){return t.replace(/left|right|bottom|top/g,e=>dB[e])}function gB(t){return{top:0,right:0,bottom:0,left:0,...t}}function HT(t){return typeof t!="number"?gB(t):{top:t,right:t,bottom:t,left:t}}function um(t){const{x:e,y:s,width:n,height:r}=t;return{width:n,height:r,top:s,left:e,right:e+n,bottom:s+r,x:e,y:s}}function uN(t,e,s){let{reference:n,floating:r}=t;const a=va(e),o=Rv(e),l=Mv(o),c=ji(e),d=a==="y",u=n.x+n.width/2-r.width/2,h=n.y+n.height/2-r.height/2,f=n[l]/2-r[l]/2;let p;switch(c){case"top":p={x:u,y:n.y-r.height};break;case"bottom":p={x:u,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:h};break;case"left":p={x:n.x-r.width,y:h};break;default:p={x:n.x,y:n.y}}switch(Sc(e)){case"start":p[o]-=f*(s&&d?-1:1);break;case"end":p[o]+=f*(s&&d?-1:1);break}return p}const xB=async(t,e,s)=>{const{placement:n="bottom",strategy:r="absolute",middleware:a=[],platform:o}=s,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:r}),{x:u,y:h}=uN(d,n,c),f=n,p={},b=0;for(let m=0;m<l.length;m++){const{name:g,fn:v}=l[m],{x:y,y:w,data:j,reset:N}=await v({x:u,y:h,initialPlacement:n,placement:f,strategy:r,middlewareData:p,rects:d,platform:o,elements:{reference:t,floating:e}});u=y??u,h=w??h,p={...p,[g]:{...p[g],...j}},N&&b<=50&&(b++,typeof N=="object"&&(N.placement&&(f=N.placement),N.rects&&(d=N.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:r}):N.rects),{x:u,y:h}=uN(d,f,c)),m=-1)}return{x:u,y:h,placement:f,strategy:r,middlewareData:p}};async function nu(t,e){var s;e===void 0&&(e={});const{x:n,y:r,platform:a,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=wi(e,t),b=HT(p),g=l[f?h==="floating"?"reference":"floating":h],v=um(await a.getClippingRect({element:(s=await(a.isElement==null?void 0:a.isElement(g)))==null||s?g:g.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),y=h==="floating"?{x:n,y:r,width:o.floating.width,height:o.floating.height}:o.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),j=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},N=um(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:c}):y);return{top:(v.top-N.top+b.top)/j.y,bottom:(N.bottom-v.bottom+b.bottom)/j.y,left:(v.left-N.left+b.left)/j.x,right:(N.right-v.right+b.right)/j.x}}const yB=t=>({name:"arrow",options:t,async fn(e){const{x:s,y:n,placement:r,rects:a,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:u=0}=wi(t,e)||{};if(d==null)return{};const h=HT(u),f={x:s,y:n},p=Rv(r),b=Mv(p),m=await o.getDimensions(d),g=p==="y",v=g?"top":"left",y=g?"bottom":"right",w=g?"clientHeight":"clientWidth",j=a.reference[b]+a.reference[p]-f[p]-a.floating[b],N=f[p]-a.reference[p],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let _=C?C[w]:0;(!_||!await(o.isElement==null?void 0:o.isElement(C)))&&(_=l.floating[w]||a.floating[b]);const k=j/2-N/2,M=_/2-m[b]/2-1,L=ya(h[v],M),O=ya(h[y],M),I=L,B=_-m[b]-O,H=_/2-m[b]/2+k,J=ky(I,H,B),z=!c.arrow&&Sc(r)!=null&&H!==J&&a.reference[b]/2-(H<I?L:O)-m[b]/2<0,q=z?H<I?H-I:H-B:0;return{[p]:f[p]+q,data:{[p]:J,centerOffset:H-J-q,...z&&{alignmentOffset:q}},reset:z}}}),vB=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var s,n;const{placement:r,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:m=!0,...g}=wi(t,e);if((s=a.arrow)!=null&&s.alignmentOffset)return{};const v=ji(r),y=va(l),w=ji(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(d.floating)),N=f||(w||!m?[dm(l)]:fB(l)),C=b!=="none";!f&&C&&N.push(...pB(l,m,b,j));const _=[l,...N],k=await nu(e,g),M=[];let L=((n=a.flip)==null?void 0:n.overflows)||[];if(u&&M.push(k[v]),h){const H=hB(r,o,j);M.push(k[H[0]],k[H[1]])}if(L=[...L,{placement:r,overflows:M}],!M.every(H=>H<=0)){var O,I;const H=(((O=a.flip)==null?void 0:O.index)||0)+1,J=_[H];if(J)return{data:{index:H,overflows:L},reset:{placement:J}};let z=(I=L.filter(q=>q.overflows[0]<=0).sort((q,F)=>q.overflows[1]-F.overflows[1])[0])==null?void 0:I.placement;if(!z)switch(p){case"bestFit":{var B;const q=(B=L.filter(F=>{if(C){const W=va(F.placement);return W===y||W==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(W=>W>0).reduce((W,Q)=>W+Q,0)]).sort((F,W)=>F[1]-W[1])[0])==null?void 0:B[0];q&&(z=q);break}case"initialPlacement":z=l;break}if(r!==z)return{reset:{placement:z}}}return{}}}};function hN(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function fN(t){return cB.some(e=>t[e]>=0)}const bB=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:s}=e,{strategy:n="referenceHidden",...r}=wi(t,e);switch(n){case"referenceHidden":{const a=await nu(e,{...r,elementContext:"reference"}),o=hN(a,s.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:fN(o)}}}case"escaped":{const a=await nu(e,{...r,altBoundary:!0}),o=hN(a,s.floating);return{data:{escapedOffsets:o,escaped:fN(o)}}}default:return{}}}}};async function wB(t,e){const{placement:s,platform:n,elements:r}=t,a=await(n.isRTL==null?void 0:n.isRTL(r.floating)),o=ji(s),l=Sc(s),c=va(s)==="y",d=["left","top"].includes(o)?-1:1,u=a&&c?-1:1,h=wi(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:b}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof b=="number"&&(p=l==="end"?b*-1:b),c?{x:p*u,y:f*d}:{x:f*d,y:p*u}}const jB=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var s,n;const{x:r,y:a,placement:o,middlewareData:l}=e,c=await wB(e,t);return o===((s=l.offset)==null?void 0:s.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:r+c.x,y:a+c.y,data:{...c,placement:o}}}}},NB=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:s,y:n,placement:r}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:g=>{let{x:v,y}=g;return{x:v,y}}},...c}=wi(t,e),d={x:s,y:n},u=await nu(e,c),h=va(ji(r)),f=Av(h);let p=d[f],b=d[h];if(a){const g=f==="y"?"top":"left",v=f==="y"?"bottom":"right",y=p+u[g],w=p-u[v];p=ky(y,p,w)}if(o){const g=h==="y"?"top":"left",v=h==="y"?"bottom":"right",y=b+u[g],w=b-u[v];b=ky(y,b,w)}const m=l.fn({...e,[f]:p,[h]:b});return{...m,data:{x:m.x-s,y:m.y-n,enabled:{[f]:a,[h]:o}}}}}},SB=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:s,y:n,placement:r,rects:a,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=wi(t,e),u={x:s,y:n},h=va(r),f=Av(h);let p=u[f],b=u[h];const m=wi(l,e),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const w=f==="y"?"height":"width",j=a.reference[f]-a.floating[w]+g.mainAxis,N=a.reference[f]+a.reference[w]-g.mainAxis;p<j?p=j:p>N&&(p=N)}if(d){var v,y;const w=f==="y"?"width":"height",j=["top","left"].includes(ji(r)),N=a.reference[h]-a.floating[w]+(j&&((v=o.offset)==null?void 0:v[h])||0)+(j?0:g.crossAxis),C=a.reference[h]+a.reference[w]+(j?0:((y=o.offset)==null?void 0:y[h])||0)-(j?g.crossAxis:0);b<N?b=N:b>C&&(b=C)}return{[f]:p,[h]:b}}}},_B=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var s,n;const{placement:r,rects:a,platform:o,elements:l}=e,{apply:c=()=>{},...d}=wi(t,e),u=await nu(e,d),h=ji(r),f=Sc(r),p=va(r)==="y",{width:b,height:m}=a.floating;let g,v;h==="top"||h==="bottom"?(g=h,v=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(v=h,g=f==="end"?"top":"bottom");const y=m-u.top-u.bottom,w=b-u.left-u.right,j=ya(m-u[g],y),N=ya(b-u[v],w),C=!e.middlewareData.shift;let _=j,k=N;if((s=e.middlewareData.shift)!=null&&s.enabled.x&&(k=w),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(_=y),C&&!f){const L=sn(u.left,0),O=sn(u.right,0),I=sn(u.top,0),B=sn(u.bottom,0);p?k=b-2*(L!==0||O!==0?L+O:sn(u.left,u.right)):_=m-2*(I!==0||B!==0?I+B:sn(u.top,u.bottom))}await c({...e,availableWidth:k,availableHeight:_});const M=await o.getDimensions(l.floating);return b!==M.width||m!==M.height?{reset:{rects:!0}}:{}}}};function mp(){return typeof window<"u"}function _c(t){return WT(t)?(t.nodeName||"").toLowerCase():"#document"}function on(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Vr(t){var e;return(e=(WT(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function WT(t){return mp()?t instanceof Node||t instanceof on(t).Node:!1}function ir(t){return mp()?t instanceof Element||t instanceof on(t).Element:!1}function Fr(t){return mp()?t instanceof HTMLElement||t instanceof on(t).HTMLElement:!1}function mN(t){return!mp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof on(t).ShadowRoot}function Qu(t){const{overflow:e,overflowX:s,overflowY:n,display:r}=ar(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+s)&&!["inline","contents"].includes(r)}function CB(t){return["table","td","th"].includes(_c(t))}function pp(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Dv(t){const e=Ov(),s=ir(t)?ar(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>s[n]?s[n]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!e&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!e&&(s.filter?s.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(s.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(s.contain||"").includes(n))}function kB(t){let e=ba(t);for(;Fr(e)&&!nc(e);){if(Dv(e))return e;if(pp(e))return null;e=ba(e)}return null}function Ov(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function nc(t){return["html","body","#document"].includes(_c(t))}function ar(t){return on(t).getComputedStyle(t)}function gp(t){return ir(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ba(t){if(_c(t)==="html")return t;const e=t.assignedSlot||t.parentNode||mN(t)&&t.host||Vr(t);return mN(e)?e.host:e}function qT(t){const e=ba(t);return nc(e)?t.ownerDocument?t.ownerDocument.body:t.body:Fr(e)&&Qu(e)?e:qT(e)}function ru(t,e,s){var n;e===void 0&&(e=[]),s===void 0&&(s=!0);const r=qT(t),a=r===((n=t.ownerDocument)==null?void 0:n.body),o=on(r);if(a){const l=Ey(o);return e.concat(o,o.visualViewport||[],Qu(r)?r:[],l&&s?ru(l):[])}return e.concat(r,ru(r,[],s))}function Ey(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function KT(t){const e=ar(t);let s=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const r=Fr(t),a=r?t.offsetWidth:s,o=r?t.offsetHeight:n,l=cm(s)!==a||cm(n)!==o;return l&&(s=a,n=o),{width:s,height:n,$:l}}function Lv(t){return ir(t)?t:t.contextElement}function _l(t){const e=Lv(t);if(!Fr(e))return Tr(1);const s=e.getBoundingClientRect(),{width:n,height:r,$:a}=KT(e);let o=(a?cm(s.width):s.width)/n,l=(a?cm(s.height):s.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const IB=Tr(0);function GT(t){const e=on(t);return!Ov()||!e.visualViewport?IB:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function EB(t,e,s){return e===void 0&&(e=!1),!s||e&&s!==on(t)?!1:e}function ko(t,e,s,n){e===void 0&&(e=!1),s===void 0&&(s=!1);const r=t.getBoundingClientRect(),a=Lv(t);let o=Tr(1);e&&(n?ir(n)&&(o=_l(n)):o=_l(t));const l=EB(a,s,n)?GT(a):Tr(0);let c=(r.left+l.x)/o.x,d=(r.top+l.y)/o.y,u=r.width/o.x,h=r.height/o.y;if(a){const f=on(a),p=n&&ir(n)?on(n):n;let b=f,m=Ey(b);for(;m&&n&&p!==b;){const g=_l(m),v=m.getBoundingClientRect(),y=ar(m),w=v.left+(m.clientLeft+parseFloat(y.paddingLeft))*g.x,j=v.top+(m.clientTop+parseFloat(y.paddingTop))*g.y;c*=g.x,d*=g.y,u*=g.x,h*=g.y,c+=w,d+=j,b=on(m),m=Ey(b)}}return um({width:u,height:h,x:c,y:d})}function Fv(t,e){const s=gp(t).scrollLeft;return e?e.left+s:ko(Vr(t)).left+s}function QT(t,e,s){s===void 0&&(s=!1);const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-(s?0:Fv(t,n)),a=n.top+e.scrollTop;return{x:r,y:a}}function PB(t){let{elements:e,rect:s,offsetParent:n,strategy:r}=t;const a=r==="fixed",o=Vr(n),l=e?pp(e.floating):!1;if(n===o||l&&a)return s;let c={scrollLeft:0,scrollTop:0},d=Tr(1);const u=Tr(0),h=Fr(n);if((h||!h&&!a)&&((_c(n)!=="body"||Qu(o))&&(c=gp(n)),Fr(n))){const p=ko(n);d=_l(n),u.x=p.x+n.clientLeft,u.y=p.y+n.clientTop}const f=o&&!h&&!a?QT(o,c,!0):Tr(0);return{width:s.width*d.x,height:s.height*d.y,x:s.x*d.x-c.scrollLeft*d.x+u.x+f.x,y:s.y*d.y-c.scrollTop*d.y+u.y+f.y}}function TB(t){return Array.from(t.getClientRects())}function AB(t){const e=Vr(t),s=gp(t),n=t.ownerDocument.body,r=sn(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=sn(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-s.scrollLeft+Fv(t);const l=-s.scrollTop;return ar(n).direction==="rtl"&&(o+=sn(e.clientWidth,n.clientWidth)-r),{width:r,height:a,x:o,y:l}}function MB(t,e){const s=on(t),n=Vr(t),r=s.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(r){a=r.width,o=r.height;const d=Ov();(!d||d&&e==="fixed")&&(l=r.offsetLeft,c=r.offsetTop)}return{width:a,height:o,x:l,y:c}}function RB(t,e){const s=ko(t,!0,e==="fixed"),n=s.top+t.clientTop,r=s.left+t.clientLeft,a=Fr(t)?_l(t):Tr(1),o=t.clientWidth*a.x,l=t.clientHeight*a.y,c=r*a.x,d=n*a.y;return{width:o,height:l,x:c,y:d}}function pN(t,e,s){let n;if(e==="viewport")n=MB(t,s);else if(e==="document")n=AB(Vr(t));else if(ir(e))n=RB(e,s);else{const r=GT(t);n={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return um(n)}function ZT(t,e){const s=ba(t);return s===e||!ir(s)||nc(s)?!1:ar(s).position==="fixed"||ZT(s,e)}function DB(t,e){const s=e.get(t);if(s)return s;let n=ru(t,[],!1).filter(l=>ir(l)&&_c(l)!=="body"),r=null;const a=ar(t).position==="fixed";let o=a?ba(t):t;for(;ir(o)&&!nc(o);){const l=ar(o),c=Dv(o);!c&&l.position==="fixed"&&(r=null),(a?!c&&!r:!c&&l.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||Qu(o)&&!c&&ZT(t,o))?n=n.filter(u=>u!==o):r=l,o=ba(o)}return e.set(t,n),n}function OB(t){let{element:e,boundary:s,rootBoundary:n,strategy:r}=t;const o=[...s==="clippingAncestors"?pp(e)?[]:DB(e,this._c):[].concat(s),n],l=o[0],c=o.reduce((d,u)=>{const h=pN(e,u,r);return d.top=sn(h.top,d.top),d.right=ya(h.right,d.right),d.bottom=ya(h.bottom,d.bottom),d.left=sn(h.left,d.left),d},pN(e,l,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function LB(t){const{width:e,height:s}=KT(t);return{width:e,height:s}}function FB(t,e,s){const n=Fr(e),r=Vr(e),a=s==="fixed",o=ko(t,!0,a,e);let l={scrollLeft:0,scrollTop:0};const c=Tr(0);if(n||!n&&!a)if((_c(e)!=="body"||Qu(r))&&(l=gp(e)),n){const f=ko(e,!0,a,e);c.x=f.x+e.clientLeft,c.y=f.y+e.clientTop}else r&&(c.x=Fv(r));const d=r&&!n&&!a?QT(r,l):Tr(0),u=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:u,y:h,width:o.width,height:o.height}}function Tg(t){return ar(t).position==="static"}function gN(t,e){if(!Fr(t)||ar(t).position==="fixed")return null;if(e)return e(t);let s=t.offsetParent;return Vr(t)===s&&(s=s.ownerDocument.body),s}function YT(t,e){const s=on(t);if(pp(t))return s;if(!Fr(t)){let r=ba(t);for(;r&&!nc(r);){if(ir(r)&&!Tg(r))return r;r=ba(r)}return s}let n=gN(t,e);for(;n&&CB(n)&&Tg(n);)n=gN(n,e);return n&&nc(n)&&Tg(n)&&!Dv(n)?s:n||kB(t)||s}const UB=async function(t){const e=this.getOffsetParent||YT,s=this.getDimensions,n=await s(t.floating);return{reference:FB(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function zB(t){return ar(t).direction==="rtl"}const VB={convertOffsetParentRelativeRectToViewportRelativeRect:PB,getDocumentElement:Vr,getClippingRect:OB,getOffsetParent:YT,getElementRects:UB,getClientRects:TB,getDimensions:LB,getScale:_l,isElement:ir,isRTL:zB};function XT(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function $B(t,e){let s=null,n;const r=Vr(t);function a(){var l;clearTimeout(n),(l=s)==null||l.disconnect(),s=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=t.getBoundingClientRect(),{left:u,top:h,width:f,height:p}=d;if(l||e(),!f||!p)return;const b=Ph(h),m=Ph(r.clientWidth-(u+f)),g=Ph(r.clientHeight-(h+p)),v=Ph(u),w={rootMargin:-b+"px "+-m+"px "+-g+"px "+-v+"px",threshold:sn(0,ya(1,c))||1};let j=!0;function N(C){const _=C[0].intersectionRatio;if(_!==c){if(!j)return o();_?o(!1,_):n=setTimeout(()=>{o(!1,1e-7)},1e3)}_===1&&!XT(d,t.getBoundingClientRect())&&o(),j=!1}try{s=new IntersectionObserver(N,{...w,root:r.ownerDocument})}catch{s=new IntersectionObserver(N,w)}s.observe(t)}return o(!0),a}function BB(t,e,s,n){n===void 0&&(n={});const{ancestorScroll:r=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=Lv(t),u=r||a?[...d?ru(d):[],...ru(e)]:[];u.forEach(v=>{r&&v.addEventListener("scroll",s,{passive:!0}),a&&v.addEventListener("resize",s)});const h=d&&l?$B(d,s):null;let f=-1,p=null;o&&(p=new ResizeObserver(v=>{let[y]=v;y&&y.target===d&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(e)})),s()}),d&&!c&&p.observe(d),p.observe(e));let b,m=c?ko(t):null;c&&g();function g(){const v=ko(t);m&&!XT(m,v)&&s(),m=v,b=requestAnimationFrame(g)}return s(),()=>{var v;u.forEach(y=>{r&&y.removeEventListener("scroll",s),a&&y.removeEventListener("resize",s)}),h==null||h(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(b)}}const HB=jB,WB=NB,qB=vB,KB=_B,GB=bB,xN=yB,QB=SB,ZB=(t,e,s)=>{const n=new Map,r={platform:VB,...s},a={...r.platform,_c:n};return xB(t,e,{...r,platform:a})};var xf=typeof document<"u"?x.useLayoutEffect:x.useEffect;function hm(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let s,n,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(s=t.length,s!==e.length)return!1;for(n=s;n--!==0;)if(!hm(t[n],e[n]))return!1;return!0}if(r=Object.keys(t),s=r.length,s!==Object.keys(e).length)return!1;for(n=s;n--!==0;)if(!{}.hasOwnProperty.call(e,r[n]))return!1;for(n=s;n--!==0;){const a=r[n];if(!(a==="_owner"&&t.$$typeof)&&!hm(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function JT(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function yN(t,e){const s=JT(t);return Math.round(e*s)/s}function Ag(t){const e=x.useRef(t);return xf(()=>{e.current=t}),e}function YB(t){t===void 0&&(t={});const{placement:e="bottom",strategy:s="absolute",middleware:n=[],platform:r,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[u,h]=x.useState({x:0,y:0,strategy:s,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=x.useState(n);hm(f,n)||p(n);const[b,m]=x.useState(null),[g,v]=x.useState(null),y=x.useCallback(F=>{F!==C.current&&(C.current=F,m(F))},[]),w=x.useCallback(F=>{F!==_.current&&(_.current=F,v(F))},[]),j=a||b,N=o||g,C=x.useRef(null),_=x.useRef(null),k=x.useRef(u),M=c!=null,L=Ag(c),O=Ag(r),I=Ag(d),B=x.useCallback(()=>{if(!C.current||!_.current)return;const F={placement:e,strategy:s,middleware:f};O.current&&(F.platform=O.current),ZB(C.current,_.current,F).then(W=>{const Q={...W,isPositioned:I.current!==!1};H.current&&!hm(k.current,Q)&&(k.current=Q,Fo.flushSync(()=>{h(Q)}))})},[f,e,s,O,I]);xf(()=>{d===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,h(F=>({...F,isPositioned:!1})))},[d]);const H=x.useRef(!1);xf(()=>(H.current=!0,()=>{H.current=!1}),[]),xf(()=>{if(j&&(C.current=j),N&&(_.current=N),j&&N){if(L.current)return L.current(j,N,B);B()}},[j,N,B,L,M]);const J=x.useMemo(()=>({reference:C,floating:_,setReference:y,setFloating:w}),[y,w]),z=x.useMemo(()=>({reference:j,floating:N}),[j,N]),q=x.useMemo(()=>{const F={position:s,left:0,top:0};if(!z.floating)return F;const W=yN(z.floating,u.x),Q=yN(z.floating,u.y);return l?{...F,transform:"translate("+W+"px, "+Q+"px)",...JT(z.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:W,top:Q}},[s,l,z.floating,u.x,u.y]);return x.useMemo(()=>({...u,update:B,refs:J,elements:z,floatingStyles:q}),[u,B,J,z,q])}const XB=t=>{function e(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:t,fn(s){const{element:n,padding:r}=typeof t=="function"?t(s):t;return n&&e(n)?n.current!=null?xN({element:n.current,padding:r}).fn(s):{}:n?xN({element:n,padding:r}).fn(s):{}}}},JB=(t,e)=>({...HB(t),options:[t,e]}),e9=(t,e)=>({...WB(t),options:[t,e]}),t9=(t,e)=>({...QB(t),options:[t,e]}),s9=(t,e)=>({...qB(t),options:[t,e]}),n9=(t,e)=>({...KB(t),options:[t,e]}),r9=(t,e)=>({...GB(t),options:[t,e]}),i9=(t,e)=>({...XB(t),options:[t,e]});var a9="Arrow",eA=x.forwardRef((t,e)=>{const{children:s,width:n=10,height:r=5,...a}=t;return i.jsx(je.svg,{...a,ref:e,width:n,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?s:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});eA.displayName=a9;var o9=eA;function xp(t){const[e,s]=x.useState(void 0);return Bt(()=>{if(t){s({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const a=r[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;s({width:o,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else s(void 0)},[t]),e}var Uv="Popper",[tA,Cc]=hs(Uv),[l9,sA]=tA(Uv),nA=t=>{const{__scopePopper:e,children:s}=t,[n,r]=x.useState(null);return i.jsx(l9,{scope:e,anchor:n,onAnchorChange:r,children:s})};nA.displayName=Uv;var rA="PopperAnchor",iA=x.forwardRef((t,e)=>{const{__scopePopper:s,virtualRef:n,...r}=t,a=sA(rA,s),o=x.useRef(null),l=Ge(e,o);return x.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:i.jsx(je.div,{...r,ref:l})});iA.displayName=rA;var zv="PopperContent",[c9,d9]=tA(zv),aA=x.forwardRef((t,e)=>{var ce,Ee,P,Z,oe,Y;const{__scopePopper:s,side:n="bottom",sideOffset:r=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:b,...m}=t,g=sA(zv,s),[v,y]=x.useState(null),w=Ge(e,Ie=>y(Ie)),[j,N]=x.useState(null),C=xp(j),_=(C==null?void 0:C.width)??0,k=(C==null?void 0:C.height)??0,M=n+(a!=="center"?"-"+a:""),L=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},O=Array.isArray(d)?d:[d],I=O.length>0,B={padding:L,boundary:O.filter(h9),altBoundary:I},{refs:H,floatingStyles:J,placement:z,isPositioned:q,middlewareData:F}=YB({strategy:"fixed",placement:M,whileElementsMounted:(...Ie)=>BB(...Ie,{animationFrame:p==="always"}),elements:{reference:g.anchor},middleware:[JB({mainAxis:r+k,alignmentAxis:o}),c&&e9({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?t9():void 0,...B}),c&&s9({...B}),n9({...B,apply:({elements:Ie,rects:De,availableWidth:ee,availableHeight:ze})=>{const{width:Ke,height:jt}=De.reference,ut=Ie.floating.style;ut.setProperty("--radix-popper-available-width",`${ee}px`),ut.setProperty("--radix-popper-available-height",`${ze}px`),ut.setProperty("--radix-popper-anchor-width",`${Ke}px`),ut.setProperty("--radix-popper-anchor-height",`${jt}px`)}}),j&&i9({element:j,padding:l}),f9({arrowWidth:_,arrowHeight:k}),f&&r9({strategy:"referenceHidden",...B})]}),[W,Q]=cA(z),ae=At(b);Bt(()=>{q&&(ae==null||ae())},[q,ae]);const he=(ce=F.arrow)==null?void 0:ce.x,Be=(Ee=F.arrow)==null?void 0:Ee.y,Ae=((P=F.arrow)==null?void 0:P.centerOffset)!==0,[Ye,Ue]=x.useState();return Bt(()=>{v&&Ue(window.getComputedStyle(v).zIndex)},[v]),i.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:q?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ye,"--radix-popper-transform-origin":[(Z=F.transformOrigin)==null?void 0:Z.x,(oe=F.transformOrigin)==null?void 0:oe.y].join(" "),...((Y=F.hide)==null?void 0:Y.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:i.jsx(c9,{scope:s,placedSide:W,onArrowChange:N,arrowX:he,arrowY:Be,shouldHideArrow:Ae,children:i.jsx(je.div,{"data-side":W,"data-align":Q,...m,ref:w,style:{...m.style,animation:q?void 0:"none"}})})})});aA.displayName=zv;var oA="PopperArrow",u9={top:"bottom",right:"left",bottom:"top",left:"right"},lA=x.forwardRef(function(e,s){const{__scopePopper:n,...r}=e,a=d9(oA,n),o=u9[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(o9,{...r,ref:s,style:{...r.style,display:"block"}})})});lA.displayName=oA;function h9(t){return t!==null}var f9=t=>({name:"transformOrigin",options:t,fn(e){var g,v,y;const{placement:s,rects:n,middlewareData:r}=e,o=((g=r.arrow)==null?void 0:g.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,u]=cA(s),h={start:"0%",center:"50%",end:"100%"}[u],f=(((v=r.arrow)==null?void 0:v.x)??0)+l/2,p=(((y=r.arrow)==null?void 0:y.y)??0)+c/2;let b="",m="";return d==="bottom"?(b=o?h:`${f}px`,m=`${-c}px`):d==="top"?(b=o?h:`${f}px`,m=`${n.floating.height+c}px`):d==="right"?(b=`${-c}px`,m=o?h:`${p}px`):d==="left"&&(b=`${n.floating.width+c}px`,m=o?h:`${p}px`),{data:{x:b,y:m}}}});function cA(t){const[e,s="center"]=t.split("-");return[e,s]}var dA=nA,yp=iA,Vv=aA,$v=lA,[vp,Dte]=hs("Tooltip",[Cc]),Bv=Cc(),uA="TooltipProvider",m9=700,vN="tooltip.open",[p9,hA]=vp(uA),fA=t=>{const{__scopeTooltip:e,delayDuration:s=m9,skipDelayDuration:n=300,disableHoverableContent:r=!1,children:a}=t,o=x.useRef(!0),l=x.useRef(!1),c=x.useRef(0);return x.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),i.jsx(p9,{scope:e,isOpenDelayedRef:o,delayDuration:s,onOpen:x.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:x.useCallback(d=>{l.current=d},[]),disableHoverableContent:r,children:a})};fA.displayName=uA;var mA="Tooltip",[Ote,bp]=vp(mA),Py="TooltipTrigger",g9=x.forwardRef((t,e)=>{const{__scopeTooltip:s,...n}=t,r=bp(Py,s),a=hA(Py,s),o=Bv(s),l=x.useRef(null),c=Ge(e,l,r.onTriggerChange),d=x.useRef(!1),u=x.useRef(!1),h=x.useCallback(()=>d.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),i.jsx(yp,{asChild:!0,...o,children:i.jsx(je.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...n,ref:c,onPointerMove:pe(t.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!a.isPointerInTransitRef.current&&(r.onTriggerEnter(),u.current=!0)}),onPointerLeave:pe(t.onPointerLeave,()=>{r.onTriggerLeave(),u.current=!1}),onPointerDown:pe(t.onPointerDown,()=>{r.open&&r.onClose(),d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:pe(t.onFocus,()=>{d.current||r.onOpen()}),onBlur:pe(t.onBlur,r.onClose),onClick:pe(t.onClick,r.onClose)})})});g9.displayName=Py;var x9="TooltipPortal",[Lte,y9]=vp(x9,{forceMount:void 0}),rc="TooltipContent",pA=x.forwardRef((t,e)=>{const s=y9(rc,t.__scopeTooltip),{forceMount:n=s.forceMount,side:r="top",...a}=t,o=bp(rc,t.__scopeTooltip);return i.jsx(Ss,{present:n||o.open,children:o.disableHoverableContent?i.jsx(gA,{side:r,...a,ref:e}):i.jsx(v9,{side:r,...a,ref:e})})}),v9=x.forwardRef((t,e)=>{const s=bp(rc,t.__scopeTooltip),n=hA(rc,t.__scopeTooltip),r=x.useRef(null),a=Ge(e,r),[o,l]=x.useState(null),{trigger:c,onClose:d}=s,u=r.current,{onPointerInTransitChange:h}=n,f=x.useCallback(()=>{l(null),h(!1)},[h]),p=x.useCallback((b,m)=>{const g=b.currentTarget,v={x:b.clientX,y:b.clientY},y=S9(v,g.getBoundingClientRect()),w=_9(v,y),j=C9(m.getBoundingClientRect()),N=I9([...w,...j]);l(N),h(!0)},[h]);return x.useEffect(()=>()=>f(),[f]),x.useEffect(()=>{if(c&&u){const b=g=>p(g,u),m=g=>p(g,c);return c.addEventListener("pointerleave",b),u.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",b),u.removeEventListener("pointerleave",m)}}},[c,u,p,f]),x.useEffect(()=>{if(o){const b=m=>{const g=m.target,v={x:m.clientX,y:m.clientY},y=(c==null?void 0:c.contains(g))||(u==null?void 0:u.contains(g)),w=!k9(v,o);y?f():w&&(f(),d())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,u,o,d,f]),i.jsx(gA,{...t,ref:a})}),[b9,w9]=vp(mA,{isInside:!1}),j9=S$("TooltipContent"),gA=x.forwardRef((t,e)=>{const{__scopeTooltip:s,children:n,"aria-label":r,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=t,c=bp(rc,s),d=Bv(s),{onClose:u}=c;return x.useEffect(()=>(document.addEventListener(vN,u),()=>document.removeEventListener(vN,u)),[u]),x.useEffect(()=>{if(c.trigger){const h=f=>{const p=f.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,u]),i.jsx(wc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:i.jsxs(Vv,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(j9,{children:n}),i.jsx(b9,{scope:s,isInside:!0,children:i.jsx(H$,{id:c.contentId,role:"tooltip",children:r||n})})]})})});pA.displayName=rc;var xA="TooltipArrow",N9=x.forwardRef((t,e)=>{const{__scopeTooltip:s,...n}=t,r=Bv(s);return w9(xA,s).isInside?null:i.jsx($v,{...r,...n,ref:e})});N9.displayName=xA;function S9(t,e){const s=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),r=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(s,n,r,a)){case a:return"left";case r:return"right";case s:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function _9(t,e,s=5){const n=[];switch(e){case"top":n.push({x:t.x-s,y:t.y+s},{x:t.x+s,y:t.y+s});break;case"bottom":n.push({x:t.x-s,y:t.y-s},{x:t.x+s,y:t.y-s});break;case"left":n.push({x:t.x+s,y:t.y-s},{x:t.x+s,y:t.y+s});break;case"right":n.push({x:t.x-s,y:t.y-s},{x:t.x-s,y:t.y+s});break}return n}function C9(t){const{top:e,right:s,bottom:n,left:r}=t;return[{x:r,y:e},{x:s,y:e},{x:s,y:n},{x:r,y:n}]}function k9(t,e){const{x:s,y:n}=t;let r=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a].x,c=e[a].y,d=e[o].x,u=e[o].y;c>n!=u>n&&s<(d-l)*(n-c)/(u-c)+l&&(r=!r)}return r}function I9(t){const e=t.slice();return e.sort((s,n)=>s.x<n.x?-1:s.x>n.x?1:s.y<n.y?-1:s.y>n.y?1:0),E9(e)}function E9(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const r=t[n];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(r.y-o.y)>=(a.y-o.y)*(r.x-o.x))e.pop();else break}e.push(r)}e.pop();const s=[];for(let n=t.length-1;n>=0;n--){const r=t[n];for(;s.length>=2;){const a=s[s.length-1],o=s[s.length-2];if((a.x-o.x)*(r.y-o.y)>=(a.y-o.y)*(r.x-o.x))s.pop();else break}s.push(r)}return s.pop(),e.length===1&&s.length===1&&e[0].x===s[0].x&&e[0].y===s[0].y?e:e.concat(s)}var P9=fA,yA=pA;const T9=P9,A9=x.forwardRef(({className:t,sideOffset:e=4,...s},n)=>i.jsx(yA,{ref:n,sideOffset:e,className:ye("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...s}));A9.displayName=yA.displayName;function wp(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Hv="Switch",[M9,Fte]=hs(Hv),[R9,D9]=M9(Hv),vA=x.forwardRef((t,e)=>{const{__scopeSwitch:s,name:n,checked:r,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=t,[f,p]=x.useState(null),b=Ge(e,w=>p(w)),m=x.useRef(!1),g=f?u||!!f.closest("form"):!0,[v=!1,y]=rr({prop:r,defaultProp:a,onChange:d});return i.jsxs(R9,{scope:s,checked:v,disabled:l,children:[i.jsx(je.button,{type:"button",role:"switch","aria-checked":v,"aria-required":o,"data-state":jA(v),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:b,onClick:pe(t.onClick,w=>{y(j=>!j),g&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})}),g&&i.jsx(O9,{control:f,bubbles:!m.current,name:n,value:c,checked:v,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});vA.displayName=Hv;var bA="SwitchThumb",wA=x.forwardRef((t,e)=>{const{__scopeSwitch:s,...n}=t,r=D9(bA,s);return i.jsx(je.span,{"data-state":jA(r.checked),"data-disabled":r.disabled?"":void 0,...n,ref:e})});wA.displayName=bA;var O9=t=>{const{control:e,checked:s,bubbles:n=!0,...r}=t,a=x.useRef(null),o=wp(s),l=xp(e);return x.useEffect(()=>{const c=a.current,d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==s&&h){const f=new Event("click",{bubbles:n});h.call(c,s),c.dispatchEvent(f)}},[o,s,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...r,tabIndex:-1,ref:a,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function jA(t){return t?"checked":"unchecked"}var NA=vA,L9=wA;const In=x.forwardRef(({className:t,...e},s)=>i.jsx(NA,{className:ye("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:s,children:i.jsx(L9,{className:ye("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));In.displayName=NA.displayName;const bN=t=>{let e;const s=new Set,n=(d,u)=>{const h=typeof d=="function"?d(e):d;if(!Object.is(h,e)){const f=e;e=u??(typeof h!="object"||h===null)?h:Object.assign({},e,h),s.forEach(p=>p(e,f))}},r=()=>e,l={setState:n,getState:r,getInitialState:()=>c,subscribe:d=>(s.add(d),()=>s.delete(d))},c=e=t(n,r,l);return l},F9=t=>t?bN(t):bN,U9=t=>t;function z9(t,e=U9){const s=Oe.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return Oe.useDebugValue(s),s}const V9=t=>{const e=F9(t),s=n=>z9(e,n);return Object.assign(s,e),s},$9=t=>V9;function B9(t,e){let s;try{s=t()}catch{return}return{getItem:r=>{var a;const o=c=>c===null?null:JSON.parse(c,void 0),l=(a=s.getItem(r))!=null?a:null;return l instanceof Promise?l.then(o):o(l)},setItem:(r,a)=>s.setItem(r,JSON.stringify(a,void 0)),removeItem:r=>s.removeItem(r)}}const Ty=t=>e=>{try{const s=t(e);return s instanceof Promise?s:{then(n){return Ty(n)(s)},catch(n){return this}}}catch(s){return{then(n){return this},catch(n){return Ty(n)(s)}}}},H9=(t,e)=>(s,n,r)=>{let a={storage:B9(()=>localStorage),partialize:m=>m,version:0,merge:(m,g)=>({...g,...m}),...e},o=!1;const l=new Set,c=new Set;let d=a.storage;if(!d)return t((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),s(...m)},n,r);const u=()=>{const m=a.partialize({...n()});return d.setItem(a.name,{state:m,version:a.version})},h=r.setState;r.setState=(m,g)=>{h(m,g),u()};const f=t((...m)=>{s(...m),u()},n,r);r.getInitialState=()=>f;let p;const b=()=>{var m,g;if(!d)return;o=!1,l.forEach(y=>{var w;return y((w=n())!=null?w:f)});const v=((g=a.onRehydrateStorage)==null?void 0:g.call(a,(m=n())!=null?m:f))||void 0;return Ty(d.getItem.bind(d))(a.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==a.version){if(a.migrate){const w=a.migrate(y.state,y.version);return w instanceof Promise?w.then(j=>[!0,j]):[!0,w]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var w;const[j,N]=y;if(p=a.merge(N,(w=n())!=null?w:f),s(p,!0),j)return u()}).then(()=>{v==null||v(p,void 0),p=n(),o=!0,c.forEach(y=>y(p))}).catch(y=>{v==null||v(void 0,y)})};return r.persist={setOptions:m=>{a={...a,...m},m.storage&&(d=m.storage)},clearStorage:()=>{d==null||d.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>b(),hasHydrated:()=>o,onHydrate:m=>(l.add(m),()=>{l.delete(m)}),onFinishHydration:m=>(c.add(m),()=>{c.delete(m)})},a.skipHydration||b(),p||f},W9=H9,Ys=$9()(W9((t,e)=>({isAdminMode:!1,isMobileMenuOpen:!1,currentUser:null,toggleAdminMode:()=>{const{currentUser:s}=e();s!=null&&s.isAdmin&&t(n=>({isAdminMode:!n.isAdminMode}))},toggleMobileMenu:()=>t(s=>({isMobileMenuOpen:!s.isMobileMenuOpen})),setMobileMenuOpen:s=>t({isMobileMenuOpen:s}),setCurrentUser:s=>{var n;if(t({currentUser:s}),s!=null&&s.isAdmin){const r=e();(!((n=r.currentUser)!=null&&n.isAdmin)||!r.isAdminMode)&&t({isAdminMode:!0})}else t({isAdminMode:!1})}}),{name:"marvel-card-vault-store",partialize:t=>({isAdminMode:t.isAdminMode,currentUser:t.currentUser})})),SA=Object.freeze(Object.defineProperty({__proto__:null,useAppStore:Ys},Symbol.toStringTag,{value:"Module"}));function q9(){const{isAdminMode:t,toggleAdminMode:e,currentUser:s}=Ys();return s!=null&&s.isAdmin?i.jsx("div",{className:"px-6 py-4 border-b border-border bg-muted",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium text-foreground",children:"Admin Mode"}),i.jsx(In,{checked:t,onCheckedChange:e,className:"data-[state=checked]:bg-marvel-red"})]})}):null}var Mg="focusScope.autoFocusOnMount",Rg="focusScope.autoFocusOnUnmount",wN={bubbles:!1,cancelable:!0},K9="FocusScope",jp=x.forwardRef((t,e)=>{const{loop:s=!1,trapped:n=!1,onMountAutoFocus:r,onUnmountAutoFocus:a,...o}=t,[l,c]=x.useState(null),d=At(r),u=At(a),h=x.useRef(null),f=Ge(e,m=>c(m)),p=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let m=function(w){if(p.paused||!l)return;const j=w.target;l.contains(j)?h.current=j:Ai(h.current,{select:!0})},g=function(w){if(p.paused||!l)return;const j=w.relatedTarget;j!==null&&(l.contains(j)||Ai(h.current,{select:!0}))},v=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&Ai(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",g);const y=new MutationObserver(v);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",g),y.disconnect()}}},[n,l,p.paused]),x.useEffect(()=>{if(l){NN.add(p);const m=document.activeElement;if(!l.contains(m)){const v=new CustomEvent(Mg,wN);l.addEventListener(Mg,d),l.dispatchEvent(v),v.defaultPrevented||(G9(J9(_A(l)),{select:!0}),document.activeElement===m&&Ai(l))}return()=>{l.removeEventListener(Mg,d),setTimeout(()=>{const v=new CustomEvent(Rg,wN);l.addEventListener(Rg,u),l.dispatchEvent(v),v.defaultPrevented||Ai(m??document.body,{select:!0}),l.removeEventListener(Rg,u),NN.remove(p)},0)}}},[l,d,u,p]);const b=x.useCallback(m=>{if(!s&&!n||p.paused)return;const g=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(g&&v){const y=m.currentTarget,[w,j]=Q9(y);w&&j?!m.shiftKey&&v===j?(m.preventDefault(),s&&Ai(w,{select:!0})):m.shiftKey&&v===w&&(m.preventDefault(),s&&Ai(j,{select:!0})):v===y&&m.preventDefault()}},[s,n,p.paused]);return i.jsx(je.div,{tabIndex:-1,...o,ref:f,onKeyDown:b})});jp.displayName=K9;function G9(t,{select:e=!1}={}){const s=document.activeElement;for(const n of t)if(Ai(n,{select:e}),document.activeElement!==s)return}function Q9(t){const e=_A(t),s=jN(e,t),n=jN(e.reverse(),t);return[s,n]}function _A(t){const e=[],s=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const r=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||r?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)e.push(s.currentNode);return e}function jN(t,e){for(const s of t)if(!Z9(s,{upTo:e}))return s}function Z9(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Y9(t){return t instanceof HTMLInputElement&&"select"in t}function Ai(t,{select:e=!1}={}){if(t&&t.focus){const s=document.activeElement;t.focus({preventScroll:!0}),t!==s&&Y9(t)&&e&&t.select()}}var NN=X9();function X9(){let t=[];return{add(e){const s=t[0];e!==s&&(s==null||s.pause()),t=SN(t,e),t.unshift(e)},remove(e){var s;t=SN(t,e),(s=t[0])==null||s.resume()}}}function SN(t,e){const s=[...t],n=s.indexOf(e);return n!==-1&&s.splice(n,1),s}function J9(t){return t.filter(e=>e.tagName!=="A")}var Dg=0;function Wv(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??_N()),document.body.insertAdjacentElement("beforeend",t[1]??_N()),Dg++,()=>{Dg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Dg--}},[])}function _N(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var yf="right-scroll-bar-position",vf="width-before-scroll-bar",eH="with-scroll-bars-hidden",tH="--removed-body-scroll-bar-size";function Og(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function sH(t,e){var s=x.useState(function(){return{value:t,callback:e,facade:{get current(){return s.value},set current(n){var r=s.value;r!==n&&(s.value=n,s.callback(n,r))}}}})[0];return s.callback=e,s.facade}var nH=typeof window<"u"?x.useLayoutEffect:x.useEffect,CN=new WeakMap;function rH(t,e){var s=sH(null,function(n){return t.forEach(function(r){return Og(r,n)})});return nH(function(){var n=CN.get(s);if(n){var r=new Set(n),a=new Set(t),o=s.current;r.forEach(function(l){a.has(l)||Og(l,null)}),a.forEach(function(l){r.has(l)||Og(l,o)})}CN.set(s,t)},[t]),s}function iH(t){return t}function aH(t,e){e===void 0&&(e=iH);var s=[],n=!1,r={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:t},useMedium:function(a){var o=e(a,n);return s.push(o),function(){s=s.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;s.length;){var o=s;s=[],o.forEach(a)}s={push:function(l){return a(l)},filter:function(){return s}}},assignMedium:function(a){n=!0;var o=[];if(s.length){var l=s;s=[],l.forEach(a),o=s}var c=function(){var u=o;o=[],u.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),s={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),s}}}};return r}function oH(t){t===void 0&&(t={});var e=aH(null);return e.options=br({async:!0,ssr:!1},t),e}var CA=function(t){var e=t.sideCar,s=Vu(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,br({},s))};CA.isSideCarExport=!0;function lH(t,e){return t.useMedium(e),CA}var kA=oH(),Lg=function(){},Np=x.forwardRef(function(t,e){var s=x.useRef(null),n=x.useState({onScrollCapture:Lg,onWheelCapture:Lg,onTouchMoveCapture:Lg}),r=n[0],a=n[1],o=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,u=t.enabled,h=t.shards,f=t.sideCar,p=t.noIsolation,b=t.inert,m=t.allowPinchZoom,g=t.as,v=g===void 0?"div":g,y=t.gapMode,w=Vu(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=f,N=rH([s,e]),C=br(br({},w),r);return x.createElement(x.Fragment,null,u&&x.createElement(j,{sideCar:kA,removeScrollBar:d,shards:h,noIsolation:p,inert:b,setCallbacks:a,allowPinchZoom:!!m,lockRef:s,gapMode:y}),o?x.cloneElement(x.Children.only(l),br(br({},C),{ref:N})):x.createElement(v,br({},C,{className:c,ref:N}),l))});Np.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Np.classNames={fullWidth:vf,zeroRight:yf};var cH=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function dH(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=cH();return e&&t.setAttribute("nonce",e),t}function uH(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function hH(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var fH=function(){var t=0,e=null;return{add:function(s){t==0&&(e=dH())&&(uH(e,s),hH(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},mH=function(){var t=fH();return function(e,s){x.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&s])}},IA=function(){var t=mH(),e=function(s){var n=s.styles,r=s.dynamic;return t(n,r),null};return e},pH={left:0,top:0,right:0,gap:0},Fg=function(t){return parseInt(t||"",10)||0},gH=function(t){var e=window.getComputedStyle(document.body),s=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],r=e[t==="padding"?"paddingRight":"marginRight"];return[Fg(s),Fg(n),Fg(r)]},xH=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return pH;var e=gH(t),s=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-s+e[2]-e[0])}},yH=IA(),Cl="data-scroll-locked",vH=function(t,e,s,n){var r=t.left,a=t.top,o=t.right,l=t.gap;return s===void 0&&(s="margin"),`
  .`.concat(eH,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Cl,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),s==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),s==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(yf,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(vf,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(yf," .").concat(yf,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(vf," .").concat(vf,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Cl,`] {
    `).concat(tH,": ").concat(l,`px;
  }
`)},kN=function(){var t=parseInt(document.body.getAttribute(Cl)||"0",10);return isFinite(t)?t:0},bH=function(){x.useEffect(function(){return document.body.setAttribute(Cl,(kN()+1).toString()),function(){var t=kN()-1;t<=0?document.body.removeAttribute(Cl):document.body.setAttribute(Cl,t.toString())}},[])},wH=function(t){var e=t.noRelative,s=t.noImportant,n=t.gapMode,r=n===void 0?"margin":n;bH();var a=x.useMemo(function(){return xH(r)},[r]);return x.createElement(yH,{styles:vH(a,!e,r,s?"":"!important")})},Ay=!1;if(typeof window<"u")try{var Th=Object.defineProperty({},"passive",{get:function(){return Ay=!0,!0}});window.addEventListener("test",Th,Th),window.removeEventListener("test",Th,Th)}catch{Ay=!1}var Ho=Ay?{passive:!1}:!1,jH=function(t){return t.tagName==="TEXTAREA"},EA=function(t,e){if(!(t instanceof Element))return!1;var s=window.getComputedStyle(t);return s[e]!=="hidden"&&!(s.overflowY===s.overflowX&&!jH(t)&&s[e]==="visible")},NH=function(t){return EA(t,"overflowY")},SH=function(t){return EA(t,"overflowX")},IN=function(t,e){var s=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=PA(t,n);if(r){var a=TA(t,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==s.body);return!1},_H=function(t){var e=t.scrollTop,s=t.scrollHeight,n=t.clientHeight;return[e,s,n]},CH=function(t){var e=t.scrollLeft,s=t.scrollWidth,n=t.clientWidth;return[e,s,n]},PA=function(t,e){return t==="v"?NH(e):SH(e)},TA=function(t,e){return t==="v"?_H(e):CH(e)},kH=function(t,e){return t==="h"&&e==="rtl"?-1:1},IH=function(t,e,s,n,r){var a=kH(t,window.getComputedStyle(e).direction),o=a*n,l=s.target,c=e.contains(l),d=!1,u=o>0,h=0,f=0;do{var p=TA(t,l),b=p[0],m=p[1],g=p[2],v=m-g-a*b;(b||v)&&PA(t,l)&&(h+=v,f+=b),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(u&&(Math.abs(h)<1||!r)||!u&&(Math.abs(f)<1||!r))&&(d=!0),d},Ah=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},EN=function(t){return[t.deltaX,t.deltaY]},PN=function(t){return t&&"current"in t?t.current:t},EH=function(t,e){return t[0]===e[0]&&t[1]===e[1]},PH=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},TH=0,Wo=[];function AH(t){var e=x.useRef([]),s=x.useRef([0,0]),n=x.useRef(),r=x.useState(TH++)[0],a=x.useState(IA)[0],o=x.useRef(t);x.useEffect(function(){o.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var m=dz([t.lockRef.current],(t.shards||[]).map(PN),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var l=x.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var v=Ah(m),y=s.current,w="deltaX"in m?m.deltaX:y[0]-v[0],j="deltaY"in m?m.deltaY:y[1]-v[1],N,C=m.target,_=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in m&&_==="h"&&C.type==="range")return!1;var k=IN(_,C);if(!k)return!0;if(k?N=_:(N=_==="v"?"h":"v",k=IN(_,C)),!k)return!1;if(!n.current&&"changedTouches"in m&&(w||j)&&(n.current=N),!N)return!0;var M=n.current||N;return IH(M,g,m,M==="h"?w:j,!0)},[]),c=x.useCallback(function(m){var g=m;if(!(!Wo.length||Wo[Wo.length-1]!==a)){var v="deltaY"in g?EN(g):Ah(g),y=e.current.filter(function(N){return N.name===g.type&&(N.target===g.target||g.target===N.shadowParent)&&EH(N.delta,v)})[0];if(y&&y.should){g.cancelable&&g.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(PN).filter(Boolean).filter(function(N){return N.contains(g.target)}),j=w.length>0?l(g,w[0]):!o.current.noIsolation;j&&g.cancelable&&g.preventDefault()}}},[]),d=x.useCallback(function(m,g,v,y){var w={name:m,delta:g,target:v,should:y,shadowParent:MH(v)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(j){return j!==w})},1)},[]),u=x.useCallback(function(m){s.current=Ah(m),n.current=void 0},[]),h=x.useCallback(function(m){d(m.type,EN(m),m.target,l(m,t.lockRef.current))},[]),f=x.useCallback(function(m){d(m.type,Ah(m),m.target,l(m,t.lockRef.current))},[]);x.useEffect(function(){return Wo.push(a),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Ho),document.addEventListener("touchmove",c,Ho),document.addEventListener("touchstart",u,Ho),function(){Wo=Wo.filter(function(m){return m!==a}),document.removeEventListener("wheel",c,Ho),document.removeEventListener("touchmove",c,Ho),document.removeEventListener("touchstart",u,Ho)}},[]);var p=t.removeScrollBar,b=t.inert;return x.createElement(x.Fragment,null,b?x.createElement(a,{styles:PH(r)}):null,p?x.createElement(wH,{gapMode:t.gapMode}):null)}function MH(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const RH=lH(kA,AH);var Sp=x.forwardRef(function(t,e){return x.createElement(Np,br({},t,{ref:e,sideCar:RH}))});Sp.classNames=Np.classNames;var DH=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},qo=new WeakMap,Mh=new WeakMap,Rh={},Ug=0,AA=function(t){return t&&(t.host||AA(t.parentNode))},OH=function(t,e){return e.map(function(s){if(t.contains(s))return s;var n=AA(s);return n&&t.contains(n)?n:(console.error("aria-hidden",s,"in not contained inside",t,". Doing nothing"),null)}).filter(function(s){return!!s})},LH=function(t,e,s,n){var r=OH(e,Array.isArray(t)?t:[t]);Rh[s]||(Rh[s]=new WeakMap);var a=Rh[s],o=[],l=new Set,c=new Set(r),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};r.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))u(f);else try{var p=f.getAttribute(n),b=p!==null&&p!=="false",m=(qo.get(f)||0)+1,g=(a.get(f)||0)+1;qo.set(f,m),a.set(f,g),o.push(f),m===1&&b&&Mh.set(f,!0),g===1&&f.setAttribute(s,"true"),b||f.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return u(e),l.clear(),Ug++,function(){o.forEach(function(h){var f=qo.get(h)-1,p=a.get(h)-1;qo.set(h,f),a.set(h,p),f||(Mh.has(h)||h.removeAttribute(n),Mh.delete(h)),p||h.removeAttribute(s)}),Ug--,Ug||(qo=new WeakMap,qo=new WeakMap,Mh=new WeakMap,Rh={})}},qv=function(t,e,s){s===void 0&&(s="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),r=DH(t);return r?(n.push.apply(n,Array.from(r.querySelectorAll("[aria-live]"))),LH(n,r,s,"aria-hidden")):function(){return null}},Kv="Dialog",[MA,Ute]=hs(Kv),[FH,lr]=MA(Kv),RA=t=>{const{__scopeDialog:e,children:s,open:n,defaultOpen:r,onOpenChange:a,modal:o=!0}=t,l=x.useRef(null),c=x.useRef(null),[d=!1,u]=rr({prop:n,defaultProp:r,onChange:a});return i.jsx(FH,{scope:e,triggerRef:l,contentRef:c,contentId:Pr(),titleId:Pr(),descriptionId:Pr(),open:d,onOpenChange:u,onOpenToggle:x.useCallback(()=>u(h=>!h),[u]),modal:o,children:s})};RA.displayName=Kv;var DA="DialogTrigger",OA=x.forwardRef((t,e)=>{const{__scopeDialog:s,...n}=t,r=lr(DA,s),a=Ge(e,r.triggerRef);return i.jsx(je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":Zv(r.open),...n,ref:a,onClick:pe(t.onClick,r.onOpenToggle)})});OA.displayName=DA;var Gv="DialogPortal",[UH,LA]=MA(Gv,{forceMount:void 0}),FA=t=>{const{__scopeDialog:e,forceMount:s,children:n,container:r}=t,a=lr(Gv,e);return i.jsx(UH,{scope:e,forceMount:s,children:x.Children.map(n,o=>i.jsx(Ss,{present:s||a.open,children:i.jsx(Wu,{asChild:!0,container:r,children:o})}))})};FA.displayName=Gv;var fm="DialogOverlay",UA=x.forwardRef((t,e)=>{const s=LA(fm,t.__scopeDialog),{forceMount:n=s.forceMount,...r}=t,a=lr(fm,t.__scopeDialog);return a.modal?i.jsx(Ss,{present:n||a.open,children:i.jsx(VH,{...r,ref:e})}):null});UA.displayName=fm;var zH=No("DialogOverlay.RemoveScroll"),VH=x.forwardRef((t,e)=>{const{__scopeDialog:s,...n}=t,r=lr(fm,s);return i.jsx(Sp,{as:zH,allowPinchZoom:!0,shards:[r.contentRef],children:i.jsx(je.div,{"data-state":Zv(r.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Io="DialogContent",zA=x.forwardRef((t,e)=>{const s=LA(Io,t.__scopeDialog),{forceMount:n=s.forceMount,...r}=t,a=lr(Io,t.__scopeDialog);return i.jsx(Ss,{present:n||a.open,children:a.modal?i.jsx($H,{...r,ref:e}):i.jsx(BH,{...r,ref:e})})});zA.displayName=Io;var $H=x.forwardRef((t,e)=>{const s=lr(Io,t.__scopeDialog),n=x.useRef(null),r=Ge(e,s.contentRef,n);return x.useEffect(()=>{const a=n.current;if(a)return qv(a)},[]),i.jsx(VA,{...t,ref:r,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=s.triggerRef.current)==null||o.focus()}),onPointerDownOutside:pe(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:pe(t.onFocusOutside,a=>a.preventDefault())})}),BH=x.forwardRef((t,e)=>{const s=lr(Io,t.__scopeDialog),n=x.useRef(!1),r=x.useRef(!1);return i.jsx(VA,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(n.current||(l=s.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,r.current=!1},onInteractOutside:a=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const o=a.target;((d=s.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&r.current&&a.preventDefault()}})}),VA=x.forwardRef((t,e)=>{const{__scopeDialog:s,trapFocus:n,onOpenAutoFocus:r,onCloseAutoFocus:a,...o}=t,l=lr(Io,s),c=x.useRef(null),d=Ge(e,c);return Wv(),i.jsxs(i.Fragment,{children:[i.jsx(jp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:r,onUnmountAutoFocus:a,children:i.jsx(wc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Zv(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(HH,{titleId:l.titleId}),i.jsx(qH,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Qv="DialogTitle",$A=x.forwardRef((t,e)=>{const{__scopeDialog:s,...n}=t,r=lr(Qv,s);return i.jsx(je.h2,{id:r.titleId,...n,ref:e})});$A.displayName=Qv;var BA="DialogDescription",HA=x.forwardRef((t,e)=>{const{__scopeDialog:s,...n}=t,r=lr(BA,s);return i.jsx(je.p,{id:r.descriptionId,...n,ref:e})});HA.displayName=BA;var WA="DialogClose",qA=x.forwardRef((t,e)=>{const{__scopeDialog:s,...n}=t,r=lr(WA,s);return i.jsx(je.button,{type:"button",...n,ref:e,onClick:pe(t.onClick,()=>r.onOpenChange(!1))})});qA.displayName=WA;function Zv(t){return t?"open":"closed"}var KA="DialogTitleWarning",[zte,GA]=w$(KA,{contentName:Io,titleName:Qv,docsSlug:"dialog"}),HH=({titleId:t})=>{const e=GA(KA),s=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(s))},[s,t]),null},WH="DialogDescriptionWarning",qH=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${GA(WH).contentName}}.`;return x.useEffect(()=>{var a;const r=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&r&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},KH=RA,GH=OA,QH=FA,QA=UA,ZA=zA,YA=$A,XA=HA,ZH=qA;const ln=KH,ic=GH,YH=QH,JA=x.forwardRef(({className:t,...e},s)=>i.jsx(QA,{ref:s,className:ye("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));JA.displayName=QA.displayName;const Gs=x.forwardRef(({className:t,children:e,...s},n)=>i.jsxs(YH,{children:[i.jsx(JA,{}),i.jsxs(ZA,{ref:n,className:ye("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s,children:[e,i.jsxs(ZH,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(Er,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Gs.displayName=ZA.displayName;const Qs=({className:t,...e})=>i.jsx("div",{className:ye("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Qs.displayName="DialogHeader";const Zs=x.forwardRef(({className:t,...e},s)=>i.jsx(YA,{ref:s,className:ye("text-lg font-semibold leading-none tracking-tight",t),...e}));Zs.displayName=YA.displayName;const Yv=x.forwardRef(({className:t,...e},s)=>i.jsx(XA,{ref:s,className:ye("text-sm text-muted-foreground",t),...e}));Yv.displayName=XA.displayName;const XH=Ku("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),$=x.forwardRef(({className:t,variant:e,size:s,asChild:n=!1,...r},a)=>{const o=n?eT:"button";return i.jsx(o,{className:ye(XH({variant:e,size:s,className:t})),ref:a,...r})});$.displayName="Button";const JH=Ku("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ve({className:t,variant:e,...s}){return i.jsx("div",{className:ye(JH({variant:e}),t),...s})}const re=x.forwardRef(({className:t,...e},s)=>i.jsx("div",{ref:s,className:ye("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));re.displayName="Card";const be=x.forwardRef(({className:t,...e},s)=>i.jsx("div",{ref:s,className:ye("flex flex-col space-y-1.5 p-6",t),...e}));be.displayName="CardHeader";const we=x.forwardRef(({className:t,...e},s)=>i.jsx("div",{ref:s,className:ye("text-2xl font-semibold leading-none tracking-tight",t),...e}));we.displayName="CardTitle";const mm=x.forwardRef(({className:t,...e},s)=>i.jsx("div",{ref:s,className:ye("text-sm text-muted-foreground",t),...e}));mm.displayName="CardDescription";const ie=x.forwardRef(({className:t,...e},s)=>i.jsx("div",{ref:s,className:ye("p-6 pt-0",t),...e}));ie.displayName="CardContent";const e7=x.forwardRef(({className:t,...e},s)=>i.jsx("div",{ref:s,className:ye("flex items-center p-6 pt-0",t),...e}));e7.displayName="CardFooter";function eM({isOpen:t,onClose:e,currentPlan:s}){const[n,r]=x.useState(!1),{toast:a}=dt(),o=async()=>{r(!0);try{const d=await(await _e("POST","/api/create-checkout-session")).json();if(d.url)window.location.href=d.url;else throw new Error("No checkout URL received")}catch(c){console.error("Error creating checkout session:",c),a({title:"Error",description:"Failed to start upgrade process. Please try again.",variant:"destructive"})}finally{r(!1)}},l=[{name:"Side Kick",price:"Free",current:s==="SIDE_KICK",features:["Track up to 250 cards","Basic wishlist management","Collection overview","Card browsing"],limitations:["Limited to 250 cards","No marketplace access","Basic analytics only"]},{name:"Super Hero",price:"$4",period:"/month",current:s==="SUPER_HERO",popular:!0,features:["Unlimited card tracking","Full marketplace access","Advanced analytics","Priority support","Export functionality","Custom collections"]}];return i.jsx(ln,{open:t,onOpenChange:e,children:i.jsxs(Gs,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsx(Qs,{children:i.jsx(Zs,{className:"text-2xl font-bold text-center bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Choose Your Plan"})}),i.jsx("div",{className:"grid md:grid-cols-2 gap-6 mt-6",children:l.map(c=>i.jsxs(re,{className:`relative transition-all duration-300 hover:shadow-lg ${c.popular?"border-2 border-gradient-to-r from-purple-500 to-pink-500 bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20":"border border-gray-200 dark:border-gray-700"} ${c.current?"ring-2 ring-blue-500":""}`,children:[c.popular&&i.jsxs(ve,{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:[i.jsx(Tn,{className:"w-3 h-3 mr-1"}),"Most Popular"]}),c.current&&i.jsx(ve,{className:"absolute -top-3 right-4 bg-blue-500 text-white",children:"Current Plan"}),i.jsxs(be,{className:"text-center pb-4",children:[i.jsx(we,{className:"text-xl font-bold",children:c.name}),i.jsxs("div",{className:"text-3xl font-bold",children:[c.price,c.period&&i.jsx("span",{className:"text-sm text-muted-foreground",children:c.period})]})]}),i.jsxs(ie,{className:"space-y-4",children:[i.jsx("div",{className:"space-y-2",children:c.features.map((d,u)=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(an,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),i.jsx("span",{className:"text-sm",children:d})]},u))}),c.limitations&&i.jsxs("div",{className:"space-y-2 pt-2 border-t border-gray-200 dark:border-gray-700",children:[i.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:"Limitations:"}),c.limitations.map((d,u)=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-4 h-4 flex-shrink-0 rounded-full bg-gray-300 dark:bg-gray-600 flex items-center justify-center",children:i.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),i.jsx("span",{className:"text-xs text-muted-foreground",children:d})]},u))]}),i.jsx("div",{className:"pt-4",children:c.current?i.jsx($,{variant:"outline",className:"w-full",disabled:!0,children:"Current Plan"}):c.name==="Super Hero"?i.jsx($,{onClick:o,disabled:n,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white",children:n?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Processing..."]}):i.jsxs(i.Fragment,{children:[i.jsx(oo,{className:"w-4 h-4 mr-2"}),"Upgrade Now"]})}):i.jsx($,{variant:"outline",className:"w-full",disabled:!0,children:"Free Plan"})})]})]},c.name))}),i.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(ui,{className:"w-5 h-5 text-blue-500 mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"text-sm",children:[i.jsx("p",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Why upgrade to Super Hero?"}),i.jsx("p",{className:"text-blue-700 dark:text-blue-300 mt-1",children:"Unlock unlimited card tracking, access to our marketplace features, and advanced analytics to maximize your collection's potential. Cancel anytime."})]})]})}),i.jsx("div",{className:"text-center text-xs text-muted-foreground mt-4",children:"Secure payment processing by Stripe  Cancel anytime  No hidden fees"})]})})}const _p="/assets/noun-super-hero-380874-FFFFFF-hxi1rKDH.png",t7=ZP();function s7(){CV(t7).then(async t=>{if(t){const e=t.user;console.log("User signed in:",e.displayName);try{const s=await fetch("/api/auth/sync",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firebaseUid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL})});if(s.ok){const n=await s.json();console.log("User synced with backend:",n.user);const{useAppStore:r}=await nP(async()=>{const{useAppStore:a}=await Promise.resolve().then(()=>SA);return{useAppStore:a}},void 0);r.getState().setCurrentUser({id:n.user.id,name:n.user.displayName||n.user.username,email:n.user.email,avatar:n.user.photoURL||"",isAdmin:n.user.isAdmin,plan:n.user.plan,subscriptionStatus:n.user.subscriptionStatus})}else console.error("Failed to sync user with backend")}catch(s){console.error("Error syncing user:",s)}}}).catch(t=>{var n;const e=t.code,s=t.message;console.error("Authentication error:",e,s),(n=t.customData)==null||n.email,wr.credentialFromError(t)})}const tM=x.createContext({user:null,loading:!0,refreshUser:async()=>{}}),cr=()=>x.useContext(tM),n7=({children:t})=>{const[e,s]=x.useState(null),[n,r]=x.useState(!0),{setCurrentUser:a}=Ys(),o=async d=>{try{const u=await d.getIdToken(),h=await fetch("/api/auth/sync",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({firebaseUid:d.uid,email:d.email,displayName:d.displayName,photoURL:d.photoURL})});if(h.ok){const f=await h.json();console.log("User synced with backend:",f.user),a({id:f.user.id,name:f.user.displayName||f.user.username,email:f.user.email,avatar:f.user.photoURL||"",isAdmin:f.user.isAdmin,plan:f.user.plan,subscriptionStatus:f.user.subscriptionStatus,onboardingComplete:f.user.onboardingComplete||!1,username:f.user.username})}else console.error("Failed to sync user with backend")}catch(u){console.error("Error syncing user:",u)}},l=async()=>{e&&await o(e)};x.useEffect(()=>{try{return s7(),Yz(di,async u=>{s(u),u?await o(u):a(null),r(!1)})}catch(d){console.error("Firebase auth error:",d),r(!1)}},[a]);const c={user:e,loading:n,refreshUser:l};return i.jsx(tM.Provider,{value:c,children:t})},r7=t=>[{href:"/",label:"Dashboard",icon:"LayoutDashboard"},{href:"/browse",label:"Browse Cards",icon:"Grid3X3"},{href:"/my-collection",label:"My Collection",icon:"FolderOpen"},{href:"/wishlist",label:"Wishlist",icon:"Heart"},{href:"/marketplace",label:"Marketplace",icon:"Store",badge:t==="SIDE_KICK"?"":void 0},{href:"/trends",label:"Market Trends",icon:"TrendingUp"},{href:"/upcoming-sets",label:"Upcoming Sets",icon:"Calendar"},{href:"/social",label:"Social Hub",icon:"Users"}],i7=[{href:"/admin",label:"Admin Tools",icon:"Settings"}],a7={LayoutDashboard:x8,Grid3X3:jc,FolderOpen:TT,Heart:er,PlusCircle:su,Edit:Uo,Search:ss,TrendingUp:ui,Users:ai,Store:S8,Calendar:Or};function sM(){const[t]=Ns(),{isAdminMode:e,currentUser:s}=Ys(),{user:n}=cr(),[r,a]=x.useState(!1),{data:o}=Ce({queryKey:["/api/stats"]}),l=({iconName:c})=>{const d=a7[c];return d?i.jsx(d,{className:"w-5 h-5 mr-3"}):null};return i.jsxs("div",{className:"h-screen w-80 md:w-80 bg-background shadow-lg border-r border-border flex flex-col",children:[i.jsx("div",{className:"flex items-center px-6 py-4 bg-marvel-red",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 flex items-center justify-center",children:i.jsx("img",{src:_p,alt:"Marvel Card Vault",className:"w-10 h-10 object-contain"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-white font-bebas text-2xl tracking-wide",children:"MARVEL"}),i.jsx("p",{className:"text-white/80 text-sm font-roboto",children:"Card Vault"})]})]})}),n&&i.jsx("div",{className:"border-b border-border p-4",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Ji,{href:"/profile",children:i.jsx("img",{src:n.photoURL||"/default-avatar.png",alt:"User avatar",className:"w-8 h-8 rounded-full cursor-pointer hover:ring-2 hover:ring-blue-500 transition-all",title:"View Profile"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx(Ji,{href:"/profile",className:"block",children:i.jsx("p",{className:"text-sm font-medium text-foreground truncate hover:text-blue-600 cursor-pointer",children:n.displayName||"User"})}),i.jsx("p",{className:"text-xs text-muted-foreground truncate",children:n.email})]}),i.jsx("button",{onClick:()=>p$(),className:"text-red-500 hover:text-red-600",title:"Sign out",children:i.jsx(v8,{className:"w-4 h-4"})})]})}),i.jsx(q9,{}),i.jsxs("nav",{className:"flex-1 px-4 py-6 space-y-2",children:[r7((s==null?void 0:s.plan)||"SIDE_KICK").map(c=>i.jsx(Ji,{href:c.href,children:i.jsxs("div",{className:`flex items-center px-4 py-4 md:py-3 rounded-lg transition-colors group cursor-pointer text-base md:text-sm ${t===c.href?"bg-marvel-red text-white":"text-foreground hover:bg-marvel-red hover:text-white"}`,children:[i.jsx(l,{iconName:c.icon}),i.jsx("span",{className:"font-medium",children:c.label}),c.badge&&i.jsx("span",{className:`ml-auto text-xs px-2 py-1 rounded-full ${t===c.href?"bg-white text-marvel-red":"bg-marvel-red text-white group-hover:bg-white group-hover:text-marvel-red"}`,children:c.badge})]})},c.href)),s&&s.plan==="SIDE_KICK"&&i.jsxs("div",{className:"pt-4 border-t border-gray-200 mt-4",children:[i.jsxs($,{onClick:()=>a(!0),className:"w-full bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-yellow-900 font-bold py-3 px-4 rounded-lg shadow-lg transform hover:scale-105 transition-all duration-200",children:[i.jsx(jr,{className:"w-5 h-5 mr-2"}),"Upgrade to SUPER HERO"]}),i.jsx("div",{className:"mt-2 px-2",children:i.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[i.jsx("span",{children:"Collection Limit"}),i.jsxs(ve,{variant:"outline",className:"text-xs",children:[(o==null?void 0:o.totalCards)||0," / 250"]})]})})]}),s&&s.plan==="SUPER_HERO"&&i.jsx("div",{className:"pt-4 border-t border-gray-200 mt-4",children:i.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[i.jsxs(ve,{className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-yellow-900 px-3 py-1",children:[i.jsx(jr,{className:"w-4 h-4 mr-1"}),"SUPER HERO"]}),i.jsx("div",{className:"px-2",children:i.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[i.jsx("span",{children:"Collection Limit"}),i.jsxs(ve,{variant:"outline",className:"text-xs",children:[(o==null?void 0:o.totalCards)||0," / unlimited"]})]})})]})}),e&&(s==null?void 0:s.isAdmin)&&i.jsxs("div",{className:"pt-4 border-t border-gray-200 mt-4",children:[i.jsx("p",{className:"px-4 text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2",children:"Admin Tools"}),i7.map(c=>i.jsx(Ji,{href:c.href,children:i.jsxs("div",{className:`flex items-center px-4 py-4 md:py-3 rounded-lg transition-colors group cursor-pointer text-base md:text-sm ${t===c.href?"bg-marvel-red text-white":"text-foreground hover:bg-marvel-red hover:text-white"}`,children:[i.jsx(l,{iconName:c.icon}),i.jsx("span",{className:"font-medium",children:c.label})]})},c.href))]})]}),i.jsx(eM,{isOpen:r,onClose:()=>a(!1),currentPlan:(s==null?void 0:s.plan)||"SIDE_KICK"})]})}var o7=x.createContext(void 0);function Zu(t){const e=x.useContext(o7);return t||e||"ltr"}function My(t,[e,s]){return Math.min(s,Math.max(e,t))}function l7(t,e){return x.useReducer((s,n)=>e[s][n]??s,t)}var Xv="ScrollArea",[nM,Vte]=hs(Xv),[c7,Dn]=nM(Xv),rM=x.forwardRef((t,e)=>{const{__scopeScrollArea:s,type:n="hover",dir:r,scrollHideDelay:a=600,...o}=t,[l,c]=x.useState(null),[d,u]=x.useState(null),[h,f]=x.useState(null),[p,b]=x.useState(null),[m,g]=x.useState(null),[v,y]=x.useState(0),[w,j]=x.useState(0),[N,C]=x.useState(!1),[_,k]=x.useState(!1),M=Ge(e,O=>c(O)),L=Zu(r);return i.jsx(c7,{scope:s,type:n,dir:L,scrollHideDelay:a,scrollArea:l,viewport:d,onViewportChange:u,content:h,onContentChange:f,scrollbarX:p,onScrollbarXChange:b,scrollbarXEnabled:N,onScrollbarXEnabledChange:C,scrollbarY:m,onScrollbarYChange:g,scrollbarYEnabled:_,onScrollbarYEnabledChange:k,onCornerWidthChange:y,onCornerHeightChange:j,children:i.jsx(je.div,{dir:L,...o,ref:M,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":w+"px",...t.style}})})});rM.displayName=Xv;var iM="ScrollAreaViewport",aM=x.forwardRef((t,e)=>{const{__scopeScrollArea:s,children:n,nonce:r,...a}=t,o=Dn(iM,s),l=x.useRef(null),c=Ge(e,l,o.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),i.jsx(je.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:i.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});aM.displayName=iM;var $r="ScrollAreaScrollbar",Jv=x.forwardRef((t,e)=>{const{forceMount:s,...n}=t,r=Dn($r,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=r,l=t.orientation==="horizontal";return x.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),r.type==="hover"?i.jsx(d7,{...n,ref:e,forceMount:s}):r.type==="scroll"?i.jsx(u7,{...n,ref:e,forceMount:s}):r.type==="auto"?i.jsx(oM,{...n,ref:e,forceMount:s}):r.type==="always"?i.jsx(eb,{...n,ref:e}):null});Jv.displayName=$r;var d7=x.forwardRef((t,e)=>{const{forceMount:s,...n}=t,r=Dn($r,t.__scopeScrollArea),[a,o]=x.useState(!1);return x.useEffect(()=>{const l=r.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),r.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[r.scrollArea,r.scrollHideDelay]),i.jsx(Ss,{present:s||a,children:i.jsx(oM,{"data-state":a?"visible":"hidden",...n,ref:e})})}),u7=x.forwardRef((t,e)=>{const{forceMount:s,...n}=t,r=Dn($r,t.__scopeScrollArea),a=t.orientation==="horizontal",o=kp(()=>c("SCROLL_END"),100),[l,c]=l7("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),r.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,r.scrollHideDelay,c]),x.useEffect(()=>{const d=r.viewport,u=a?"scrollLeft":"scrollTop";if(d){let h=d[u];const f=()=>{const p=d[u];h!==p&&(c("SCROLL"),o()),h=p};return d.addEventListener("scroll",f),()=>d.removeEventListener("scroll",f)}},[r.viewport,a,c,o]),i.jsx(Ss,{present:s||l!=="hidden",children:i.jsx(eb,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:pe(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:pe(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),oM=x.forwardRef((t,e)=>{const s=Dn($r,t.__scopeScrollArea),{forceMount:n,...r}=t,[a,o]=x.useState(!1),l=t.orientation==="horizontal",c=kp(()=>{if(s.viewport){const d=s.viewport.offsetWidth<s.viewport.scrollWidth,u=s.viewport.offsetHeight<s.viewport.scrollHeight;o(l?d:u)}},10);return ac(s.viewport,c),ac(s.content,c),i.jsx(Ss,{present:n||a,children:i.jsx(eb,{"data-state":a?"visible":"hidden",...r,ref:e})})}),eb=x.forwardRef((t,e)=>{const{orientation:s="vertical",...n}=t,r=Dn($r,t.__scopeScrollArea),a=x.useRef(null),o=x.useRef(0),[l,c]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=hM(l.viewport,l.content),u={...n,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:f=>a.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function h(f,p){return x7(f,o.current,l,p)}return s==="horizontal"?i.jsx(h7,{...u,ref:e,onThumbPositionChange:()=>{if(r.viewport&&a.current){const f=r.viewport.scrollLeft,p=TN(f,l,r.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:f=>{r.viewport&&(r.viewport.scrollLeft=f)},onDragScroll:f=>{r.viewport&&(r.viewport.scrollLeft=h(f,r.dir))}}):s==="vertical"?i.jsx(f7,{...u,ref:e,onThumbPositionChange:()=>{if(r.viewport&&a.current){const f=r.viewport.scrollTop,p=TN(f,l);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:f=>{r.viewport&&(r.viewport.scrollTop=f)},onDragScroll:f=>{r.viewport&&(r.viewport.scrollTop=h(f))}}):null}),h7=x.forwardRef((t,e)=>{const{sizes:s,onSizesChange:n,...r}=t,a=Dn($r,t.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),d=Ge(e,c,a.onScrollbarXChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(cM,{"data-orientation":"horizontal",...r,ref:d,sizes:s,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Cp(s)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(a.viewport){const f=a.viewport.scrollLeft+u.deltaX;t.onWheelScroll(f),mM(f,h)&&u.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:gm(o.paddingLeft),paddingEnd:gm(o.paddingRight)}})}})}),f7=x.forwardRef((t,e)=>{const{sizes:s,onSizesChange:n,...r}=t,a=Dn($r,t.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),d=Ge(e,c,a.onScrollbarYChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(cM,{"data-orientation":"vertical",...r,ref:d,sizes:s,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Cp(s)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(a.viewport){const f=a.viewport.scrollTop+u.deltaY;t.onWheelScroll(f),mM(f,h)&&u.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:gm(o.paddingTop),paddingEnd:gm(o.paddingBottom)}})}})}),[m7,lM]=nM($r),cM=x.forwardRef((t,e)=>{const{__scopeScrollArea:s,sizes:n,hasThumb:r,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:h,...f}=t,p=Dn($r,s),[b,m]=x.useState(null),g=Ge(e,M=>m(M)),v=x.useRef(null),y=x.useRef(""),w=p.viewport,j=n.content-n.viewport,N=At(u),C=At(c),_=kp(h,10);function k(M){if(v.current){const L=M.clientX-v.current.left,O=M.clientY-v.current.top;d({x:L,y:O})}}return x.useEffect(()=>{const M=L=>{const O=L.target;(b==null?void 0:b.contains(O))&&N(L,j)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[w,b,j,N]),x.useEffect(C,[n,C]),ac(b,_),ac(p.content,_),i.jsx(m7,{scope:s,scrollbar:b,hasThumb:r,onThumbChange:At(a),onThumbPointerUp:At(o),onThumbPositionChange:C,onThumbPointerDown:At(l),children:i.jsx(je.div,{...f,ref:g,style:{position:"absolute",...f.style},onPointerDown:pe(t.onPointerDown,M=>{M.button===0&&(M.target.setPointerCapture(M.pointerId),v.current=b.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),k(M))}),onPointerMove:pe(t.onPointerMove,k),onPointerUp:pe(t.onPointerUp,M=>{const L=M.target;L.hasPointerCapture(M.pointerId)&&L.releasePointerCapture(M.pointerId),document.body.style.webkitUserSelect=y.current,p.viewport&&(p.viewport.style.scrollBehavior=""),v.current=null})})})}),pm="ScrollAreaThumb",dM=x.forwardRef((t,e)=>{const{forceMount:s,...n}=t,r=lM(pm,t.__scopeScrollArea);return i.jsx(Ss,{present:s||r.hasThumb,children:i.jsx(p7,{ref:e,...n})})}),p7=x.forwardRef((t,e)=>{const{__scopeScrollArea:s,style:n,...r}=t,a=Dn(pm,s),o=lM(pm,s),{onThumbPositionChange:l}=o,c=Ge(e,h=>o.onThumbChange(h)),d=x.useRef(void 0),u=kp(()=>{d.current&&(d.current(),d.current=void 0)},100);return x.useEffect(()=>{const h=a.viewport;if(h){const f=()=>{if(u(),!d.current){const p=y7(h,l);d.current=p,l()}};return l(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[a.viewport,u,l]),i.jsx(je.div,{"data-state":o.hasThumb?"visible":"hidden",...r,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:pe(t.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),b=h.clientX-p.left,m=h.clientY-p.top;o.onThumbPointerDown({x:b,y:m})}),onPointerUp:pe(t.onPointerUp,o.onThumbPointerUp)})});dM.displayName=pm;var tb="ScrollAreaCorner",uM=x.forwardRef((t,e)=>{const s=Dn(tb,t.__scopeScrollArea),n=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&n?i.jsx(g7,{...t,ref:e}):null});uM.displayName=tb;var g7=x.forwardRef((t,e)=>{const{__scopeScrollArea:s,...n}=t,r=Dn(tb,s),[a,o]=x.useState(0),[l,c]=x.useState(0),d=!!(a&&l);return ac(r.scrollbarX,()=>{var h;const u=((h=r.scrollbarX)==null?void 0:h.offsetHeight)||0;r.onCornerHeightChange(u),c(u)}),ac(r.scrollbarY,()=>{var h;const u=((h=r.scrollbarY)==null?void 0:h.offsetWidth)||0;r.onCornerWidthChange(u),o(u)}),d?i.jsx(je.div,{...n,ref:e,style:{width:a,height:l,position:"absolute",right:r.dir==="ltr"?0:void 0,left:r.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function gm(t){return t?parseInt(t,10):0}function hM(t,e){const s=t/e;return isNaN(s)?0:s}function Cp(t){const e=hM(t.viewport,t.content),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-s)*e;return Math.max(n,18)}function x7(t,e,s,n="ltr"){const r=Cp(s),a=r/2,o=e||a,l=r-o,c=s.scrollbar.paddingStart+o,d=s.scrollbar.size-s.scrollbar.paddingEnd-l,u=s.content-s.viewport,h=n==="ltr"?[0,u]:[u*-1,0];return fM([c,d],h)(t)}function TN(t,e,s="ltr"){const n=Cp(e),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-r,o=e.content-e.viewport,l=a-n,c=s==="ltr"?[0,o]:[o*-1,0],d=My(t,c);return fM([0,o],[0,l])(d)}function fM(t,e){return s=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(s-t[0])}}function mM(t,e){return t>0&&t<e}var y7=(t,e=()=>{})=>{let s={left:t.scrollLeft,top:t.scrollTop},n=0;return function r(){const a={left:t.scrollLeft,top:t.scrollTop},o=s.left!==a.left,l=s.top!==a.top;(o||l)&&e(),s=a,n=window.requestAnimationFrame(r)}(),()=>window.cancelAnimationFrame(n)};function kp(t,e){const s=At(t),n=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),x.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(s,e)},[s,e])}function ac(t,e){const s=At(e);Bt(()=>{let n=0;if(t){const r=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(s)});return r.observe(t),()=>{window.cancelAnimationFrame(n),r.unobserve(t)}}},[t,s])}var pM=rM,v7=aM,b7=uM;const gM=x.forwardRef(({className:t,children:e,...s},n)=>i.jsxs(pM,{ref:n,className:ye("relative overflow-hidden",t),...s,children:[i.jsx(v7,{className:"h-full w-full rounded-[inherit]",children:e}),i.jsx(xM,{}),i.jsx(b7,{})]}));gM.displayName=pM.displayName;const xM=x.forwardRef(({className:t,orientation:e="vertical",...s},n)=>i.jsx(Jv,{ref:n,orientation:e,className:ye("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...s,children:i.jsx(dM,{className:"relative flex-1 rounded-full bg-border"})}));xM.displayName=Jv.displayName;function cs(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function w7(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const Dh=43200,AN=1440;let j7={};function N7(){return j7}function MN(t){const e=cs(t),s=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return s.setUTCFullYear(e.getFullYear()),+t-+s}function bf(t,e){const s=cs(t),n=cs(e),r=s.getTime()-n.getTime();return r<0?-1:r>0?1:r}function S7(t){return w7(t,Date.now())}function _7(t,e){const s=cs(t),n=cs(e),r=s.getFullYear()-n.getFullYear(),a=s.getMonth()-n.getMonth();return r*12+a}function C7(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function k7(t,e){return+cs(t)-+cs(e)}function I7(t){const e=cs(t);return e.setHours(23,59,59,999),e}function E7(t){const e=cs(t),s=e.getMonth();return e.setFullYear(e.getFullYear(),s+1,0),e.setHours(23,59,59,999),e}function P7(t){const e=cs(t);return+I7(e)==+E7(e)}function T7(t,e){const s=cs(t),n=cs(e),r=bf(s,n),a=Math.abs(_7(s,n));let o;if(a<1)o=0;else{s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-r*a);let l=bf(s,n)===-r;P7(cs(t))&&a===1&&bf(t,n)===1&&(l=!1),o=r*(a-Number(l))}return o===0?0:o}function A7(t,e,s){const n=k7(t,e)/1e3;return C7(s==null?void 0:s.roundingMethod)(n)}const M7={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},R7=(t,e,s)=>{let n;const r=M7[t];return typeof r=="string"?n=r:e===1?n=r.one:n=r.other.replace("{{count}}",e.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+n:n+" ago":n};function zg(t){return(e={})=>{const s=e.width?String(e.width):t.defaultWidth;return t.formats[s]||t.formats[t.defaultWidth]}}const D7={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},O7={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},L7={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},F7={date:zg({formats:D7,defaultWidth:"full"}),time:zg({formats:O7,defaultWidth:"full"}),dateTime:zg({formats:L7,defaultWidth:"full"})},U7={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},z7=(t,e,s,n)=>U7[t];function Bc(t){return(e,s)=>{const n=s!=null&&s.context?String(s.context):"standalone";let r;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=s!=null&&s.width?String(s.width):o;r=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=s!=null&&s.width?String(s.width):t.defaultWidth;r=t.values[l]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return r[a]}}const V7={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},$7={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},B7={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},H7={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},W7={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},q7={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},K7=(t,e)=>{const s=Number(t),n=s%100;if(n>20||n<10)switch(n%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},G7={ordinalNumber:K7,era:Bc({values:V7,defaultWidth:"wide"}),quarter:Bc({values:$7,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Bc({values:B7,defaultWidth:"wide"}),day:Bc({values:H7,defaultWidth:"wide"}),dayPeriod:Bc({values:W7,defaultWidth:"wide",formattingValues:q7,defaultFormattingWidth:"wide"})};function Hc(t){return(e,s={})=>{const n=s.width,r=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(r);if(!a)return null;const o=a[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Z7(l,h=>h.test(o)):Q7(l,h=>h.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=s.valueCallback?s.valueCallback(d):d;const u=e.slice(o.length);return{value:d,rest:u}}}function Q7(t,e){for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&e(t[s]))return s}function Z7(t,e){for(let s=0;s<t.length;s++)if(e(t[s]))return s}function Y7(t){return(e,s={})=>{const n=e.match(t.matchPattern);if(!n)return null;const r=n[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=s.valueCallback?s.valueCallback(o):o;const l=e.slice(r.length);return{value:o,rest:l}}}const X7=/^(\d+)(th|st|nd|rd)?/i,J7=/\d+/i,eW={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},tW={any:[/^b/i,/^(a|c)/i]},sW={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},nW={any:[/1/i,/2/i,/3/i,/4/i]},rW={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},iW={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},aW={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},oW={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},lW={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},cW={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},dW={ordinalNumber:Y7({matchPattern:X7,parsePattern:J7,valueCallback:t=>parseInt(t,10)}),era:Hc({matchPatterns:eW,defaultMatchWidth:"wide",parsePatterns:tW,defaultParseWidth:"any"}),quarter:Hc({matchPatterns:sW,defaultMatchWidth:"wide",parsePatterns:nW,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Hc({matchPatterns:rW,defaultMatchWidth:"wide",parsePatterns:iW,defaultParseWidth:"any"}),day:Hc({matchPatterns:aW,defaultMatchWidth:"wide",parsePatterns:oW,defaultParseWidth:"any"}),dayPeriod:Hc({matchPatterns:lW,defaultMatchWidth:"any",parsePatterns:cW,defaultParseWidth:"any"})},uW={code:"en-US",formatDistance:R7,formatLong:F7,formatRelative:z7,localize:G7,match:dW,options:{weekStartsOn:0,firstWeekContainsDate:1}};function hW(t,e,s){const n=N7(),r=(s==null?void 0:s.locale)??n.locale??uW,a=2520,o=bf(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},s,{addSuffix:s==null?void 0:s.addSuffix,comparison:o});let c,d;o>0?(c=cs(e),d=cs(t)):(c=cs(t),d=cs(e));const u=A7(d,c),h=(MN(d)-MN(c))/1e3,f=Math.round((u-h)/60);let p;if(f<2)return s!=null&&s.includeSeconds?u<5?r.formatDistance("lessThanXSeconds",5,l):u<10?r.formatDistance("lessThanXSeconds",10,l):u<20?r.formatDistance("lessThanXSeconds",20,l):u<40?r.formatDistance("halfAMinute",0,l):u<60?r.formatDistance("lessThanXMinutes",1,l):r.formatDistance("xMinutes",1,l):f===0?r.formatDistance("lessThanXMinutes",1,l):r.formatDistance("xMinutes",f,l);if(f<45)return r.formatDistance("xMinutes",f,l);if(f<90)return r.formatDistance("aboutXHours",1,l);if(f<AN){const b=Math.round(f/60);return r.formatDistance("aboutXHours",b,l)}else{if(f<a)return r.formatDistance("xDays",1,l);if(f<Dh){const b=Math.round(f/AN);return r.formatDistance("xDays",b,l)}else if(f<Dh*2)return p=Math.round(f/Dh),r.formatDistance("aboutXMonths",p,l)}if(p=T7(d,c),p<12){const b=Math.round(f/Dh);return r.formatDistance("xMonths",b,l)}else{const b=p%12,m=Math.trunc(p/12);return b<3?r.formatDistance("aboutXYears",m,l):b<9?r.formatDistance("overXYears",m,l):r.formatDistance("almostXYears",m+1,l)}}function fW(t,e){return hW(t,S7(t),e)}function yM(){const[t,e]=x.useState(!1),s=Gt(),[,n]=Ns(),{data:r}=Ce({queryKey:["/api/notifications/unread-count"],refetchInterval:3e4}),a=(r==null?void 0:r.count)||0,{data:o}=Ce({queryKey:["/api/notifications"],enabled:t}),l=o||[],c=Me({mutationFn:async f=>(await _e("PUT",`/api/notifications/${f}/read`)).json(),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/notifications"]}),s.invalidateQueries({queryKey:["/api/notifications/unread-count"]})},onError:f=>{console.error("Mark as read error:",f),Js({title:"Error",description:"Failed to mark notification as read",variant:"destructive"})}}),d=Me({mutationFn:async()=>(await _e("PUT","/api/notifications/mark-all-read")).json(),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/notifications"]}),s.invalidateQueries({queryKey:["/api/notifications/unread-count"]}),s.refetchQueries({queryKey:["/api/notifications/unread-count"]}),Js({title:"All notifications marked as read",description:"Your notifications have been cleared."})},onError:f=>{console.error("Mark all as read error:",f),Js({title:"Error",description:"Failed to mark all notifications as read. Please try again.",variant:"destructive"})}}),u=f=>{f.isRead||c.mutate(f.id),(f.type==="badge_earned"||f.type==="achievement_unlocked")&&(n("/social?tab=badges"),e(!1))},h=()=>{d.mutate(),e(!1)};return i.jsxs("div",{className:"relative",children:[i.jsxs($,{variant:"ghost",size:"icon",className:"relative text-gray-700 hover:text-gray-900 hover:bg-gray-100 border border-gray-300 rounded-lg",onClick:()=>e(!t),children:[i.jsx(So,{className:"h-5 w-5"}),a>0&&i.jsx(ve,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs bg-red-500 text-white",children:a>99?"99+":a})]}),t&&i.jsx("div",{className:"absolute right-0 top-12 w-80 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50",children:i.jsxs(re,{className:"border-0 shadow-none",children:[i.jsx(be,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(we,{className:"text-lg",children:"Notifications"}),i.jsxs("div",{className:"flex items-center gap-2",children:[a>0&&i.jsx($,{variant:"outline",size:"sm",onClick:h,disabled:d.isPending,className:"text-white bg-gray-800 border-gray-600 hover:bg-gray-700",children:"Mark all read"}),i.jsx($,{variant:"ghost",size:"icon",onClick:()=>e(!1),className:"text-gray-500 hover:text-gray-700 hover:bg-gray-100",children:i.jsx(Er,{className:"h-4 w-4"})})]})]})}),i.jsx(ie,{className:"p-0",children:i.jsx(gM,{className:"h-96",children:l.length===0?i.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:"No notifications yet"}):i.jsx("div",{className:"space-y-1",children:l.map(f=>i.jsx("div",{className:`p-3 cursor-pointer transition-colors ${f.isRead?"bg-transparent hover:bg-gray-50 dark:hover:bg-gray-700":"bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/30"}`,onClick:()=>u(f),children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(So,{className:"h-4 w-4 text-blue-500"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium text-sm",children:f.title}),i.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:f.message}),i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:fW(new Date(f.createdAt),{addSuffix:!0})})]}),!f.isRead&&i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})})]})},f.id))})})})]})})]})}function mW(){const{toggleMobileMenu:t}=Ys(),[,e]=Ns();return i.jsxs("div",{className:"lg:hidden bg-white shadow-sm border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("button",{onClick:t,className:"text-gray-600 hover:text-gray-900",children:i.jsx(b8,{className:"w-6 h-6"})}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-8 h-8 bg-marvel-red rounded-lg flex items-center justify-center",children:i.jsx("img",{src:_p,alt:"Marvel Card Vault",className:"w-5 h-5 object-contain"})}),i.jsx("h1",{className:"text-gray-900 font-bebas text-xl tracking-wide font-bold",children:"MARVEL CARD VAULT"})]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(yM,{}),i.jsx("button",{className:"text-gray-600 hover:text-gray-900",onClick:()=>e("/social?tab=messages"),title:"Messages",children:i.jsx(Nr,{className:"w-5 h-5"})}),i.jsx("button",{className:"text-gray-600 hover:text-gray-900",onClick:()=>e("/card-search"),children:i.jsx(ss,{className:"w-5 h-5"})})]})]})}function pW(){var u,h,f,p,b,m;const[t,e]=x.useState(0),[s,n]=x.useState(!1),[r,a]=x.useState(null);Ys();const{data:o}=Ce({queryKey:["/api/cards"],select:g=>Array.isArray(g)?g.sort(()=>.5-Math.random()).slice(0,12):[]});x.useEffect(()=>{if(o&&o.length>0){const g=setInterval(()=>{e(v=>(v+1)%o.length)},4e3);return()=>clearInterval(g)}},[o]);const l=()=>{m$()},c=g=>{a(g),localStorage.setItem("selectedPlan",g),l()},d=g=>{!o||o.length===0||e(g==="right"?v=>(v+1)%o.length:v=>(v-1+o.length)%o.length)};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row min-h-screen",children:[i.jsxs("div",{className:"w-full lg:w-3/5 relative flex flex-col justify-center items-center p-6 lg:p-12 bg-gradient-to-br from-purple-900/20 via-pink-900/20 to-blue-900/20",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/10 via-pink-600/10 to-blue-600/10 animate-pulse"}),i.jsxs("div",{className:"relative z-10 text-center mb-8 lg:mb-12",children:[i.jsx("h1",{className:"text-4xl lg:text-6xl font-bold mb-4 bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500 bg-clip-text text-transparent",children:"MARVEL"}),i.jsx("h2",{className:"text-2xl lg:text-3xl font-semibold text-white mb-2",children:"Card Vault"}),i.jsx("p",{className:"text-lg text-gray-300 max-w-md mx-auto",children:"Collect, trade, and showcase your Marvel universe"})]}),o&&o.length>0&&i.jsxs("div",{className:"relative z-10 w-full max-w-sm lg:max-w-md",children:[i.jsxs("div",{className:"relative group",children:[i.jsxs("div",{className:"relative w-64 h-80 lg:w-80 lg:h-96 mx-auto rounded-2xl overflow-hidden shadow-2xl transform transition-all duration-500 hover:scale-105",children:[i.jsx("img",{src:(u=o[t])==null?void 0:u.frontImageUrl,alt:(h=o[t])==null?void 0:h.name,className:"w-full h-full object-cover",onError:g=>{g.currentTarget.src="/placeholder-card.jpg"}}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"}),i.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6",children:[i.jsx("h3",{className:"text-white font-bold text-xl lg:text-2xl mb-2 leading-tight",children:(f=o[t])==null?void 0:f.name}),i.jsx("p",{className:"text-gray-300 text-sm lg:text-base mb-2",children:(b=(p=o[t])==null?void 0:p.set)==null?void 0:b.name}),((m=o[t])==null?void 0:m.isInsert)&&i.jsx("span",{className:"inline-block bg-gradient-to-r from-purple-600 to-pink-600 text-white text-xs font-bold px-3 py-1 rounded-full",children:"INSERT"})]}),i.jsx("button",{onClick:()=>d("left"),className:"lg:hidden absolute left-2 top-1/2 transform -translate-y-1/2 bg-black/50 text-white p-2 rounded-full hover:bg-black/70 transition-colors",children:""}),i.jsx("button",{onClick:()=>d("right"),className:"lg:hidden absolute right-2 top-1/2 transform -translate-y-1/2 bg-black/50 text-white p-2 rounded-full hover:bg-black/70 transition-colors",children:""})]}),i.jsx("div",{className:"flex justify-center mt-6 space-x-2",children:o.slice(0,8).map((g,v)=>i.jsx("button",{className:`w-2 h-2 rounded-full transition-all duration-300 ${v===t%8?"bg-gradient-to-r from-pink-500 to-purple-500 scale-125":"bg-gray-600 hover:bg-gray-500"}`,onClick:()=>e(v)},v))})]}),i.jsx("div",{className:"text-center mt-8",children:i.jsxs($,{variant:"outline",onClick:()=>n(!s),className:"bg-transparent border-gray-500 text-gray-300 hover:bg-gray-800 hover:text-white transition-all",children:[i.jsx(kv,{className:"w-4 h-4 mr-2"}),"Learn More"]})})]})]}),i.jsx("div",{className:"w-full lg:w-2/5 flex items-center justify-center p-6 lg:p-12 bg-gradient-to-b from-gray-900 to-black",children:i.jsx("div",{className:"w-full max-w-md",children:i.jsxs(re,{className:"bg-gradient-to-br from-gray-800 to-gray-900 border-gray-700 shadow-2xl",children:[i.jsxs(be,{className:"text-center pb-6",children:[i.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-red-600 to-red-700 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:i.jsx("img",{src:_p,alt:"Marvel Card Vault",className:"w-10 h-10 object-contain"})}),i.jsx(we,{className:"text-3xl font-bold text-white mb-2",children:"Join the Vault"}),i.jsx(mm,{className:"text-gray-300 text-lg",children:"Start your Marvel collection journey today"})]}),i.jsxs(ie,{className:"space-y-6",children:[i.jsxs($,{onClick:l,className:"w-full bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white py-4 text-lg font-bold rounded-xl shadow-lg transform transition-all duration-200 hover:scale-105",size:"lg",children:[i.jsxs("svg",{className:"w-6 h-6 mr-3",viewBox:"0 0 24 24",children:[i.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),i.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),i.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),i.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google",i.jsx(jy,{className:"w-5 h-5 ml-2"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[i.jsxs("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-400",children:"FREE"}),i.jsx("div",{className:"text-xs text-gray-400",children:"Start collecting"})]}),i.jsxs("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-400",children:"250+"}),i.jsx("div",{className:"text-xs text-gray-400",children:"Cards to track"})]})]}),i.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-900/30 to-pink-900/30 rounded-lg border border-purple-500/20",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg font-bold text-white mb-2",children:"Want unlimited cards?"}),i.jsx("div",{className:"text-sm text-gray-300 mb-3",children:"Upgrade to Super Hero for $4/month"}),i.jsx($,{onClick:()=>c("SUPER_HERO"),variant:"outline",size:"sm",className:"border-purple-500 text-purple-300 hover:bg-purple-600 hover:text-white",children:"Subscribe Now"})]})}),i.jsx("div",{className:"text-center",children:i.jsx("p",{className:"text-xs text-gray-500",children:"By signing in, you agree to our Terms & Privacy Policy"})})]})]})})})]}),s&&i.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-2xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h3",{className:"text-2xl font-bold text-white",children:"Why Choose Marvel Card Vault?"}),i.jsx($,{variant:"ghost",onClick:()=>n(!1),className:"text-gray-400 hover:text-white",children:""})]}),i.jsxs("div",{className:"grid gap-6",children:[i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx("div",{className:"w-8 h-8 bg-purple-600 rounded-lg flex items-center justify-center flex-shrink-0",children:i.jsx(N8,{className:"w-4 h-4 text-white"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-white mb-1",children:"Smart Collection Tracking"}),i.jsx("p",{className:"text-gray-400 text-sm",children:"Organize your Marvel cards with condition tracking, set completion, and value estimates."})]})]}),i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx("div",{className:"w-8 h-8 bg-pink-600 rounded-lg flex items-center justify-center flex-shrink-0",children:i.jsx(jy,{className:"w-4 h-4 text-white"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-white mb-1",children:"Marketplace Integration"}),i.jsx("p",{className:"text-gray-400 text-sm",children:"Buy, sell, and trade with other collectors in our secure marketplace (SUPER HERO plan)."})]})]}),i.jsxs("div",{className:"mt-6 p-6 bg-gradient-to-r from-purple-900/30 to-pink-900/30 rounded-xl border border-purple-700/30",children:[i.jsx("h4",{className:"font-bold text-white mb-3",children:"Choose Your Plan"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("button",{onClick:()=>c("SIDE_KICK"),className:"p-4 bg-gray-800 rounded-lg hover:bg-gray-700 transition-colors cursor-pointer text-left",children:[i.jsx("div",{className:"font-semibold text-gray-300",children:"SIDE KICK"}),i.jsx("div",{className:"text-2xl font-bold text-green-400 mb-2",children:"FREE"}),i.jsxs("ul",{className:"text-sm text-gray-400 space-y-1",children:[i.jsx("li",{children:" Up to 250 cards"}),i.jsx("li",{children:" Basic tracking"}),i.jsx("li",{children:" Wishlist management"})]}),i.jsx("div",{className:"mt-3 text-xs text-gray-500",children:"Click to sign up"})]}),i.jsxs("button",{onClick:()=>c("SUPER_HERO"),className:"p-4 bg-gradient-to-br from-purple-800 to-pink-800 rounded-lg border border-purple-500 hover:from-purple-700 hover:to-pink-700 transition-colors cursor-pointer text-left",children:[i.jsx("div",{className:"font-semibold text-white",children:"SUPER HERO"}),i.jsx("div",{className:"text-2xl font-bold text-white mb-2",children:"$4/mo"}),i.jsxs("ul",{className:"text-sm text-gray-200 space-y-1",children:[i.jsx("li",{children:" Unlimited cards"}),i.jsx("li",{children:" Marketplace access"}),i.jsx("li",{children:" Advanced analytics"})]}),i.jsx("div",{className:"mt-3 text-xs text-gray-300",children:"Click to sign up & subscribe"})]})]})]})]})]})})]})}const ne=x.forwardRef(({className:t,type:e,...s},n)=>i.jsx("input",{type:e,className:ye("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...s}));ne.displayName="Input";var gW="Label",vM=x.forwardRef((t,e)=>i.jsx(je.label,{...t,ref:e,onMouseDown:s=>{var r;s.target.closest("button, input, select, textarea")||((r=t.onMouseDown)==null||r.call(t,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));vM.displayName=gW;var bM=vM;const xW=Ku("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),G=x.forwardRef(({className:t,...e},s)=>i.jsx(bM,{ref:s,className:ye(xW(),t),...e}));G.displayName=bM.displayName;const ws=x.forwardRef(({className:t,...e},s)=>i.jsx("textarea",{className:ye("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...e}));ws.displayName="Textarea";var sb="Checkbox",[yW,$te]=hs(sb),[vW,bW]=yW(sb),wM=x.forwardRef((t,e)=>{const{__scopeCheckbox:s,name:n,checked:r,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=t,[f,p]=x.useState(null),b=Ge(e,j=>p(j)),m=x.useRef(!1),g=f?u||!!f.closest("form"):!0,[v=!1,y]=rr({prop:r,defaultProp:a,onChange:d}),w=x.useRef(v);return x.useEffect(()=>{const j=f==null?void 0:f.form;if(j){const N=()=>y(w.current);return j.addEventListener("reset",N),()=>j.removeEventListener("reset",N)}},[f,y]),i.jsxs(vW,{scope:s,state:v,disabled:l,children:[i.jsx(je.button,{type:"button",role:"checkbox","aria-checked":fa(v)?"mixed":v,"aria-required":o,"data-state":SM(v),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:b,onKeyDown:pe(t.onKeyDown,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:pe(t.onClick,j=>{y(N=>fa(N)?!0:!N),g&&(m.current=j.isPropagationStopped(),m.current||j.stopPropagation())})}),g&&i.jsx(wW,{control:f,bubbles:!m.current,name:n,value:c,checked:v,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"},defaultChecked:fa(a)?!1:a})]})});wM.displayName=sb;var jM="CheckboxIndicator",NM=x.forwardRef((t,e)=>{const{__scopeCheckbox:s,forceMount:n,...r}=t,a=bW(jM,s);return i.jsx(Ss,{present:n||fa(a.state)||a.state===!0,children:i.jsx(je.span,{"data-state":SM(a.state),"data-disabled":a.disabled?"":void 0,...r,ref:e,style:{pointerEvents:"none",...t.style}})})});NM.displayName=jM;var wW=t=>{const{control:e,checked:s,bubbles:n=!0,defaultChecked:r,...a}=t,o=x.useRef(null),l=wp(s),c=xp(e);x.useEffect(()=>{const u=o.current,h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==s&&p){const b=new Event("click",{bubbles:n});u.indeterminate=fa(s),p.call(u,fa(s)?!1:s),u.dispatchEvent(b)}},[l,s,n]);const d=x.useRef(fa(s)?!1:s);return i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r??d.current,...a,tabIndex:-1,ref:o,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function fa(t){return t==="indeterminate"}function SM(t){return fa(t)?"indeterminate":t?"checked":"unchecked"}var _M=wM,jW=NM;const Eo=x.forwardRef(({className:t,...e},s)=>i.jsx(_M,{ref:s,className:ye("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:i.jsx(jW,{className:ye("flex items-center justify-center text-current"),children:i.jsx(an,{className:"h-4 w-4"})})}));Eo.displayName=_M.displayName;var Vg="rovingFocusGroup.onEntryFocus",NW={bubbles:!1,cancelable:!0},Ip="RovingFocusGroup",[Ry,CM,SW]=wv(Ip),[_W,Ep]=hs(Ip,[SW]),[CW,kW]=_W(Ip),kM=x.forwardRef((t,e)=>i.jsx(Ry.Provider,{scope:t.__scopeRovingFocusGroup,children:i.jsx(Ry.Slot,{scope:t.__scopeRovingFocusGroup,children:i.jsx(IW,{...t,ref:e})})}));kM.displayName=Ip;var IW=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:s,orientation:n,loop:r=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=t,f=x.useRef(null),p=Ge(e,f),b=Zu(a),[m=null,g]=rr({prop:o,defaultProp:l,onChange:c}),[v,y]=x.useState(!1),w=At(d),j=CM(s),N=x.useRef(!1),[C,_]=x.useState(0);return x.useEffect(()=>{const k=f.current;if(k)return k.addEventListener(Vg,w),()=>k.removeEventListener(Vg,w)},[w]),i.jsx(CW,{scope:s,orientation:n,dir:b,loop:r,currentTabStopId:m,onItemFocus:x.useCallback(k=>g(k),[g]),onItemShiftTab:x.useCallback(()=>y(!0),[]),onFocusableItemAdd:x.useCallback(()=>_(k=>k+1),[]),onFocusableItemRemove:x.useCallback(()=>_(k=>k-1),[]),children:i.jsx(je.div,{tabIndex:v||C===0?-1:0,"data-orientation":n,...h,ref:p,style:{outline:"none",...t.style},onMouseDown:pe(t.onMouseDown,()=>{N.current=!0}),onFocus:pe(t.onFocus,k=>{const M=!N.current;if(k.target===k.currentTarget&&M&&!v){const L=new CustomEvent(Vg,NW);if(k.currentTarget.dispatchEvent(L),!L.defaultPrevented){const O=j().filter(z=>z.focusable),I=O.find(z=>z.active),B=O.find(z=>z.id===m),J=[I,B,...O].filter(Boolean).map(z=>z.ref.current);PM(J,u)}}N.current=!1}),onBlur:pe(t.onBlur,()=>y(!1))})})}),IM="RovingFocusGroupItem",EM=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:s,focusable:n=!0,active:r=!1,tabStopId:a,...o}=t,l=Pr(),c=a||l,d=kW(IM,s),u=d.currentTabStopId===c,h=CM(s),{onFocusableItemAdd:f,onFocusableItemRemove:p}=d;return x.useEffect(()=>{if(n)return f(),()=>p()},[n,f,p]),i.jsx(Ry.ItemSlot,{scope:s,id:c,focusable:n,active:r,children:i.jsx(je.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...o,ref:e,onMouseDown:pe(t.onMouseDown,b=>{n?d.onItemFocus(c):b.preventDefault()}),onFocus:pe(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:pe(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const m=TW(b,d.orientation,d.dir);if(m!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let v=h().filter(y=>y.focusable).map(y=>y.ref.current);if(m==="last")v.reverse();else if(m==="prev"||m==="next"){m==="prev"&&v.reverse();const y=v.indexOf(b.currentTarget);v=d.loop?AW(v,y+1):v.slice(y+1)}setTimeout(()=>PM(v))}})})})});EM.displayName=IM;var EW={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function PW(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function TW(t,e,s){const n=PW(t.key,s);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return EW[n]}function PM(t,e=!1){const s=document.activeElement;for(const n of t)if(n===s||(n.focus({preventScroll:e}),document.activeElement!==s))return}function AW(t,e){return t.map((s,n)=>t[(e+n)%t.length])}var TM=kM,AM=EM,nb="Radio",[MW,MM]=hs(nb),[RW,DW]=MW(nb),RM=x.forwardRef((t,e)=>{const{__scopeRadio:s,name:n,checked:r=!1,required:a,disabled:o,value:l="on",onCheck:c,form:d,...u}=t,[h,f]=x.useState(null),p=Ge(e,g=>f(g)),b=x.useRef(!1),m=h?d||!!h.closest("form"):!0;return i.jsxs(RW,{scope:s,checked:r,disabled:o,children:[i.jsx(je.button,{type:"button",role:"radio","aria-checked":r,"data-state":LM(r),"data-disabled":o?"":void 0,disabled:o,value:l,...u,ref:p,onClick:pe(t.onClick,g=>{r||c==null||c(),m&&(b.current=g.isPropagationStopped(),b.current||g.stopPropagation())})}),m&&i.jsx(OW,{control:h,bubbles:!b.current,name:n,value:l,checked:r,required:a,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});RM.displayName=nb;var DM="RadioIndicator",OM=x.forwardRef((t,e)=>{const{__scopeRadio:s,forceMount:n,...r}=t,a=DW(DM,s);return i.jsx(Ss,{present:n||a.checked,children:i.jsx(je.span,{"data-state":LM(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:e})})});OM.displayName=DM;var OW=t=>{const{control:e,checked:s,bubbles:n=!0,...r}=t,a=x.useRef(null),o=wp(s),l=xp(e);return x.useEffect(()=>{const c=a.current,d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==s&&h){const f=new Event("click",{bubbles:n});h.call(c,s),c.dispatchEvent(f)}},[o,s,n]),i.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:s,...r,tabIndex:-1,ref:a,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function LM(t){return t?"checked":"unchecked"}var LW=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],rb="RadioGroup",[FW,Bte]=hs(rb,[Ep,MM]),FM=Ep(),UM=MM(),[UW,zW]=FW(rb),zM=x.forwardRef((t,e)=>{const{__scopeRadioGroup:s,name:n,defaultValue:r,value:a,required:o=!1,disabled:l=!1,orientation:c,dir:d,loop:u=!0,onValueChange:h,...f}=t,p=FM(s),b=Zu(d),[m,g]=rr({prop:a,defaultProp:r,onChange:h});return i.jsx(UW,{scope:s,name:n,required:o,disabled:l,value:m,onValueChange:g,children:i.jsx(TM,{asChild:!0,...p,orientation:c,dir:b,loop:u,children:i.jsx(je.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:b,...f,ref:e})})})});zM.displayName=rb;var VM="RadioGroupItem",$M=x.forwardRef((t,e)=>{const{__scopeRadioGroup:s,disabled:n,...r}=t,a=zW(VM,s),o=a.disabled||n,l=FM(s),c=UM(s),d=x.useRef(null),u=Ge(e,d),h=a.value===r.value,f=x.useRef(!1);return x.useEffect(()=>{const p=m=>{LW.includes(m.key)&&(f.current=!0)},b=()=>f.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",b)}},[]),i.jsx(AM,{asChild:!0,...l,focusable:!o,active:h,children:i.jsx(RM,{disabled:o,required:a.required,checked:h,...c,...r,name:a.name,ref:u,onCheck:()=>a.onValueChange(r.value),onKeyDown:pe(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:pe(r.onFocus,()=>{var p;f.current&&((p=d.current)==null||p.click())})})})});$M.displayName=VM;var VW="RadioGroupIndicator",BM=x.forwardRef((t,e)=>{const{__scopeRadioGroup:s,...n}=t,r=UM(s);return i.jsx(OM,{...r,...n,ref:e})});BM.displayName=VW;var HM=zM,WM=$M,$W=BM;const qM=x.forwardRef(({className:t,...e},s)=>i.jsx(HM,{className:ye("grid gap-2",t),...e,ref:s}));qM.displayName=HM.displayName;const KM=x.forwardRef(({className:t,...e},s)=>i.jsx(WM,{ref:s,className:ye("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:i.jsx($W,{className:"flex items-center justify-center",children:i.jsx(g8,{className:"h-2.5 w-2.5 fill-current text-current"})})}));KM.displayName=WM.displayName;function BW(){const{refreshUser:t}=cr(),{currentUser:e}=Ys(),{toast:s}=dt(),[n,r]=x.useState(1),[a,o]=x.useState(!1),[l,c]=x.useState(""),[d,u]=x.useState(null),[h,f]=x.useState(""),[p,b]=x.useState(!1),[m,g]=x.useState(""),[v,y]=x.useState(""),[w,j]=x.useState(""),[N,C]=x.useState(!1),_=["Social Media","Friend Recommendation","Search Engine","Reddit/Forum","YouTube/Streamer","Other"];x.useEffect(()=>{const I=setTimeout(async()=>{if(!l){u(null),f("");return}if(!/^[a-z0-9_]{3,20}$/.test(l)){u(!1),f("Username must be 3-20 characters, lowercase letters, numbers, and underscores only");return}b(!0);try{const H=di.currentUser;if(!H){f("Please sign in to continue"),u(!1);return}const J=await H.getIdToken();(await(await fetch(`/api/onboarding/check-username?username=${l}`,{headers:{Authorization:`Bearer ${J}`}})).json()).available?(u(!0),f("")):(u(!1),f("Username is already taken"))}catch(H){console.error("Username check error:",H),f("Failed to check username availability"),u(!1)}finally{b(!1)}},500);return()=>clearTimeout(I)},[l]);const k=()=>{if(n===1&&!d){s({title:"Invalid Username",description:"Please choose a valid username",variant:"destructive"});return}if(n===2&&!m){s({title:"Required Field",description:"Please let us know how you heard about us",variant:"destructive"});return}r(n+1)},M=()=>{r(n-1)},L=async()=>{o(!0);try{await _e("POST","/api/onboarding/complete",{username:l,heardAbout:m==="Other"?v:m,favoriteSets:w,marketingOptIn:N}),s({title:"Welcome!",description:`@${l} - Your account is ready!`}),await t()}catch(O){console.error("Onboarding error:",O),s({title:"Error",description:O.message||"Failed to complete onboarding",variant:"destructive"})}finally{o(!1)}};return!e||e.onboardingComplete?null:i.jsx(ln,{open:!0,children:i.jsxs(Gs,{className:"sm:max-w-[500px]",onInteractOutside:O=>O.preventDefault(),children:[i.jsxs(Qs,{children:[i.jsx(Zs,{className:"text-2xl font-bebas tracking-wide",children:"Welcome to Marvel Card Vault"}),i.jsxs(Yv,{children:["Let's get you set up! Step ",n," of 4"]})]}),i.jsxs("div",{className:"space-y-6 py-4",children:[n===1&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"username",className:"text-base font-medium",children:"Choose Your Username"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"This will be your public display name (@username)"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx(ne,{id:"username","data-testid":"input-username",placeholder:"e.g., spider_fan_98",value:l,onChange:O=>c(O.target.value.toLowerCase()),className:`${l&&d===!0?"border-green-500":l&&d===!1?"border-red-500":""}`}),i.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:[p&&i.jsx(jl,{className:"w-4 h-4 animate-spin text-gray-400"}),!p&&l&&d===!0&&i.jsx(p8,{className:"w-4 h-4 text-green-500"}),!p&&l&&d===!1&&i.jsx(_o,{className:"w-4 h-4 text-red-500"})]})]}),h&&i.jsx("p",{className:"text-sm text-red-500",children:h}),i.jsx("p",{className:"text-xs text-gray-500",children:"3-20 characters, lowercase letters, numbers, and underscores only"})]})]}),n===2&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{children:i.jsx(G,{className:"text-base font-medium",children:"How did you hear about us?"})}),i.jsx(qM,{value:m,onValueChange:g,children:_.map(O=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(KM,{value:O,id:O,"data-testid":`radio-${O.toLowerCase().replace(/\s/g,"-")}`}),i.jsx(G,{htmlFor:O,className:"font-normal cursor-pointer",children:O})]},O))}),m==="Other"&&i.jsx(ne,{placeholder:"Please specify...","data-testid":"input-heard-about-other",value:v,onChange:O=>y(O.target.value),className:"mt-2"})]}),n===3&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"favorite-sets",className:"text-base font-medium",children:"Favorite Card Sets (Optional)"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Tell us about your favorite Marvel card sets or characters"})]}),i.jsx(ws,{id:"favorite-sets","data-testid":"textarea-favorite-sets",placeholder:"e.g., Spider-Man Fleer Ultra, X-Men Series 1...",value:w,onChange:O=>j(O.target.value),rows:4})]}),n===4&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(G,{className:"text-base font-medium",children:"Final Step!"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Help us improve your experience"})]}),i.jsxs("div",{className:"flex items-start space-x-3 p-4 border rounded-lg",children:[i.jsx(Eo,{id:"marketing","data-testid":"checkbox-marketing",checked:N,onCheckedChange:O=>C(O)}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(G,{htmlFor:"marketing",className:"font-normal cursor-pointer",children:"Keep me updated on new features and sets"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Get occasional emails about new card releases, features, and community highlights"})]})]}),i.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-orange-50 dark:from-red-950/20 dark:to-orange-950/20 border-2 border-red-200 dark:border-red-800 p-5 rounded-lg space-y-3",children:[i.jsxs("h3",{className:"text-base font-bold text-red-700 dark:text-red-400 mb-3 flex items-center gap-2",children:[i.jsx(Vn,{className:"w-5 h-5"}),"Your Origin Story"]}),i.jsxs("div",{className:"space-y-2.5",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Username:"}),i.jsxs("span",{className:"text-sm font-bold text-red-600 dark:text-red-400",children:["@",l]})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(Ev,{className:"w-4 h-4 text-gray-500 dark:text-gray-400 mt-0.5 flex-shrink-0"}),i.jsx("div",{className:"flex-1",children:i.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Heard about us:"})," ",m==="Other"?v:m]})})]}),w&&i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(er,{className:"w-4 h-4 text-red-500 dark:text-red-400 mt-0.5 flex-shrink-0"}),i.jsx("div",{className:"flex-1",children:i.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Favorite sets:"})," ",w]})})]})]})]})]})]}),i.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[n>1?i.jsx($,{variant:"outline",onClick:M,"data-testid":"button-back",children:"Back"}):i.jsx("div",{}),n<4?i.jsx($,{onClick:k,"data-testid":"button-next",className:"bg-red-600 hover:bg-red-700",disabled:n===1&&(!l||d!==!0||p)||n===2&&!m,children:"Next"}):i.jsx($,{onClick:L,disabled:a,"data-testid":"button-complete",className:"bg-red-600 hover:bg-red-700",children:a?i.jsxs(i.Fragment,{children:[i.jsx(jl,{className:"w-4 h-4 mr-2 animate-spin"}),"Completing..."]}):"Complete Setup"})]})]})})}var ib="Popover",[GM,Hte]=hs(ib,[Cc]),Yu=Cc(),[HW,Ta]=GM(ib),QM=t=>{const{__scopePopover:e,children:s,open:n,defaultOpen:r,onOpenChange:a,modal:o=!1}=t,l=Yu(e),c=x.useRef(null),[d,u]=x.useState(!1),[h=!1,f]=rr({prop:n,defaultProp:r,onChange:a});return i.jsx(dA,{...l,children:i.jsx(HW,{scope:e,contentId:Pr(),triggerRef:c,open:h,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(p=>!p),[f]),hasCustomAnchor:d,onCustomAnchorAdd:x.useCallback(()=>u(!0),[]),onCustomAnchorRemove:x.useCallback(()=>u(!1),[]),modal:o,children:s})})};QM.displayName=ib;var ZM="PopoverAnchor",WW=x.forwardRef((t,e)=>{const{__scopePopover:s,...n}=t,r=Ta(ZM,s),a=Yu(s),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=r;return x.useEffect(()=>(o(),()=>l()),[o,l]),i.jsx(yp,{...a,...n,ref:e})});WW.displayName=ZM;var YM="PopoverTrigger",XM=x.forwardRef((t,e)=>{const{__scopePopover:s,...n}=t,r=Ta(YM,s),a=Yu(s),o=Ge(e,r.triggerRef),l=i.jsx(je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":nR(r.open),...n,ref:o,onClick:pe(t.onClick,r.onOpenToggle)});return r.hasCustomAnchor?l:i.jsx(yp,{asChild:!0,...a,children:l})});XM.displayName=YM;var ab="PopoverPortal",[qW,KW]=GM(ab,{forceMount:void 0}),JM=t=>{const{__scopePopover:e,forceMount:s,children:n,container:r}=t,a=Ta(ab,e);return i.jsx(qW,{scope:e,forceMount:s,children:i.jsx(Ss,{present:s||a.open,children:i.jsx(Wu,{asChild:!0,container:r,children:n})})})};JM.displayName=ab;var oc="PopoverContent",eR=x.forwardRef((t,e)=>{const s=KW(oc,t.__scopePopover),{forceMount:n=s.forceMount,...r}=t,a=Ta(oc,t.__scopePopover);return i.jsx(Ss,{present:n||a.open,children:a.modal?i.jsx(QW,{...r,ref:e}):i.jsx(ZW,{...r,ref:e})})});eR.displayName=oc;var GW=No("PopoverContent.RemoveScroll"),QW=x.forwardRef((t,e)=>{const s=Ta(oc,t.__scopePopover),n=x.useRef(null),r=Ge(e,n),a=x.useRef(!1);return x.useEffect(()=>{const o=n.current;if(o)return qv(o)},[]),i.jsx(Sp,{as:GW,allowPinchZoom:!0,children:i.jsx(tR,{...t,ref:r,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(t.onCloseAutoFocus,o=>{var l;o.preventDefault(),a.current||(l=s.triggerRef.current)==null||l.focus()}),onPointerDownOutside:pe(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;a.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:pe(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),ZW=x.forwardRef((t,e)=>{const s=Ta(oc,t.__scopePopover),n=x.useRef(!1),r=x.useRef(!1);return i.jsx(tR,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(n.current||(l=s.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,r.current=!1},onInteractOutside:a=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const o=a.target;((d=s.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&r.current&&a.preventDefault()}})}),tR=x.forwardRef((t,e)=>{const{__scopePopover:s,trapFocus:n,onOpenAutoFocus:r,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...h}=t,f=Ta(oc,s),p=Yu(s);return Wv(),i.jsx(jp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:r,onUnmountAutoFocus:a,children:i.jsx(wc,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>f.onOpenChange(!1),children:i.jsx(Vv,{"data-state":nR(f.open),role:"dialog",id:f.contentId,...p,...h,ref:e,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),sR="PopoverClose",YW=x.forwardRef((t,e)=>{const{__scopePopover:s,...n}=t,r=Ta(sR,s);return i.jsx(je.button,{type:"button",...n,ref:e,onClick:pe(t.onClick,()=>r.onOpenChange(!1))})});YW.displayName=sR;var XW="PopoverArrow",JW=x.forwardRef((t,e)=>{const{__scopePopover:s,...n}=t,r=Yu(s);return i.jsx($v,{...r,...n,ref:e})});JW.displayName=XW;function nR(t){return t?"open":"closed"}var eq=QM,tq=XM,sq=JM,rR=eR;const nq=eq,rq=tq,iR=x.forwardRef(({className:t,align:e="center",sideOffset:s=4,...n},r)=>i.jsx(sq,{children:i.jsx(rR,{ref:r,align:e,sideOffset:s,className:ye("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",t),...n})}));iR.displayName=rR.displayName;function iq(){const[,t]=Ns(),{data:e,isLoading:s}=Ce({queryKey:["/api/stats"],staleTime:0,refetchOnWindowFocus:!0});if(s)return i.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-white rounded-2xl p-6 mb-8 border border-gray-200/50 shadow-sm",children:i.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-8",children:[...Array(4)].map((a,o)=>i.jsxs("div",{className:"flex flex-col items-center text-center animate-pulse",children:[i.jsx("div",{className:"w-12 h-12 bg-gray-300 rounded-full mb-3"}),i.jsx("div",{className:"h-4 bg-gray-300 rounded w-16 mb-1"}),i.jsx("div",{className:"h-8 bg-gray-300 rounded w-20"})]},o))})});if(!e)return i.jsx("div",{className:"text-center py-8",children:i.jsx("p",{className:"text-muted-foreground",children:"Failed to load statistics"})});const n=[{label:"Total Cards",value:(e.totalCards||0).toLocaleString(),change:String(e.totalCardsGrowth||"+0%"),icon:"layers",color:"bg-marvel-red",tooltip:"The total amount of cards you've added to your collection. Add more individually, or if you have sets easily add the whole set to your collection from the browse cards page.",onClick:()=>t("/collection")},{label:"Insert Cards",value:(e.insertCards||0).toLocaleString(),change:String(e.insertCardsGrowth||"+0%"),icon:"star",color:"bg-marvel-gold",tooltip:"What's an insert card? These cards are typically rarer and more valuable than base cards, have unique designs and/or themes, and may have their own numbering systems. Examples include autographed cards, memorabilia cards, foil cards, and special edition cards.",onClick:()=>t("/collection")},{label:"Total Value",value:`$${(e.totalValue?parseFloat(e.totalValue.toString()):0).toFixed(2)}`,change:String(e.totalValueGrowth||"+0%"),icon:"dollar",color:"bg-green-500",tooltip:"We've taken a look at your collection and have averaged the last 5 eBay sales of every card within your collection. This is how much your collection is worth today. Check back daily to see the changes over time.",onClick:()=>t("/trends")},{label:"Wishlist Items",value:(e.wishlistItems||e.wishlistCount||0).toLocaleString(),change:String(e.wishlistGrowth||"+0%"),icon:"heart",color:"bg-pink-500",tooltip:"Your wishlist is a great place to track the cards you're currently chasing - browse sets or cards and if you don't have it add it to your wishlist. You can easily add it to your collection once you have it in person.",onClick:()=>t("/wishlist")}],r=(a,o)=>{const l="w-12 h-12 drop-shadow-lg",d={"bg-marvel-red":"text-red-500","bg-marvel-gold":"text-yellow-500","bg-green-500":"text-green-500","bg-pink-500":"text-pink-500"}[o]||"text-gray-500";switch(a){case"layers":return i.jsx(MT,{className:`${l} ${d}`,strokeWidth:2.5});case"star":return i.jsx(Tn,{className:`${l} ${d}`,strokeWidth:2.5,fill:"currentColor"});case"dollar":return i.jsx(ao,{className:`${l} ${d}`,strokeWidth:2.5});case"heart":return i.jsx(er,{className:`${l} ${d}`,strokeWidth:2.5,fill:"currentColor"});default:return null}};return i.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-white rounded-2xl p-6 mb-8 border border-gray-200/50 shadow-sm",children:i.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-8",children:n.map((a,o)=>i.jsxs("div",{className:"group flex flex-col items-center text-center cursor-pointer transition-all duration-300 hover:scale-110 hover:-translate-y-1",onClick:a.onClick,children:[i.jsxs("div",{className:"relative mb-3 group-hover:animate-pulse",children:[r(a.icon,a.color),i.jsx("div",{className:"absolute -bottom-2 -right-2 w-12 h-12 bg-black/10 rounded-full blur-sm -z-10"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("span",{className:"text-sm font-bold text-gray-600 uppercase tracking-wider mb-1 group-hover:text-gray-500 transition-colors",children:a.label}),i.jsx("span",{className:"text-3xl font-black text-gray-900 group-hover:text-gray-800 transition-colors tracking-tight",style:{fontFamily:'Impact, "Arial Black", sans-serif',textShadow:"1px 1px 0px rgba(0,0,0,0.15)"},children:a.value})]}),a.tooltip&&i.jsxs(nq,{children:[i.jsx(rq,{asChild:!0,children:i.jsx("button",{className:"absolute top-0 right-0 w-4 h-4 bg-blue-500 text-white rounded-full text-xs opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",onClick:l=>l.stopPropagation(),children:i.jsx(kv,{className:"w-2.5 h-2.5"})})}),i.jsxs(iR,{className:"max-w-xs p-3 bg-yellow-300 text-black border-2 border-black rounded-lg shadow-lg relative",children:[i.jsx("div",{className:"absolute -top-2 left-4 w-0 h-0 border-l-4 border-r-4 border-b-4 border-transparent border-b-yellow-300"}),i.jsx("div",{className:"absolute -top-3 left-4 w-0 h-0 border-l-4 border-r-4 border-b-4 border-transparent border-b-black"}),i.jsx("p",{className:"text-sm font-medium leading-relaxed",children:a.tooltip})]})]})]},o))})})}function aR(t,e=!1){return Ce({queryKey:["/api/card-pricing",t],queryFn:async()=>{if(!t||t<=0)return null;const s=await _e("GET",`/api/card-pricing/${t}`);if(!s.ok){if(s.status===404)return null;throw new Error("Failed to fetch pricing data")}return s.json()},enabled:e&&t>0,staleTime:1/0,gcTime:1/0,retry:!1,refetchOnWindowFocus:!1,refetchOnMount:!1})}function aq(){return async t=>{const e=await _e("POST",`/api/card-pricing/${t}/refresh`);if(!e.ok)throw new Error("Failed to refresh pricing data");return e.json()}}const oq="/assets/no%20card%20image%204_1764019444486-DRU-Wd85.png";function Br({card:t,isOpen:e,onClose:s,isInCollection:n=!1,isInWishlist:r=!1,onAddToCollection:a,onAddToWishlist:o,onRemoveFromCollection:l,onRemoveFromWishlist:c,onCardUpdate:d}){var De;const[u,h]=x.useState(!1),[f,p]=x.useState(""),[b,m]=x.useState(!1),[g,v]=x.useState("Near Mint"),[y,w]=x.useState(""),[j,N]=x.useState(!1),[C,_]=x.useState({}),[k,M]=x.useState(null),[L,O]=x.useState(null),[I,B]=x.useState(null),[H,J]=x.useState(null),[z,q]=x.useState(!1),{isAdminMode:F}=Ys(),W=Gt(),{toast:Q}=dt(),{data:ae,isLoading:he}=aR((t==null?void 0:t.id)||0,!0),Be=aq(),Ae=Me({mutationFn:async ee=>{if(!t)throw new Error("No card selected");return _e("PATCH",`/api/cards/${t.id}`,ee)},onSuccess:()=>{W.invalidateQueries({queryKey:["/api/cards"]}),W.invalidateQueries({queryKey:["/api/cards/search"]}),Q({title:"Card updated successfully"}),N(!1)},onError:()=>{Q({title:"Failed to update card",variant:"destructive"})}}),Ye=Me({mutationFn:async()=>{if(!t)throw new Error("No card selected");return _e("DELETE",`/api/cards/${t.id}`)},onSuccess:()=>{W.invalidateQueries({queryKey:["/api/cards"]}),W.invalidateQueries({queryKey:["/api/cards/search"]}),Q({title:"Card deleted successfully"}),s()},onError:()=>{Q({title:"Failed to delete card",variant:"destructive"})}}),Ue=Me({mutationFn:async ee=>_e("POST",`/api/admin/find-card-image/${ee}`).then(ze=>ze.json()),onSuccess:async ee=>{if(Q({title:ee.success?"Image Updated":"No Image Found",description:ee.message,variant:ee.success?"default":"destructive"}),ee.success&&(t!=null&&t.id)){W.invalidateQueries({queryKey:["/api/cards"]}),W.invalidateQueries({queryKey:["/api/cards/search"]});try{const ze=await _e("GET",`/api/cards/${t.id}`).then(Ke=>Ke.json());d&&d(ze)}catch(ze){console.error("Failed to fetch updated card data:",ze)}}},onError:()=>{Q({title:"Error",description:"Failed to update card image",variant:"destructive"})}}),ce=Me({mutationFn:async({cardId:ee,formData:ze})=>{const Ke=di.currentUser;if(!Ke)throw new Error("You must be logged in to upload images");const jt=await Ke.getIdToken(),ut=await fetch(`/api/cards/${ee}/upload`,{method:"POST",headers:{Authorization:`Bearer ${jt}`},body:ze});if(!ut.ok){const ft=await ut.json();throw new Error(ft.error||"Upload failed")}return ut.json()},onSuccess:()=>{Q({title:"Image uploaded successfully!",description:"Your submission is pending admin approval. Thank you for contributing!"}),M(null),O(null),B(null),J(null),q(!1),W.invalidateQueries({queryKey:["/api/cards"]})},onError:ee=>{Q({title:"Upload failed",description:ee.message,variant:"destructive"})}}),Ee=()=>{Ae.mutate(C)},P=()=>{confirm("Are you sure you want to delete this card? This action cannot be undone.")&&Ye.mutate()},Z=(ee,ze)=>{if(!ee){ze==="front"?(M(null),B(null)):(O(null),J(null));return}if(ee.size>5*1024*1024){Q({title:"File too large",description:"Images must be under 5MB",variant:"destructive"});return}if(!ee.type.startsWith("image/")){Q({title:"Invalid file type",description:"Please upload an image file",variant:"destructive"});return}if(ze==="front"){M(ee);const Ke=new FileReader;Ke.onloadend=()=>{B(Ke.result)},Ke.readAsDataURL(ee)}else{O(ee);const Ke=new FileReader;Ke.onloadend=()=>{J(Ke.result)},Ke.readAsDataURL(ee)}},oe=()=>{if(!k&&!L){Q({title:"No images selected",description:"Please select at least one image to upload",variant:"destructive"});return}const ee=new FormData;k&&ee.append("frontImage",k),L&&ee.append("backImage",L),ce.mutate({cardId:t.id,formData:ee})};if(!t)return null;const Y=()=>{N(!0),_({name:t.name,cardNumber:t.cardNumber,rarity:t.rarity,estimatedValue:t.estimatedValue,frontImageUrl:t.frontImageUrl,backImageUrl:t.backImageUrl,isInsert:t.isInsert,description:t.description})};return i.jsx(ln,{open:e,onOpenChange:s,children:i.jsxs(Gs,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsx(Qs,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Zs,{className:"text-xl font-bebas tracking-wide",children:j?"Edit Card":`${t.name} #${t.cardNumber}`}),F&&i.jsx("div",{className:"flex gap-2",children:j?i.jsxs(i.Fragment,{children:[i.jsxs($,{onClick:Ee,disabled:Ae.isPending,size:"sm",className:"bg-green-600 hover:bg-green-700",children:[i.jsx(Pv,{className:"w-4 h-4 mr-1"}),"Save"]}),i.jsxs($,{onClick:()=>N(!1),variant:"outline",size:"sm",children:[i.jsx(Er,{className:"w-4 h-4 mr-1"}),"Cancel"]})]}):i.jsxs(i.Fragment,{children:[i.jsxs($,{onClick:()=>Ue.mutate(t.id),disabled:Ue.isPending,variant:"outline",size:"sm",className:"bg-blue-50 border-blue-200 text-blue-700 hover:bg-blue-100",children:[i.jsx(wl,{className:"w-4 h-4 mr-1"}),Ue.isPending?"Updating...":"Update Image"]}),i.jsxs($,{onClick:Y,variant:"outline",size:"sm",children:[i.jsx(Uo,{className:"w-4 h-4 mr-1"}),"Edit"]}),i.jsxs($,{onClick:P,disabled:Ye.isPending,variant:"destructive",size:"sm",children:[i.jsx(Co,{className:"w-4 h-4 mr-1"}),"Delete"]})]})})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"aspect-[2.5/3.5] w-full max-w-sm mx-auto relative overflow-hidden rounded-lg shadow-lg",children:[i.jsx("img",{src:sc(u?t.backImageUrl||"":t.frontImageUrl||""),alt:u?`${t.name} back`:t.name,className:"w-full h-full object-contain",onError:ee=>{ee.currentTarget.src=oq}}),i.jsxs("div",{className:"absolute top-2 right-2 flex flex-col gap-2",children:[n&&i.jsx("div",{className:"bg-green-500 rounded-full p-1 shadow-lg",children:i.jsx(an,{className:"w-4 h-4 text-white"})}),r&&i.jsx("div",{className:"bg-pink-500 rounded-full p-1 shadow-lg",children:i.jsx(er,{className:"w-4 h-4 text-white fill-white"})}),t.isInsert&&i.jsx("div",{className:"bg-purple-600 text-white rounded-full w-6 h-6 flex items-center justify-center shadow-lg",children:i.jsx("span",{className:"text-sm",children:""})})]})]}),t.backImageUrl&&i.jsxs($,{variant:"outline",size:"sm",onClick:()=>h(!u),className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 bg-orange-500 text-white border-orange-500 hover:bg-orange-500 hover:text-white",children:[i.jsx(w8,{className:"w-4 h-4 mr-2"}),"FLIP"]})]})}),i.jsxs("div",{className:"space-y-6",children:[j?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"cardName",children:"Card Name"}),i.jsx(ne,{id:"cardName",value:C.name||"",onChange:ee=>_({...C,name:ee.target.value}),className:"bg-white text-black"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"cardNumber",children:"Card Number"}),i.jsx(ne,{id:"cardNumber",value:C.cardNumber||"",onChange:ee=>_({...C,cardNumber:ee.target.value}),className:"bg-white text-black"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"rarity",children:"Rarity"}),i.jsx(ne,{id:"rarity",value:C.rarity||"",onChange:ee=>_({...C,rarity:ee.target.value}),className:"bg-white text-black"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"estimatedValue",children:"Estimated Value"}),i.jsx(ne,{id:"estimatedValue",type:"number",step:"0.01",value:C.estimatedValue||"",onChange:ee=>_({...C,estimatedValue:ee.target.value}),className:"bg-white text-black"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"frontImage",children:"Front Image URL"}),i.jsx(ne,{id:"frontImage",value:C.frontImageUrl||"",onChange:ee=>_({...C,frontImageUrl:ee.target.value}),className:"bg-white text-black"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"backImage",children:"Back Image URL"}),i.jsx(ne,{id:"backImage",value:C.backImageUrl||"",onChange:ee=>_({...C,backImageUrl:ee.target.value}),className:"bg-white text-black"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"description",children:"Description"}),i.jsx(ws,{id:"description",value:C.description||"",onChange:ee=>_({...C,description:ee.target.value}),className:"bg-white text-black",rows:3})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(In,{id:"isInsert",checked:C.isInsert||!1,onCheckedChange:ee=>_({...C,isInsert:ee})}),i.jsx(G,{htmlFor:"isInsert",children:"Insert Card"})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-card-foreground",children:t.name}),i.jsx("p",{className:"text-muted-foreground",children:((De=t.set)==null?void 0:De.name)||"Unknown Set"}),i.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[i.jsxs(ve,{variant:"outline",children:["#",t.cardNumber]}),t.variation&&i.jsx(ve,{variant:"outline",children:t.variation}),t.isInsert&&i.jsx(ve,{className:"bg-yellow-500",children:"Insert Card"})]})]}),t.description&&i.jsxs("div",{children:[i.jsx(G,{className:"text-sm font-medium",children:"Description"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t.description})]}),i.jsxs("div",{className:"rounded-lg p-4 bg-gray-900 border-2 border-gray-700 shadow-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs(G,{className:"text-sm font-semibold text-white flex items-center gap-2",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"text-red-500 font-bold text-lg",children:"e"}),i.jsx("span",{className:"text-blue-500 font-bold text-lg",children:"b"}),i.jsx("span",{className:"text-yellow-400 font-bold text-lg",children:"a"}),i.jsx("span",{className:"text-green-400 font-bold text-lg",children:"y"})]}),"Market Price"]}),i.jsxs($,{variant:"outline",size:"sm",onClick:async()=>{if(t){Q({title:"Fetching eBay pricing...",description:"This may take a moment"});try{console.log(`Refreshing pricing for card ${t.id}: ${t.name}`);const ee=await Be(t.id);console.log("Refresh result:",ee),await W.invalidateQueries({queryKey:["/api/card-pricing",t.id]}),await W.refetchQueries({queryKey:["/api/card-pricing",t.id]}),ee&&ee.avgPrice===-1?Q({title:"eBay API rate limit reached",description:"Try again later when limits reset.",variant:"destructive"}):ee&&ee.avgPrice===0&&ee.salesCount===0?Q({title:"No eBay sales found",description:"This card may not have recent sales data."}):Q({title:"Pricing updated from eBay",description:ee?`$${ee.avgPrice.toFixed(2)} (${ee.salesCount} sales)`:"No data found"})}catch(ee){console.error("Refresh error:",ee),Q({title:"Failed to update pricing",description:ee.message||"Unknown error",variant:"destructive"})}}},disabled:he,className:"text-xs bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 text-white border-none hover:from-blue-600 hover:via-purple-600 hover:to-pink-600",children:[i.jsx(ha,{className:`w-3 h-3 mr-1 ${he?"animate-spin":""}`}),"Refresh"]})]}),he?i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ha,{className:"w-4 h-4 animate-spin text-blue-400"}),i.jsx("span",{className:"text-sm text-gray-300",children:"Fetching latest prices..."})]}):ae?ae.avgPrice===-1?i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"flex items-center gap-2 text-red-400",children:i.jsx("span",{className:"text-sm font-medium",children:" Pricing unavailable (rate limit reached)"})}),i.jsx("div",{className:"text-xs text-gray-400",children:"eBay API limits exceeded. Try again later."}),i.jsxs("div",{className:"text-xs text-gray-500",children:["Last attempted: ",new Date(ae.lastFetched).toLocaleDateString()]})]}):i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"text-2xl font-bold text-green-400",children:["$",ae.avgPrice.toFixed(2)]}),i.jsxs("span",{className:"text-xs text-gray-400 bg-gray-800 px-2 py-1 rounded-full border border-gray-700",children:["Based on ",ae.salesCount," recent sales"]})]}),i.jsxs("div",{className:"text-xs text-gray-400",children:["Last updated: ",new Date(ae.lastFetched).toLocaleDateString()]}),i.jsx("div",{className:"text-xs text-blue-400 font-medium",children:"Real-time data from eBay completed listings"})]}):i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm text-gray-300",children:"No pricing data available yet"}),i.jsx("p",{className:"text-xs text-gray-400",children:"Click refresh to fetch from eBay"})]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[n?i.jsxs($,{variant:"outline",onClick:()=>{console.log("Remove from collection clicked, callback exists:",!!l),l==null||l()},"data-testid":"button-remove-from-collection",className:"flex items-center gap-2 border-green-200 text-green-700",children:[i.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full flex items-center justify-center",children:i.jsx(an,{className:"w-2.5 h-2.5 text-white"})}),"In Collection"]}):i.jsxs($,{onClick:()=>{console.log("Add to collection clicked, callback exists:",!!a),a==null||a()},"data-testid":"button-add-to-collection",className:"bg-green-600 hover:bg-green-700 flex items-center gap-2",children:[i.jsx(an,{className:"w-4 h-4"}),"Add to Collection"]}),r?i.jsxs($,{variant:"outline",onClick:c,className:"flex items-center gap-2",children:[i.jsx(er,{className:"w-4 h-4 fill-pink-500 text-pink-500"}),"In Wishlist"]}):i.jsxs($,{onClick:o,className:"bg-pink-500 hover:bg-pink-600 flex items-center gap-2",children:[i.jsx(er,{className:"w-4 h-4"}),"Add to Wishlist"]})]}),!F&&!j&&i.jsxs("div",{className:"border-t pt-4 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"font-medium text-card-foreground flex items-center gap-2",children:[i.jsx(h8,{className:"w-4 h-4"}),"Contribute Card Images"]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Help grow the database by uploading high-quality card images"})]}),i.jsx($,{size:"sm",onClick:()=>q(!z),"data-testid":"button-toggle-upload",className:"bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 text-white border-none hover:from-blue-600 hover:via-purple-600 hover:to-pink-600",children:z?"Cancel":"Upload Images"})]}),z&&i.jsxs("div",{className:"space-y-4 border rounded-lg p-4 bg-gray-50 dark:bg-gray-900",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx("input",{id:"frontImage",type:"file",accept:"image/*",capture:"environment",onChange:ee=>{var ze;return Z(((ze=ee.target.files)==null?void 0:ze[0])||null,"front")},className:"hidden","data-testid":"input-front-image"}),i.jsxs("label",{htmlFor:"frontImage",className:"flex items-center justify-center gap-2 w-full px-4 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-md cursor-pointer font-medium transition-colors",children:[i.jsx(Nl,{className:"w-4 h-4"}),"Front Upload"]})]}),I&&i.jsxs("div",{className:"relative aspect-[2.5/3.5] w-full rounded border overflow-hidden",children:[i.jsx("img",{src:I,alt:"Front preview",className:"w-full h-full object-contain"}),i.jsx($,{variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>Z(null,"front"),"data-testid":"button-remove-front",children:i.jsx(Er,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx("input",{id:"backImage",type:"file",accept:"image/*",capture:"environment",onChange:ee=>{var ze;return Z(((ze=ee.target.files)==null?void 0:ze[0])||null,"back")},className:"hidden","data-testid":"input-back-image"}),i.jsxs("label",{htmlFor:"backImage",className:"flex items-center justify-center gap-2 w-full px-4 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-md cursor-pointer font-medium transition-colors",children:[i.jsx(Nl,{className:"w-4 h-4"}),"Back Upload"]})]}),H&&i.jsxs("div",{className:"relative aspect-[2.5/3.5] w-full rounded border overflow-hidden",children:[i.jsx("img",{src:H,alt:"Back preview",className:"w-full h-full object-contain"}),i.jsx($,{variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>Z(null,"back"),"data-testid":"button-remove-back",children:i.jsx(Er,{className:"w-4 h-4"})})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[i.jsx("p",{children:" Images will be reviewed by admins before being added"}),i.jsx("p",{children:" Max file size: 5MB per image"}),i.jsx("p",{children:" Accepted formats: JPEG, PNG, WebP"}),i.jsx("p",{children:" Earn the Contributor badge after 3 approved submissions!"})]}),i.jsx($,{onClick:oe,disabled:ce.isPending||!k&&!L,className:"w-full bg-marvel-red hover:bg-red-700","data-testid":"button-submit-upload",children:ce.isPending?i.jsxs(i.Fragment,{children:[i.jsx(ha,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Nl,{className:"w-4 h-4 mr-2"}),"Submit for Review"]})})]})]})]}),n&&i.jsxs("div",{className:"border-t pt-4 space-y-4",children:[i.jsx("h4",{className:"font-medium text-card-foreground",children:"Marketplace Settings"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"condition",children:"Condition"}),i.jsxs("select",{id:"condition",value:g,onChange:ee=>v(ee.target.value),className:"w-full mt-1 px-3 py-2 border border-border rounded-md bg-background",children:[i.jsx("option",{value:"Mint",children:"Mint"}),i.jsx("option",{value:"Near Mint",children:"Near Mint"}),i.jsx("option",{value:"Excellent",children:"Excellent"}),i.jsx("option",{value:"Very Good",children:"Very Good"}),i.jsx("option",{value:"Good",children:"Good"}),i.jsx("option",{value:"Fair",children:"Fair"}),i.jsx("option",{value:"Poor",children:"Poor"})]})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"salePrice",children:"Sale Price"}),i.jsx(ne,{id:"salePrice",type:"number",step:"0.01",placeholder:"0.00",value:f,onChange:ee=>p(ee.target.value),className:"mt-1"})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(In,{id:"forSale",checked:b,onCheckedChange:m}),i.jsx(G,{htmlFor:"forSale",children:"List for sale"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"notes",children:"Notes"}),i.jsx(ws,{id:"notes",placeholder:"Personal notes about this card...",value:y,onChange:ee=>w(ee.target.value),className:"mt-1"})]}),i.jsx($,{className:"w-full bg-marvel-red hover:bg-red-700",children:"Save Settings"})]})]})]})]})})}function oR({src:t,alt:e,className:s,onClick:n}){return!t||t.trim()===""||t==="No Image"||t==="null"||t==="undefined"?i.jsx("img",{src:"/uploads/marvel-card-vault-logo.png",alt:"Marvel Card Vault",className:ye("w-full h-full object-contain rounded-lg bg-gray-100 dark:bg-gray-800",s),onClick:n}):i.jsx("img",{src:t,alt:e,className:ye("w-full h-full object-cover rounded-lg",s),onClick:n,onError:a=>{const o=a.target;o.src="/uploads/marvel-card-vault-logo.png",o.className=ye("w-full h-full object-contain rounded-lg bg-gray-100 dark:bg-gray-800",s)}})}function lq(){const[t,e]=x.useState(null),[,s]=Ns(),{data:n,isLoading:r}=Ce({queryKey:["/api/recent-cards"]});return r?i.jsxs(re,{className:"lg:col-span-2",children:[i.jsx(be,{children:i.jsx(we,{className:"font-bebas text-lg tracking-wide",children:"RECENT ADDITIONS"})}),i.jsx(ie,{children:i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((a,o)=>i.jsxs("div",{className:"bg-card rounded-lg overflow-hidden animate-pulse border",children:[i.jsx("div",{className:"w-full h-40 bg-muted"}),i.jsxs("div",{className:"p-3 space-y-2",children:[i.jsx("div",{className:"h-4 bg-muted rounded"}),i.jsx("div",{className:"h-3 bg-muted rounded w-3/4"}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("div",{className:"h-6 bg-muted rounded w-16"}),i.jsx("div",{className:"h-4 bg-muted rounded w-12"})]})]})]},o))})})]}):!n||n.length===0?i.jsxs(re,{className:"lg:col-span-2",children:[i.jsx(be,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(we,{className:"font-bebas text-lg tracking-wide",children:"RECENT ADDITIONS"}),i.jsx($,{variant:"ghost",className:"text-marvel-red hover:text-red-700",children:"View All"})]})}),i.jsx(ie,{children:i.jsxs("div",{className:"text-center py-8",children:[i.jsx("p",{className:"text-muted-foreground",children:"No cards in your collection yet"}),i.jsx($,{className:"mt-4 bg-marvel-red hover:bg-red-700",onClick:()=>s("/browse"),children:"Add Your First Card"})]})})]}):i.jsxs(re,{className:"lg:col-span-2",children:[i.jsx(be,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(we,{className:"font-bebas text-lg tracking-wide",children:"RECENT ADDITIONS"}),i.jsx($,{variant:"ghost",className:"text-marvel-red hover:text-red-700",onClick:()=>s("/my-collection"),children:"View All"})]})}),i.jsx(ie,{children:i.jsx("div",{className:"grid gap-2",style:{gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",maxWidth:"100%"},children:n.filter(a=>a.cardName).map(a=>i.jsxs("div",{className:"bg-card rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-shadow cursor-pointer border relative",onClick:()=>e(a),children:[i.jsxs("div",{className:"aspect-[2.5/3.5] relative",children:[i.jsx(oR,{src:a.frontImageUrl?sc(a.frontImageUrl):"",alt:a.cardName,className:"w-full h-full"}),i.jsxs("div",{className:"absolute top-1 right-1 flex flex-col gap-1",children:[i.jsx("div",{className:"bg-green-500 text-white rounded-full p-1 shadow-lg",children:i.jsx(an,{className:"w-3 h-3"})}),a.isInsert&&i.jsx("div",{className:"bg-purple-600 text-white rounded-full w-5 h-5 flex items-center justify-center shadow-lg",children:i.jsx("span",{className:"text-xs",children:""})})]})]}),i.jsxs("div",{className:"p-1",children:[i.jsx("p",{className:"font-medium text-card-foreground text-xs truncate",children:a.cardName}),i.jsx("p",{className:"text-xs text-muted-foreground truncate",children:a.setName})]})]},a.id))})}),i.jsx(Br,{card:t?{id:t.cardId,name:t.cardName,cardNumber:t.cardNumber,frontImageUrl:t.frontImageUrl,setName:t.setName,isInsert:t.isInsert||!1,rarity:"",description:"",setId:0,backImageUrl:null,createdAt:new Date().toISOString()}:null,isOpen:!!t,onClose:()=>e(null),isInCollection:!0,isInWishlist:!1})]})}var cq=[" ","Enter","ArrowUp","ArrowDown"],dq=[" ","Enter"],Xu="Select",[Pp,Tp,uq]=wv(Xu),[kc,Wte]=hs(Xu,[uq,Cc]),Ap=Cc(),[hq,Aa]=kc(Xu),[fq,mq]=kc(Xu),lR=t=>{const{__scopeSelect:e,children:s,open:n,defaultOpen:r,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:f,required:p,form:b}=t,m=Ap(e),[g,v]=x.useState(null),[y,w]=x.useState(null),[j,N]=x.useState(!1),C=Zu(d),[_=!1,k]=rr({prop:n,defaultProp:r,onChange:a}),[M,L]=rr({prop:o,defaultProp:l,onChange:c}),O=x.useRef(null),I=g?b||!!g.closest("form"):!0,[B,H]=x.useState(new Set),J=Array.from(B).map(z=>z.props.value).join(";");return i.jsx(dA,{...m,children:i.jsxs(hq,{required:p,scope:e,trigger:g,onTriggerChange:v,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:Pr(),value:M,onValueChange:L,open:_,onOpenChange:k,dir:C,triggerPointerDownPosRef:O,disabled:f,children:[i.jsx(Pp.Provider,{scope:e,children:i.jsx(fq,{scope:t.__scopeSelect,onNativeOptionAdd:x.useCallback(z=>{H(q=>new Set(q).add(z))},[]),onNativeOptionRemove:x.useCallback(z=>{H(q=>{const F=new Set(q);return F.delete(z),F})},[]),children:s})}),I?i.jsxs(MR,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:h,value:M,onChange:z=>L(z.target.value),disabled:f,form:b,children:[M===void 0?i.jsx("option",{value:""}):null,Array.from(B)]},J):null]})})};lR.displayName=Xu;var cR="SelectTrigger",dR=x.forwardRef((t,e)=>{const{__scopeSelect:s,disabled:n=!1,...r}=t,a=Ap(s),o=Aa(cR,s),l=o.disabled||n,c=Ge(e,o.onTriggerChange),d=Tp(s),u=x.useRef("touch"),[h,f,p]=RR(m=>{const g=d().filter(w=>!w.disabled),v=g.find(w=>w.value===o.value),y=DR(g,m,v);y!==void 0&&o.onValueChange(y.value)}),b=m=>{l||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return i.jsx(yp,{asChild:!0,...a,children:i.jsx(je.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":AR(o.value)?"":void 0,...r,ref:c,onClick:pe(r.onClick,m=>{m.currentTarget.focus(),u.current!=="mouse"&&b(m)}),onPointerDown:pe(r.onPointerDown,m=>{u.current=m.pointerType;const g=m.target;g.hasPointerCapture(m.pointerId)&&g.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(b(m),m.preventDefault())}),onKeyDown:pe(r.onKeyDown,m=>{const g=h.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&f(m.key),!(g&&m.key===" ")&&cq.includes(m.key)&&(b(),m.preventDefault())})})})});dR.displayName=cR;var uR="SelectValue",hR=x.forwardRef((t,e)=>{const{__scopeSelect:s,className:n,style:r,children:a,placeholder:o="",...l}=t,c=Aa(uR,s),{onValueNodeHasChildrenChange:d}=c,u=a!==void 0,h=Ge(e,c.onValueNodeChange);return Bt(()=>{d(u)},[d,u]),i.jsx(je.span,{...l,ref:h,style:{pointerEvents:"none"},children:AR(c.value)?i.jsx(i.Fragment,{children:o}):a})});hR.displayName=uR;var pq="SelectIcon",fR=x.forwardRef((t,e)=>{const{__scopeSelect:s,children:n,...r}=t;return i.jsx(je.span,{"aria-hidden":!0,...r,ref:e,children:n||""})});fR.displayName=pq;var gq="SelectPortal",mR=t=>i.jsx(Wu,{asChild:!0,...t});mR.displayName=gq;var Po="SelectContent",pR=x.forwardRef((t,e)=>{const s=Aa(Po,t.__scopeSelect),[n,r]=x.useState();if(Bt(()=>{r(new DocumentFragment)},[]),!s.open){const a=n;return a?Fo.createPortal(i.jsx(gR,{scope:t.__scopeSelect,children:i.jsx(Pp.Slot,{scope:t.__scopeSelect,children:i.jsx("div",{children:t.children})})}),a):null}return i.jsx(xR,{...t,ref:e})});pR.displayName=Po;var Ln=10,[gR,Ma]=kc(Po),xq="SelectContentImpl",yq=No("SelectContent.RemoveScroll"),xR=x.forwardRef((t,e)=>{const{__scopeSelect:s,position:n="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:b,hideWhenDetached:m,avoidCollisions:g,...v}=t,y=Aa(Po,s),[w,j]=x.useState(null),[N,C]=x.useState(null),_=Ge(e,ce=>j(ce)),[k,M]=x.useState(null),[L,O]=x.useState(null),I=Tp(s),[B,H]=x.useState(!1),J=x.useRef(!1);x.useEffect(()=>{if(w)return qv(w)},[w]),Wv();const z=x.useCallback(ce=>{const[Ee,...P]=I().map(Y=>Y.ref.current),[Z]=P.slice(-1),oe=document.activeElement;for(const Y of ce)if(Y===oe||(Y==null||Y.scrollIntoView({block:"nearest"}),Y===Ee&&N&&(N.scrollTop=0),Y===Z&&N&&(N.scrollTop=N.scrollHeight),Y==null||Y.focus(),document.activeElement!==oe))return},[I,N]),q=x.useCallback(()=>z([k,w]),[z,k,w]);x.useEffect(()=>{B&&q()},[B,q]);const{onOpenChange:F,triggerPointerDownPosRef:W}=y;x.useEffect(()=>{if(w){let ce={x:0,y:0};const Ee=Z=>{var oe,Y;ce={x:Math.abs(Math.round(Z.pageX)-(((oe=W.current)==null?void 0:oe.x)??0)),y:Math.abs(Math.round(Z.pageY)-(((Y=W.current)==null?void 0:Y.y)??0))}},P=Z=>{ce.x<=10&&ce.y<=10?Z.preventDefault():w.contains(Z.target)||F(!1),document.removeEventListener("pointermove",Ee),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",Ee),document.addEventListener("pointerup",P,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ee),document.removeEventListener("pointerup",P,{capture:!0})}}},[w,F,W]),x.useEffect(()=>{const ce=()=>F(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[F]);const[Q,ae]=RR(ce=>{const Ee=I().filter(oe=>!oe.disabled),P=Ee.find(oe=>oe.ref.current===document.activeElement),Z=DR(Ee,ce,P);Z&&setTimeout(()=>Z.ref.current.focus())}),he=x.useCallback((ce,Ee,P)=>{const Z=!J.current&&!P;(y.value!==void 0&&y.value===Ee||Z)&&(M(ce),Z&&(J.current=!0))},[y.value]),Be=x.useCallback(()=>w==null?void 0:w.focus(),[w]),Ae=x.useCallback((ce,Ee,P)=>{const Z=!J.current&&!P;(y.value!==void 0&&y.value===Ee||Z)&&O(ce)},[y.value]),Ye=n==="popper"?Dy:yR,Ue=Ye===Dy?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:b,hideWhenDetached:m,avoidCollisions:g}:{};return i.jsx(gR,{scope:s,content:w,viewport:N,onViewportChange:C,itemRefCallback:he,selectedItem:k,onItemLeave:Be,itemTextRefCallback:Ae,focusSelectedItem:q,selectedItemText:L,position:n,isPositioned:B,searchRef:Q,children:i.jsx(Sp,{as:yq,allowPinchZoom:!0,children:i.jsx(jp,{asChild:!0,trapped:y.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:pe(r,ce=>{var Ee;(Ee=y.trigger)==null||Ee.focus({preventScroll:!0}),ce.preventDefault()}),children:i.jsx(wc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:i.jsx(Ye,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:ce=>ce.preventDefault(),...v,...Ue,onPlaced:()=>H(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:pe(v.onKeyDown,ce=>{const Ee=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!Ee&&ce.key.length===1&&ae(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let Z=I().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(Z=Z.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const oe=ce.target,Y=Z.indexOf(oe);Z=Z.slice(Y+1)}setTimeout(()=>z(Z)),ce.preventDefault()}})})})})})})});xR.displayName=xq;var vq="SelectItemAlignedPosition",yR=x.forwardRef((t,e)=>{const{__scopeSelect:s,onPlaced:n,...r}=t,a=Aa(Po,s),o=Ma(Po,s),[l,c]=x.useState(null),[d,u]=x.useState(null),h=Ge(e,_=>u(_)),f=Tp(s),p=x.useRef(!1),b=x.useRef(!0),{viewport:m,selectedItem:g,selectedItemText:v,focusSelectedItem:y}=o,w=x.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&m&&g&&v){const _=a.trigger.getBoundingClientRect(),k=d.getBoundingClientRect(),M=a.valueNode.getBoundingClientRect(),L=v.getBoundingClientRect();if(a.dir!=="rtl"){const oe=L.left-k.left,Y=M.left-oe,Ie=_.left-Y,De=_.width+Ie,ee=Math.max(De,k.width),ze=window.innerWidth-Ln,Ke=My(Y,[Ln,Math.max(Ln,ze-ee)]);l.style.minWidth=De+"px",l.style.left=Ke+"px"}else{const oe=k.right-L.right,Y=window.innerWidth-M.right-oe,Ie=window.innerWidth-_.right-Y,De=_.width+Ie,ee=Math.max(De,k.width),ze=window.innerWidth-Ln,Ke=My(Y,[Ln,Math.max(Ln,ze-ee)]);l.style.minWidth=De+"px",l.style.right=Ke+"px"}const O=f(),I=window.innerHeight-Ln*2,B=m.scrollHeight,H=window.getComputedStyle(d),J=parseInt(H.borderTopWidth,10),z=parseInt(H.paddingTop,10),q=parseInt(H.borderBottomWidth,10),F=parseInt(H.paddingBottom,10),W=J+z+B+F+q,Q=Math.min(g.offsetHeight*5,W),ae=window.getComputedStyle(m),he=parseInt(ae.paddingTop,10),Be=parseInt(ae.paddingBottom,10),Ae=_.top+_.height/2-Ln,Ye=I-Ae,Ue=g.offsetHeight/2,ce=g.offsetTop+Ue,Ee=J+z+ce,P=W-Ee;if(Ee<=Ae){const oe=O.length>0&&g===O[O.length-1].ref.current;l.style.bottom="0px";const Y=d.clientHeight-m.offsetTop-m.offsetHeight,Ie=Math.max(Ye,Ue+(oe?Be:0)+Y+q),De=Ee+Ie;l.style.height=De+"px"}else{const oe=O.length>0&&g===O[0].ref.current;l.style.top="0px";const Ie=Math.max(Ae,J+m.offsetTop+(oe?he:0)+Ue)+P;l.style.height=Ie+"px",m.scrollTop=Ee-Ae+m.offsetTop}l.style.margin=`${Ln}px 0`,l.style.minHeight=Q+"px",l.style.maxHeight=I+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[f,a.trigger,a.valueNode,l,d,m,g,v,a.dir,n]);Bt(()=>w(),[w]);const[j,N]=x.useState();Bt(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const C=x.useCallback(_=>{_&&b.current===!0&&(w(),y==null||y(),b.current=!1)},[w,y]);return i.jsx(wq,{scope:s,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:C,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:i.jsx(je.div,{...r,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});yR.displayName=vq;var bq="SelectPopperPosition",Dy=x.forwardRef((t,e)=>{const{__scopeSelect:s,align:n="start",collisionPadding:r=Ln,...a}=t,o=Ap(s);return i.jsx(Vv,{...o,...a,ref:e,align:n,collisionPadding:r,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Dy.displayName=bq;var[wq,ob]=kc(Po,{}),Oy="SelectViewport",vR=x.forwardRef((t,e)=>{const{__scopeSelect:s,nonce:n,...r}=t,a=Ma(Oy,s),o=ob(Oy,s),l=Ge(e,a.onViewportChange),c=x.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(Pp.Slot,{scope:s,children:i.jsx(je.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:pe(r.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const p=Math.abs(c.current-u.scrollTop);if(p>0){const b=window.innerHeight-Ln*2,m=parseFloat(h.style.minHeight),g=parseFloat(h.style.height),v=Math.max(m,g);if(v<b){const y=v+p,w=Math.min(b,y),j=y-w;h.style.height=w+"px",h.style.bottom==="0px"&&(u.scrollTop=j>0?j:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});vR.displayName=Oy;var bR="SelectGroup",[jq,Nq]=kc(bR),Sq=x.forwardRef((t,e)=>{const{__scopeSelect:s,...n}=t,r=Pr();return i.jsx(jq,{scope:s,id:r,children:i.jsx(je.div,{role:"group","aria-labelledby":r,...n,ref:e})})});Sq.displayName=bR;var wR="SelectLabel",jR=x.forwardRef((t,e)=>{const{__scopeSelect:s,...n}=t,r=Nq(wR,s);return i.jsx(je.div,{id:r.id,...n,ref:e})});jR.displayName=wR;var xm="SelectItem",[_q,NR]=kc(xm),SR=x.forwardRef((t,e)=>{const{__scopeSelect:s,value:n,disabled:r=!1,textValue:a,...o}=t,l=Aa(xm,s),c=Ma(xm,s),d=l.value===n,[u,h]=x.useState(a??""),[f,p]=x.useState(!1),b=Ge(e,y=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,y,n,r)}),m=Pr(),g=x.useRef("touch"),v=()=>{r||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(_q,{scope:s,value:n,disabled:r,textId:m,isSelected:d,onItemTextChange:x.useCallback(y=>{h(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:i.jsx(Pp.ItemSlot,{scope:s,value:n,disabled:r,textValue:u,children:i.jsx(je.div,{role:"option","aria-labelledby":m,"data-highlighted":f?"":void 0,"aria-selected":d&&f,"data-state":d?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...o,ref:b,onFocus:pe(o.onFocus,()=>p(!0)),onBlur:pe(o.onBlur,()=>p(!1)),onClick:pe(o.onClick,()=>{g.current!=="mouse"&&v()}),onPointerUp:pe(o.onPointerUp,()=>{g.current==="mouse"&&v()}),onPointerDown:pe(o.onPointerDown,y=>{g.current=y.pointerType}),onPointerMove:pe(o.onPointerMove,y=>{var w;g.current=y.pointerType,r?(w=c.onItemLeave)==null||w.call(c):g.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:pe(o.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:pe(o.onKeyDown,y=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&y.key===" "||(dq.includes(y.key)&&v(),y.key===" "&&y.preventDefault())})})})})});SR.displayName=xm;var nd="SelectItemText",_R=x.forwardRef((t,e)=>{const{__scopeSelect:s,className:n,style:r,...a}=t,o=Aa(nd,s),l=Ma(nd,s),c=NR(nd,s),d=mq(nd,s),[u,h]=x.useState(null),f=Ge(e,v=>h(v),c.onItemTextChange,v=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,v,c.value,c.disabled)}),p=u==null?void 0:u.textContent,b=x.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:g}=d;return Bt(()=>(m(b),()=>g(b)),[m,g,b]),i.jsxs(i.Fragment,{children:[i.jsx(je.span,{id:c.textId,...a,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Fo.createPortal(a.children,o.valueNode):null]})});_R.displayName=nd;var CR="SelectItemIndicator",kR=x.forwardRef((t,e)=>{const{__scopeSelect:s,...n}=t;return NR(CR,s).isSelected?i.jsx(je.span,{"aria-hidden":!0,...n,ref:e}):null});kR.displayName=CR;var Ly="SelectScrollUpButton",IR=x.forwardRef((t,e)=>{const s=Ma(Ly,t.__scopeSelect),n=ob(Ly,t.__scopeSelect),[r,a]=x.useState(!1),o=Ge(e,n.onScrollButtonChange);return Bt(()=>{if(s.viewport&&s.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),r?i.jsx(PR,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});IR.displayName=Ly;var Fy="SelectScrollDownButton",ER=x.forwardRef((t,e)=>{const s=Ma(Fy,t.__scopeSelect),n=ob(Fy,t.__scopeSelect),[r,a]=x.useState(!1),o=Ge(e,n.onScrollButtonChange);return Bt(()=>{if(s.viewport&&s.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;a(u)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),r?i.jsx(PR,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});ER.displayName=Fy;var PR=x.forwardRef((t,e)=>{const{__scopeSelect:s,onAutoScroll:n,...r}=t,a=Ma("SelectScrollButton",s),o=x.useRef(null),l=Tp(s),c=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),Bt(()=>{var u;const d=l().find(h=>h.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),i.jsx(je.div,{"aria-hidden":!0,...r,ref:e,style:{flexShrink:0,...r.style},onPointerDown:pe(r.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:pe(r.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:pe(r.onPointerLeave,()=>{c()})})}),Cq="SelectSeparator",TR=x.forwardRef((t,e)=>{const{__scopeSelect:s,...n}=t;return i.jsx(je.div,{"aria-hidden":!0,...n,ref:e})});TR.displayName=Cq;var Uy="SelectArrow",kq=x.forwardRef((t,e)=>{const{__scopeSelect:s,...n}=t,r=Ap(s),a=Aa(Uy,s),o=Ma(Uy,s);return a.open&&o.position==="popper"?i.jsx($v,{...r,...n,ref:e}):null});kq.displayName=Uy;function AR(t){return t===""||t===void 0}var MR=x.forwardRef((t,e)=>{const{value:s,...n}=t,r=x.useRef(null),a=Ge(e,r),o=wp(s);return x.useEffect(()=>{const l=r.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==s&&u){const h=new Event("change",{bubbles:!0});u.call(l,s),l.dispatchEvent(h)}},[o,s]),i.jsx(qu,{asChild:!0,children:i.jsx("select",{...n,ref:a,defaultValue:s})})});MR.displayName="BubbleSelect";function RR(t){const e=At(t),s=x.useRef(""),n=x.useRef(0),r=x.useCallback(o=>{const l=s.current+o;e(l),function c(d){s.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),a=x.useCallback(()=>{s.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[s,r,a]}function DR(t,e,s){const r=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=s?t.indexOf(s):-1;let o=Iq(t,Math.max(a,0));r.length===1&&(o=o.filter(d=>d!==s));const c=o.find(d=>d.textValue.toLowerCase().startsWith(r.toLowerCase()));return c!==s?c:void 0}function Iq(t,e){return t.map((s,n)=>t[(e+n)%t.length])}var Eq=lR,OR=dR,Pq=hR,Tq=fR,Aq=mR,LR=pR,Mq=vR,FR=jR,UR=SR,Rq=_R,Dq=kR,zR=IR,VR=ER,$R=TR;const qt=Eq,Kt=Pq,zt=x.forwardRef(({className:t,children:e,...s},n)=>i.jsxs(OR,{ref:n,className:ye("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...s,children:[e,i.jsx(Tq,{asChild:!0,children:i.jsx(_v,{className:"h-4 w-4 opacity-50"})})]}));zt.displayName=OR.displayName;const BR=x.forwardRef(({className:t,...e},s)=>i.jsx(zR,{ref:s,className:ye("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(IT,{className:"h-4 w-4"})}));BR.displayName=zR.displayName;const HR=x.forwardRef(({className:t,...e},s)=>i.jsx(VR,{ref:s,className:ye("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(_v,{className:"h-4 w-4"})}));HR.displayName=VR.displayName;const Vt=x.forwardRef(({className:t,children:e,position:s="popper",...n},r)=>i.jsx(Aq,{children:i.jsxs(LR,{ref:r,className:ye("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:s,...n,children:[i.jsx(BR,{}),i.jsx(Mq,{className:ye("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),i.jsx(HR,{})]})}));Vt.displayName=LR.displayName;const Oq=x.forwardRef(({className:t,...e},s)=>i.jsx(FR,{ref:s,className:ye("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Oq.displayName=FR.displayName;const ke=x.forwardRef(({className:t,children:e,...s},n)=>i.jsxs(UR,{ref:n,className:ye("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...s,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(Dq,{children:i.jsx(an,{className:"h-4 w-4"})})}),i.jsx(Rq,{children:e})]}));ke.displayName=UR.displayName;const Lq=x.forwardRef(({className:t,...e},s)=>i.jsx($R,{ref:s,className:ye("-mx-1 my-1 h-px bg-muted",t),...e}));Lq.displayName=$R.displayName;function Fq(){const[,t]=Ns(),[e,s]=x.useState(""),[n,r]=x.useState("all"),[a,o]=x.useState(null),[l,c]=x.useState("");x.useEffect(()=>{const u=setTimeout(()=>{c(e)},300);return()=>clearTimeout(u)},[e]);const{data:d}=Ce({queryKey:["/api/card-sets"]});return Ce({queryKey:["/api/cards/search",{query:l,setId:n}],enabled:l.length>=2}),i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"hidden md:flex gap-2",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(ss,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx(ne,{placeholder:"Quick search cards...",value:e,onChange:u=>s(u.target.value),onKeyDown:u=>{u.key==="Enter"&&e.trim().length>=2&&t(`/card-search?search=${encodeURIComponent(e.trim())}`)},className:"pl-10 bg-white border-gray-200 text-gray-900 placeholder:text-gray-500 focus:ring-2 focus:ring-red-500 focus:border-red-500"})]}),i.jsxs(qt,{value:n,onValueChange:r,children:[i.jsx(zt,{className:"w-32 bg-white border-gray-200 text-gray-900",children:i.jsx(Kt,{placeholder:"Set"})}),i.jsxs(Vt,{children:[i.jsx(ke,{value:"all",children:"All Sets"}),d==null?void 0:d.map(u=>i.jsx(ke,{value:u.id.toString(),children:u.name},u.id))]})]})]}),i.jsxs("div",{className:"md:hidden space-y-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx(ss,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx(ne,{placeholder:"Search cards...",value:e,onChange:u=>s(u.target.value),onKeyDown:u=>{u.key==="Enter"&&e.trim().length>=2&&t(`/card-search?search=${encodeURIComponent(e.trim())}`)},className:"pl-12 pr-4 py-4 text-lg bg-white border-gray-200 text-gray-900 placeholder:text-gray-500 focus:ring-2 focus:ring-red-500 focus:border-red-500 rounded-xl"})]}),i.jsxs(qt,{value:n,onValueChange:r,children:[i.jsx(zt,{className:"w-full py-4 text-lg bg-white border-gray-200 text-gray-900 rounded-xl",children:i.jsx(Kt,{placeholder:"Choose Set"})}),i.jsxs(Vt,{children:[i.jsx(ke,{value:"all",children:"All Sets"}),d==null?void 0:d.map(u=>i.jsx(ke,{value:u.id.toString(),children:u.name},u.id))]})]})]}),i.jsx(Br,{card:a,isOpen:!!a,onClose:()=>o(null),isInCollection:!1,isInWishlist:!1})]})}function Uq({card:t,isInCollection:e,onClick:s}){var h;const[n,r]=x.useState(!1),a=t.avgPrice,o=a?parseFloat(a):0,l=t.estimatedValue?parseFloat(t.estimatedValue):0,c=o>0?o:l,d=o>0,u=!d&&l>0;return i.jsx("div",{className:"relative w-full aspect-[2.5/3.5] perspective-1000 cursor-pointer",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),onClick:s,children:i.jsxs("div",{className:`relative w-full h-full transition-transform duration-700 transform-style-preserve-3d ${n?"rotate-y-180":""}`,children:[i.jsxs("div",{className:"absolute inset-0 w-full h-full backface-hidden bg-gradient-to-br from-gray-900 to-black rounded-lg overflow-hidden shadow-lg",children:[t.frontImageUrl?i.jsx("img",{src:sc(t.frontImageUrl),alt:t.name,className:"w-full h-full object-contain",onError:f=>{f.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjNmNGY2Ii8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzlkYTNhZiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPkltYWdlIEVycm9yPC90ZXh0Pjwvc3ZnPg=="}}):i.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-800 to-gray-900 flex items-center justify-center",children:i.jsx("span",{className:"text-gray-400 text-sm",children:"No Image"})}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/90 to-transparent p-4",children:i.jsx("h3",{className:"text-white font-bold text-lg tracking-wide font-bebas",children:t.name})}),t.isInsert&&i.jsx("div",{className:"absolute top-2 right-2 bg-purple-600 text-white rounded-full w-6 h-6 flex items-center justify-center shadow-lg",children:i.jsx("span",{className:"text-sm",children:""})}),e&&i.jsx("div",{className:"absolute top-2 left-2 bg-green-500 text-white rounded-full p-1 shadow-lg flex items-center justify-center",children:i.jsx(an,{className:"w-3 h-3"})})]}),i.jsxs("div",{className:"absolute inset-0 w-full h-full backface-hidden rotate-y-180 bg-gradient-to-br from-gray-900 to-black rounded-lg p-2 md:p-4 flex flex-col justify-between text-white shadow-lg",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-sm md:text-xl mb-1 md:mb-2 font-bebas tracking-wide text-center leading-tight",children:t.name}),i.jsxs("div",{className:"space-y-1 md:space-y-3 text-xs md:text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-300",children:"Set:"}),i.jsx("span",{className:"ml-1 md:ml-2 text-xs",children:t.setName||((h=t.set)==null?void 0:h.name)})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-300",children:"Card #:"}),i.jsx("span",{className:"ml-1 md:ml-2",children:t.cardNumber})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("span",{className:"text-gray-300 block text-xs mb-1",children:"Market Value"}),i.jsx("div",{children:d?i.jsxs("div",{className:"flex items-center justify-center gap-1",children:[i.jsxs("span",{className:"font-bold text-green-400 text-lg md:text-2xl",children:["$",c.toFixed(2)]}),i.jsx("span",{className:"text-xs text-blue-400",children:"eBay"})]}):u?i.jsxs("div",{className:"flex items-center justify-center gap-1",children:[i.jsxs("span",{className:"font-bold text-green-400 text-lg md:text-2xl",children:["$",c.toFixed(2)]}),i.jsx("span",{className:"text-xs text-gray-400",children:"DB"})]}):i.jsx("span",{className:"font-bold text-lg md:text-2xl text-gray-500",children:"No data"})}),d&&i.jsx("span",{className:"text-xs text-blue-300 block mt-1",children:"Market price"})]})]})]}),i.jsx("div",{className:"text-center mt-2 md:mt-4",children:i.jsx("span",{className:"text-xs text-gray-400",children:"Tap for details"})})]})]})})}function zq(){const[t,e]=x.useState(null),[s,n]=x.useState(!1),{toast:r}=dt(),{data:a,isLoading:o}=Ce({queryKey:["/api/trending-cards"]}),{data:l}=Ce({queryKey:["/api/collection"]}),{data:c}=Ce({queryKey:["/api/wishlist"]}),d=b=>(l==null?void 0:l.some(m=>{var g;return((g=m.card)==null?void 0:g.id)===b}))||!1,u=b=>(c==null?void 0:c.some(m=>{var g;return((g=m.card)==null?void 0:g.id)===b}))||!1,h=b=>{e(b),n(!0)},f=Me({mutationFn:async b=>_e("POST","/api/collection",{userId:1,cardId:b,condition:"Near Mint",quantity:1,personalValue:"0",isForSale:!1,isFavorite:!1}),onSuccess:()=>{Rs.invalidateQueries({queryKey:["/api/collection"]}),Rs.invalidateQueries({queryKey:["/api/stats"]}),r({title:"Added to Collection",description:"Card successfully added to your collection"})}}),p=Me({mutationFn:async b=>_e("POST","/api/wishlist",{userId:1,cardId:b,priority:1,maxPrice:null}),onSuccess:()=>{Rs.invalidateQueries({queryKey:["/api/wishlist"]}),r({title:"Added to Wishlist",description:"Card successfully added to your wishlist"})}});return o?i.jsxs(re,{children:[i.jsx(be,{children:i.jsx(we,{className:"font-bebas text-xl tracking-wide",children:"TOP TRENDING CARDS"})}),i.jsx(ie,{children:i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[...Array(8)].map((b,m)=>i.jsx("div",{className:"aspect-[2.5/3.5] bg-gray-200 rounded-lg animate-pulse"},m))})})]}):!a||a.length===0?i.jsxs(re,{children:[i.jsx(be,{children:i.jsx(we,{className:"font-bebas text-xl tracking-wide",children:"TOP TRENDING CARDS"})}),i.jsx(ie,{children:i.jsx("div",{className:"text-center py-8",children:i.jsx("p",{className:"text-muted-foreground",children:"No trending cards available"})})})]}):i.jsxs(i.Fragment,{children:[i.jsxs(re,{children:[i.jsxs(be,{children:[i.jsx(we,{className:"font-bebas text-xl tracking-wide",children:"TRENDING CARDS"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"The most popular cards right now - Do you have these yet?"})]}),i.jsx(ie,{children:i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:a.slice(0,8).map(b=>i.jsx(Uq,{card:b,isInCollection:d(b.id),onClick:()=>h(b)},b.id))})})]}),i.jsx(Br,{card:t,isOpen:s,onClose:()=>n(!1),isInCollection:t?d(t.id):!1,isInWishlist:t?u(t.id):!1,onAddToCollection:()=>{t&&f.mutate(t.id)},onAddToWishlist:()=>{t&&p.mutate(t.id)}})]})}function Vq(){return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-700 text-white px-6 py-3",children:i.jsx("div",{className:"text-center",children:i.jsx("p",{className:"font-semibold text-sm md:text-base",children:" Thanks for being a beta user of Marvel Card Vault! We're still building, and more cards will be added to the database every day. Come back and stay tuned for updates!"})})}),i.jsx("div",{className:"bg-card shadow-sm border-b border-border px-6 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bebas text-card-foreground tracking-wide",children:"DASHBOARD"}),i.jsx("p",{className:"text-sm text-muted-foreground font-roboto",children:"Welcome back! Here's your collection overview."})]}),i.jsx("div",{className:"w-80",children:i.jsx(Fq,{})})]})}),i.jsxs("div",{className:"p-6",children:[i.jsx(iq,{}),i.jsx("div",{className:"mt-6",children:i.jsx(zq,{})}),i.jsx("div",{className:"mt-6",children:i.jsx(lq,{})})]})]})}function $q({cardId:t,className:e=""}){const{data:s,isLoading:n}=aR(t);if(n)return i.jsxs("div",{className:`flex items-center space-x-1 text-sm text-gray-500 ${e}`,children:[i.jsx(ao,{className:"w-3 h-3 animate-pulse"}),i.jsx("span",{className:"text-xs",children:"Loading..."})]});if(!s)return i.jsxs("div",{className:`flex items-center space-x-1 text-sm text-gray-400 ${e}`,children:[i.jsx(ao,{className:"w-3 h-3"}),i.jsx("span",{className:"text-xs",children:"Pricing pending"})]});const r=(o,l)=>o===-1?"Unavailable":o===0&&l===0?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(o),a=(o,l)=>o===-1?"text-red-500 font-medium":o>=50?"text-green-600 font-semibold":o>=20?"text-blue-600 font-medium":o>=5?"text-gray-700":"text-gray-500";return i.jsxs("div",{className:`flex items-center space-x-1 text-sm ${e}`,children:[i.jsx(ao,{className:"w-3 h-3 text-green-600"}),i.jsx("span",{className:a(s.avgPrice,s.salesCount),children:r(s.avgPrice,s.salesCount)}),s.salesCount>0&&s.salesCount!==-1&&i.jsxs("span",{className:"text-xs text-gray-500",children:["(",s.salesCount," sales)"]})]})}function WR({filters:t={},showAddToCollection:e=!0,showAddToWishlist:s=!0,viewMode:n="grid"}){const[r,a]=x.useState(null),[o,l]=x.useState(!1),c=Gt(),{toast:d}=dt(),u=t.setId?`/api/sets/${t.setId}/cards`:"/api/cards",h=new URLSearchParams;t.setId||(t.search&&h.set("search",t.search),t.rarity&&h.set("rarity",t.rarity),t.isInsert!==void 0&&h.set("isInsert",t.isInsert.toString()));const{data:f,isLoading:p}=Ce({queryKey:[t.setId?u:`${u}?${h.toString()}`]}),b=(f==null?void 0:f.items)||(f==null?void 0:f.cards)||f||[],{data:m}=Ce({queryKey:["/api/collection"]}),{data:g}=Ce({queryKey:["/api/wishlist"]}),v=Me({mutationFn:async z=>_e("POST","/api/collection",{cardId:z,condition:"Near Mint"}),onMutate:async z=>{await c.cancelQueries({queryKey:["/api/collection"]});const q=c.getQueryData(["/api/collection"]);return c.setQueryData(["/api/collection"],(F=[])=>[...F,{id:Date.now(),userId:0,cardId:z,condition:"Near Mint",acquiredDate:new Date,acquiredVia:"manual",personalValue:null,salePrice:null,isForSale:!1,serialNumber:null,quantity:1,isFavorite:!1,notes:null}]),{previousCollection:q}},onSuccess:()=>{c.invalidateQueries({queryKey:["/api/collection"]}),c.invalidateQueries({queryKey:["/api/missing-cards"]}),d({title:"Added to collection!"})},onError:(z,q,F)=>{F!=null&&F.previousCollection&&c.setQueryData(["/api/collection"],F.previousCollection),d({title:"Failed to add card",variant:"destructive"})}}),y=Me({mutationFn:async z=>_e("POST","/api/wishlist",{cardId:z,priority:3}),onSuccess:()=>{c.invalidateQueries({queryKey:["/api/wishlist"]}),d({title:"Card added to wishlist"})},onError:()=>{d({title:"Failed to add to wishlist",variant:"destructive"})}}),w=Me({mutationFn:async z=>{const q=m==null?void 0:m.find(F=>{var W;return(((W=F.card)==null?void 0:W.id)||F.cardId)===z});if(!q)throw new Error("Card not in collection");return _e("DELETE",`/api/collection/${q.id}`)},onMutate:async z=>{await c.cancelQueries({queryKey:["/api/collection"]});const q=c.getQueryData(["/api/collection"]);return c.setQueryData(["/api/collection"],(F=[])=>F.filter(W=>{var Q;return W.cardId!==z&&((Q=W.card)==null?void 0:Q.id)!==z})),{previousCollection:q}},onSuccess:()=>{c.invalidateQueries({queryKey:["/api/collection"]}),d({title:"Removed from collection!"})},onError:(z,q,F)=>{F!=null&&F.previousCollection&&c.setQueryData(["/api/collection"],F.previousCollection),d({title:"Failed to remove card",variant:"destructive"})}}),j=Me({mutationFn:async z=>{const q=g==null?void 0:g.find(F=>F.card.id===z);if(!q)throw new Error("Card not in wishlist");return _e("DELETE",`/api/wishlist/${q.id}`)},onSuccess:()=>{c.invalidateQueries({queryKey:["/api/wishlist"]}),d({title:"Card removed from wishlist"})},onError:()=>{d({title:"Failed to remove from wishlist",variant:"destructive"})}}),N=z=>{a(z),l(!0)},C=z=>(m==null?void 0:m.some(q=>{var F;return((F=q.card)==null?void 0:F.id)===z}))??!1,_=z=>(g==null?void 0:g.some(q=>{var F;return((F=q.card)==null?void 0:F.id)===z}))??!1,k=z=>(m==null?void 0:m.some(q=>{var F;return(((F=q.card)==null?void 0:F.id)||q.cardId)===z&&q.isFavorite}))??!1,M=()=>{l(!1),a(null)},L=z=>{v.mutate(z)},O=z=>{y.mutate(z)},I=z=>{w.mutate(z)},B=z=>{j.mutate(z)},J=b?(z=>[...z].sort((q,F)=>{const W=q.cardNumber,Q=F.cardNumber,ae=W.match(/^\d+$/),he=Q.match(/^\d+$/);return ae&&he?parseInt(W)-parseInt(Q):ae&&!he?-1:!ae&&he?1:W.localeCompare(Q)}))(b):[];return p?n==="grid"?i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3",children:[...Array(16)].map((z,q)=>i.jsx(re,{className:"animate-pulse",children:i.jsxs(ie,{className:"p-0",children:[i.jsx("div",{className:"w-full h-40 bg-gray-200 rounded-t-lg"}),i.jsxs("div",{className:"p-2 space-y-2",children:[i.jsx("div",{className:"h-3 bg-gray-200 rounded"}),i.jsx("div",{className:"h-2 bg-gray-200 rounded w-3/4"}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx("div",{className:"h-6 bg-gray-200 rounded flex-1"}),i.jsx("div",{className:"h-6 bg-gray-200 rounded flex-1"})]})]})]})},q))}):i.jsx("div",{className:"space-y-4",children:[...Array(8)].map((z,q)=>i.jsx(re,{className:"animate-pulse",children:i.jsx(ie,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-16 h-22 bg-gray-200 rounded flex-shrink-0"}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded"}),i.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("div",{className:"h-6 bg-gray-200 rounded w-20"}),i.jsx("div",{className:"h-6 bg-gray-200 rounded w-20"})]})]})]})})},q))}):!b||b.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{className:"text-gray-500 text-lg",children:"No cards found"}),i.jsx("p",{className:"text-gray-400 text-sm",children:"Try adjusting your search filters"})]}):i.jsxs(i.Fragment,{children:[n==="grid"?i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3",children:J.map(z=>{var q;return i.jsx(re,{className:"group comic-border card-hover cursor-pointer",onClick:()=>N(z),children:i.jsxs(ie,{className:"p-0",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-full aspect-[5/7] bg-gray-200 rounded-t-lg overflow-hidden",children:i.jsx(oR,{src:z.frontImageUrl||"",alt:z.name,className:"w-full h-full object-contain"})}),i.jsxs("div",{className:"absolute top-2 right-2 flex flex-col gap-1",children:[z.isInsert&&i.jsx("div",{className:"bg-purple-600 text-white rounded-full w-5 h-5 flex items-center justify-center",children:i.jsx("span",{className:"text-xs",children:""})}),C(z.id)&&i.jsx("div",{className:"bg-green-500 text-white rounded-full w-5 h-5 flex items-center justify-center",children:i.jsx(an,{className:"w-3 h-3"})}),_(z.id)&&i.jsx("div",{className:"bg-pink-500 text-white rounded-full w-5 h-5 flex items-center justify-center",children:i.jsx(er,{className:"w-3 h-3 fill-current"})}),k(z.id)&&i.jsx("div",{className:"bg-yellow-500 text-white rounded-full w-5 h-5 flex items-center justify-center",children:i.jsx(Tn,{className:"w-3 h-3 fill-current"})})]})]}),i.jsxs("div",{className:"p-2",children:[i.jsxs("h3",{className:"font-medium text-gray-900 text-xs truncate",children:[z.name," #",z.cardNumber]}),i.jsx("p",{className:"text-xs text-gray-500 mb-2",children:((q=z.set)==null?void 0:q.name)||"Unknown Set"}),i.jsx("div",{className:"flex items-center justify-between mb-2",children:z.isInsert&&i.jsx("span",{className:"text-xs text-white px-2 py-1 rounded bg-purple-600 font-bold shadow-lg",children:"INSERT"})}),i.jsxs("div",{className:"flex gap-1",children:[e&&i.jsx($,{size:"sm",disabled:v.isPending||w.isPending,onClick:F=>{F.stopPropagation(),L(z.id)},className:"flex-1 bg-marvel-red hover:bg-red-700 text-xs h-6 px-1 disabled:opacity-50 disabled:cursor-not-allowed",children:i.jsx(xa,{className:"w-3 h-3"})}),s&&i.jsx($,{variant:"outline",size:"sm",disabled:y.isPending||j.isPending,onClick:F=>{F.stopPropagation(),O(z.id)},className:"flex-1 border-gray-300 hover:bg-gray-100 text-xs h-6 px-1 text-pink-500 hover:text-pink-600 disabled:opacity-50 disabled:cursor-not-allowed",children:i.jsx(er,{className:"w-3 h-3 fill-current"})})]})]})]})},z.id)})}):i.jsx("div",{className:"space-y-3",children:J.map(z=>i.jsx(re,{className:"group hover:shadow-md transition-all duration-200 cursor-pointer",onClick:()=>N(z),children:i.jsx(ie,{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-4 md:gap-6",children:[i.jsx("div",{className:"w-14 h-20 bg-gray-100 rounded overflow-hidden flex-shrink-0",children:z.frontImageUrl?i.jsx("img",{src:z.frontImageUrl,alt:z.name,className:"w-full h-full object-cover",loading:"lazy"}):i.jsx("div",{className:"w-full h-full bg-gradient-to-br from-red-100 to-red-200 flex items-center justify-center",children:i.jsx("span",{className:"text-red-600 font-bold text-xs text-center px-1",children:z.name.substring(0,8)})})}),i.jsx("div",{className:"flex-1 min-w-0",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[i.jsx("h3",{className:"font-semibold text-gray-900 text-sm leading-tight mb-1",children:z.name}),i.jsxs("p",{className:"text-xs text-gray-500 mb-1",children:[z.set.year," ",z.set.name]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-xs font-medium text-gray-600",children:["#",z.cardNumber]}),z.isInsert&&i.jsx("div",{className:"bg-purple-600 text-white rounded-full w-4 h-4 flex items-center justify-center",children:i.jsx("span",{className:"text-[10px]",children:""})})]})]}),i.jsxs("div",{className:"flex flex-col items-end gap-1",children:[i.jsx($q,{cardId:z.id,className:"text-sm font-medium"}),i.jsxs("div",{className:"flex items-center gap-2",children:[C(z.id)&&i.jsx("div",{className:"p-1 rounded-full bg-green-500 text-white",children:i.jsx(an,{className:"w-3 h-3"})}),e&&!C(z.id)&&i.jsx("button",{onClick:q=>{q.stopPropagation(),L(z.id)},className:"p-1 rounded-full bg-gray-200 text-gray-600 hover:bg-green-100 hover:text-green-600",children:i.jsx(xa,{className:"w-3 h-3"})}),s&&!_(z.id)&&i.jsx("button",{onClick:q=>{q.stopPropagation(),O(z.id)},className:"p-1 rounded-full bg-gray-200 text-gray-600 hover:bg-pink-100 hover:text-pink-600",children:i.jsx(er,{className:"w-3 h-3"})})]})]})]})})]})})},z.id))}),i.jsx(Br,{card:r,isOpen:o,onClose:M,isInCollection:r?C(r.id):!1,isInWishlist:r?_(r.id):!1,onAddToCollection:r?()=>L(r.id):void 0,onAddToWishlist:r?()=>O(r.id):void 0,onRemoveFromCollection:r?()=>I(r.id):void 0,onRemoveFromWishlist:r?()=>B(r.id):void 0})]})}function $g({set:t,onClick:e,isFavorite:s,onFavorite:n,showAdminControls:r,onEdit:a}){const[o,l]=x.useState(null),[c,d]=x.useState(!1),u=m=>!!(!m||m.includes("1ZcGcRer-EEmpbUgDivHKVqU4Ck_G5TiF")||m.includes("superhero-fallback"));x.useEffect(()=>{u(t.imageUrl)&&t.id&&(console.log(`Fetching card image for set ${t.id}: ${t.name}`),d(!0),h())},[t.id,t.imageUrl]);const h=async()=>{try{const m=await fetch(`/api/cards?setId=${t.id}&limit=50`);if(!m.ok)throw new Error(`HTTP error! status: ${m.status}`);const v=(await m.json()).items||[];if(console.log(`Set ${t.id} has ${v.length} cards`),v.length>0){const y=v.sort((N,C)=>{const _=parseInt(N.cardNumber)||999999,k=parseInt(C.cardNumber)||999999;return _-k}),w="https://drive.google.com/uc?export=view&id=1ZcGcRer-EEmpbUgDivHKVqU4Ck_G5TiF",j=y.find(N=>N.frontImageUrl&&N.frontImageUrl!==w&&!N.frontImageUrl.includes("1ZcGcRer-EEmpbUgDivHKVqU4Ck_G5TiF"));j?(console.log(`Found card image for set ${t.id}: ${j.frontImageUrl}`),l(j.frontImageUrl)):console.log(`No valid card images found for set ${t.id}`)}}catch(m){console.error("Failed to fetch first card image:",m)}finally{d(!1)}},f=m=>{var g;if(m.includes("drive.google.com")){const v=(g=m.match(/\/d\/([a-zA-Z0-9-_]+)/))==null?void 0:g[1];if(v)return`https://drive.google.com/uc?export=view&id=${v}`}return m},p=m=>{m.stopPropagation(),n()},b=m=>{m.stopPropagation(),a&&a()};return i.jsxs("div",{className:"group relative bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-shadow cursor-pointer overflow-hidden",onClick:e,children:[i.jsxs("div",{className:"aspect-[2.5/3.5] bg-gray-100 overflow-hidden relative",children:[c?i.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-200 to-gray-300 flex items-center justify-center",children:i.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-white border-t-transparent rounded-full"})}):o?i.jsx("img",{src:f(o),alt:`${t.name} - First Card`,className:"w-full h-full object-cover"}):t.imageUrl&&!u(t.imageUrl)?i.jsx("img",{src:f(t.imageUrl),alt:t.name,className:"w-full h-full object-cover"}):i.jsx("img",{src:"/uploads/superhero-fallback.svg",alt:`${t.name} - Image Coming Soon`,className:"w-full h-full object-cover",onError:m=>{const g=m.target;g.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjMwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImJnR3JhZGllbnQiIHgxPSIwJSIgeTE9IjAlIiB4Mj0iMTAwJSIgeTI9IjEwMCUiPjxzdG9wIG9mZnNldD0iMCUiIHN0eWxlPSJzdG9wLWNvbG9yOiMxZjI5Mzc7c3RvcC1vcGFjaXR5OjEiIC8+PHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojMTExODI3O3N0b3Atb3BhY2l0eToxIiAvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjYmdHcmFkaWVudCkiIHN0cm9rZT0iIzM3NDE1MSIgc3Ryb2tlLXdpZHRoPSIyIiByeD0iOCIvPjxjaXJjbGUgY3g9IjEwMCIgY3k9IjEyMCIgcj0iMzUiIGZpbGw9IiNGRjAwMUMiIHN0cm9rZT0iI2RjMjYyNiIgc3Ryb2tlLXdpZHRoPSIyIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAwLCAxMjApIHNjYWxlKDAuOCkiPjxjaXJjbGUgY3g9IjAiIGN5PSItMTUiIHI9IjYiIGZpbGw9IiMwMDAwMDAiLz48cGF0aCBkPSJNLTggLTggTDggLTggTDEyIDggTDggMjAgTC04IDIwIEwtMTIgOCBaIiBmaWxsPSIjMDAwMDAwIi8+PHBhdGggZD0iTS0xMiAtNSBRLTIwIDAgLTE4IDE1IFEtMTUgMjUgLTggMjAgTC04IC04IFoiIGZpbGw9IiMwMDAwMDAiLz48cGF0aCBkPSJNMTIgLTUgUTIwIDAgMTggMTUgUTE1IDI1IDggMjAgTDggLTggWiIgZmlsbD0iIzAwMDAwMCIvPjxwYXRoIGQ9Ik0tOCAtNSBMLTE1IC0yIEwtMTIgOCBMLTggNSBaIiBmaWxsPSIjMDAwMDAwIi8+PHBhdGggZD0iTTggLTUgTDE1IC0yIEwxMiA4IEw4IDUgWiIgZmlsbD0iIzAwMDAwMCIvPjxwYXRoIGQ9Ik0tNCAyMCBMLTYgMzUgTC0yIDM1IEwwIDIwIFoiIGZpbGw9IiMwMDAwMDAiLz48cGF0aCBkPSJNNCAyMCBMNiAzNSBMMiAzNSBMMCAyMCBaIiBmaWxsPSIjMDAwMDAwIi8+PC9nPjx0ZXh0IHg9IjEwMCIgeT0iMjAwIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBmaWxsPSIjZmZmZmZmIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj5JTUFHRTwvdGV4dD48dGV4dCB4PSIxMDAiIHk9IjIyMCIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgZmlsbD0iI2ZmZmZmZiIgdGV4dC1hbmNob3I9Im1pZGRsZSI+Q09NSU5HIFRPT048L3RleHQ+PHJlY3QgeD0iMTAiIHk9IjEwIiB3aWR0aD0iMjAiIGhlaWdodD0iMyIgZmlsbD0iI0ZGMDAxQyIvPjxyZWN0IHg9IjEwIiB5PSIxMCIgd2lkdGg9IjMiIGhlaWdodD0iMjAiIGZpbGw9IiNGRjAwMUMiLz48cmVjdCB4PSIxNzAiIHk9IjEwIiB3aWR0aD0iMjAiIGhlaWdodD0iMyIgZmlsbD0iI0ZGMDAxQyIvPjxyZWN0IHg9IjE4NyIgeT0iMTAiIHdpZHRoPSIzIiBoZWlnaHQ9IjIwIiBmaWxsPSIjRkYwMDFDIi8+PHJlY3QgeD0iMTAiIHk9IjI4NyIgd2lkdGg9IjIwIiBoZWlnaHQ9IjMiIGZpbGw9IiNGRjAwMUMiLz48cmVjdCB4PSIxMCIgeT0iMjcwIiB3aWR0aD0iMyIgaGVpZ2h0PSIyMCIgZmlsbD0iI0ZGMDAxQyIvPjxyZWN0IHg9IjE3MCIgeT0iMjg3IiB3aWR0aD0iMjAiIGhlaWdodD0iMyIgZmlsbD0iI0ZGMDAxQyIvPjxyZWN0IHg9IjE4NyIgeT0iMjcwIiB3aWR0aD0iMyIgaGVpZ2h0PSIyMCIgZmlsbD0iI0ZGMDAxQyIvPjwvc3ZnPg=="}}),i.jsxs("div",{className:"absolute top-2 right-2 flex gap-1",children:[i.jsx($,{variant:"ghost",size:"sm",className:`h-8 w-8 p-0 rounded-full shadow-sm ${s?"bg-yellow-500 text-white hover:bg-yellow-600":"bg-white/90 text-gray-600 hover:bg-white hover:text-yellow-500"}`,onClick:p,children:i.jsx(Tn,{className:`h-4 w-4 ${s?"fill-current":""}`})}),r&&a&&i.jsx($,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 rounded-full bg-white/90 text-gray-600 hover:bg-white hover:text-blue-600 shadow-sm",onClick:b,children:i.jsx(Uo,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"p-3",children:[i.jsx("h3",{className:"font-medium text-gray-900 text-xs leading-tight mb-1 line-clamp-2 min-h-[2.5rem]",children:t.name}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[i.jsx("span",{children:t.year}),i.jsxs("span",{children:[t.totalCards," cards"]})]})]})]})}function Bq({mainSet:t,assignedSets:e}){const[s,n]=x.useState("/images/image-coming-soon.png"),[r,a]=x.useState(0);x.useEffect(()=>{const c=e.reduce((d,u)=>{const h=Number(u.totalCards)||0;return d+h},0);a(c)},[e]);const o=e.length>0?e[0].id:null,{data:l}=Ce({queryKey:["/api/cards",{setId:o}],enabled:!!(o&&!t.thumbnailImageUrl)});return x.useEffect(()=>{if(t.thumbnailImageUrl)n(t.thumbnailImageUrl);else if(l&&l.length>0){const c=l[0];n(c.frontImageUrl||"/images/image-coming-soon.png")}},[t.thumbnailImageUrl,l]),i.jsx(Ji,{href:`/browse/${t.slug}`,children:i.jsx(re,{className:"group cursor-pointer hover:shadow-lg hover:scale-[1.02] transition-all bg-white border border-gray-200",children:i.jsxs(ie,{className:"p-0",children:[i.jsxs("div",{className:"relative aspect-[3/4] sm:aspect-[2.5/3.5] overflow-hidden rounded-t-lg",children:[i.jsx("img",{src:s,alt:t.name,className:"w-full h-full object-cover transition-transform duration-200 group-hover:scale-105",loading:"lazy",onError:c=>{const d=c.target;d.src="/images/image-coming-soon.png"}}),i.jsx("div",{className:"absolute top-1.5 right-1.5",children:i.jsxs(ve,{variant:"secondary",className:"bg-black/70 text-white border-none text-xs px-1.5 py-0.5",children:[i.jsx(MT,{className:"w-2.5 h-2.5 mr-1"}),e.length]})})]}),i.jsxs("div",{className:"p-1.5 sm:p-2.5",children:[i.jsx("h3",{className:"font-medium text-xs sm:text-xs text-gray-900 mb-1 sm:mb-1.5 line-clamp-2 leading-tight group-hover:text-red-600 transition-colors min-h-[1.5rem] sm:min-h-[2rem]",children:t.name}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[i.jsxs("span",{className:"truncate text-xs sm:text-xs",children:[r.toLocaleString()," cards"]}),i.jsxs("span",{className:"text-gray-500 flex-shrink-0 ml-1",children:[e.length," sets"]})]})]})]})})})}function Bg(){var Nt;const[t,e]=x.useState(null),[s,n]=x.useState({}),[r,a]=x.useState([]),[o,l]=x.useState(""),[c,d]=x.useState(null),[u,h]=x.useState("grid"),[f,p]=x.useState({name:"",year:0,description:"",imageUrl:""}),[b,m]=x.useState(null),{toast:g}=dt(),{isAdminMode:v}=Ys(),{user:y}=cr(),w=Gt(),[j]=Ns(),N=nv(),C=N.mainSetSlug!==void 0;N.setSlug;const _=N.mainSetSlug;N.setSlug,x.useEffect(()=>{e(null),m(null),d(null),l(""),n(S=>({year:S.year}))},[j]);const{data:k}=Ce({queryKey:["/api/card-sets"]}),{data:M}=Ce({queryKey:["/api/main-sets"]}),{data:L}=Ce({queryKey:["/api/collection"],enabled:!!y}),{data:O}=Ce({queryKey:["/api/wishlist"],enabled:!!y}),{data:I}=Ce({queryKey:["/api/search",o],queryFn:()=>fetch(`/api/search?q=${encodeURIComponent(o)}`).then(S=>S.json()),enabled:o.length>=2}),B=Me({mutationFn:S=>_e("POST","/api/collection",{cardId:S,condition:"Near Mint"}),onMutate:async S=>{await w.cancelQueries({queryKey:["/api/collection"]});const T=w.getQueryData(["/api/collection"]);return w.setQueryData(["/api/collection"],(V=[])=>[...V,{id:Date.now(),userId:(y==null?void 0:y.id)||0,cardId:S,condition:"Near Mint",acquiredDate:new Date,acquiredVia:"manual",personalValue:null,salePrice:null,isForSale:!1,serialNumber:null,quantity:1,isFavorite:!1,notes:null}]),{previousCollection:T}},onSuccess:()=>{w.invalidateQueries({queryKey:["/api/collection"]}),g({title:"Added to collection!"})},onError:(S,T,V)=>{V!=null&&V.previousCollection&&w.setQueryData(["/api/collection"],V.previousCollection),g({title:"Failed to add card",variant:"destructive"})}}),H=Me({mutationFn:S=>_e("POST","/api/wishlist",{cardId:S,priority:1}),onSuccess:()=>{w.invalidateQueries({queryKey:["/api/wishlist"]}),g({title:"Card added to wishlist!"})},onError:()=>{g({title:"Failed to add card to wishlist",variant:"destructive"})}}),J=Me({mutationFn:S=>{const T=L==null?void 0:L.find(V=>V.cardId===S);if(T)return console.log("Removing card from collection:",S,"collection item ID:",T.id),_e("DELETE",`/api/collection/${T.id}`);throw new Error("Card not found in collection")},onMutate:async S=>{await w.cancelQueries({queryKey:["/api/collection"]});const T=w.getQueryData(["/api/collection"]);return w.setQueryData(["/api/collection"],(V=[])=>V.filter(E=>E.cardId!==S)),{previousCollection:T}},onSuccess:()=>{w.invalidateQueries({queryKey:["/api/collection"]}),g({title:"Removed from collection!"})},onError:(S,T,V)=>{V!=null&&V.previousCollection&&w.setQueryData(["/api/collection"],V.previousCollection),console.error("Error removing card:",S),g({title:"Failed to remove card",variant:"destructive"})}}),z=Me({mutationFn:S=>{const T=O==null?void 0:O.find(V=>V.cardId===S);if(T)return _e("DELETE",`/api/wishlist/${T.id}`);throw new Error("Card not found in wishlist")},onSuccess:()=>{w.invalidateQueries({queryKey:["/api/wishlist"]}),g({title:"Card removed from wishlist!"})},onError:()=>{g({title:"Failed to remove card from wishlist",variant:"destructive"})}}),q=Me({mutationFn:async S=>{const V=await(await fetch(`/api/sets/${S}/cards`)).json(),E=(L==null?void 0:L.map(K=>K.cardId))||[],R=V.filter(K=>!E.includes(K.id));if(R.length===0)throw new Error("All cards from this set are already in your collection!");const U=R.map(K=>{const Ne={cardId:K.id,condition:"near_mint",quantity:1};return _e("POST","/api/collection",Ne)});return await Promise.all(U),{addedCount:R.length,totalCards:V.length}},onSuccess:S=>{w.invalidateQueries({queryKey:["/api/collection"]}),w.invalidateQueries({queryKey:["/api/stats"]}),w.invalidateQueries({queryKey:["/api/recent-cards"]}),w.invalidateQueries({queryKey:["/api/trending-cards"]}),g({title:"Cards Added Successfully!",description:`Added ${S.addedCount} new cards to your collection (${S.totalCards-S.addedCount} were already owned).`})},onError:S=>{g({title:"Error Adding Cards",description:S.message,variant:"destructive"})}}),F=Me({mutationFn:async({setId:S,updates:T})=>{const V=await fetch(`/api/card-sets/${S}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(T)});if(!V.ok)throw new Error("Failed to update set");return V.json()},onSuccess:()=>{w.invalidateQueries({queryKey:["/api/card-sets"]}),d(null),p({name:"",year:0,description:"",imageUrl:""}),g({title:"Set Updated",description:"Card set has been updated successfully."})},onError:S=>{g({title:"Error Updating Set",description:S.message,variant:"destructive"})}}),W=x.useMemo(()=>!C||!_||!M?null:M.find(S=>S.slug===_)||null,[C,_,M]),{unassignedSets:Q,assignedSetsGrouped:ae,currentViewSets:he}=x.useMemo(()=>{if(!k)return{unassignedSets:[],assignedSetsGrouped:new Map,currentViewSets:[]};const S=k.filter(E=>!E.mainSetId),T=new Map;k.forEach(E=>{E.mainSetId&&(T.has(E.mainSetId)||T.set(E.mainSetId,[]),T.get(E.mainSetId).push(E))});const V=C&&W?T.get(W.id)||[]:S;return{unassignedSets:S,assignedSetsGrouped:T,currentViewSets:V}},[k,C,W]),Be=x.useMemo(()=>he?he.filter(T=>{var E,R;if(s.year&&T.year!==s.year)return!1;if(!o)return!0;const V=o.toLowerCase();return T.name.toLowerCase().includes(V)||((E=T.year)==null?void 0:E.toString().includes(V))||((R=T.description)==null?void 0:R.toLowerCase().includes(V))}).sort((T,V)=>(V.year||0)-(T.year||0)):[],[he,s.year,o]),Ae=o.length>=2&&I,Ye=x.useMemo(()=>!M||C?[]:M.map(S=>{const T=ae.get(S.id)||[];return{mainSet:S,assignedSets:T}}).filter(({assignedSets:S,mainSet:T})=>!(S.length===0||s.year&&(R=>{const U=R.match(/\b(19|20)\d{2}\b/);return U?parseInt(U[0]):0})(T.name)!==s.year)).sort((S,T)=>{const V=U=>{const K=U.match(/\b(19|20)\d{2}\b/);return K?parseInt(K[0]):0},E=V(S.mainSet.name),R=V(T.mainSet.name);return E&&R?R-E:E&&!R?-1:!E&&R?1:S.mainSet.name.localeCompare(T.mainSet.name)}),[M,ae,C,s.year]),Ue=Be.filter(S=>r.includes(S.id)),ce=Be.filter(S=>!r.includes(S.id)),Ee=S=>!y||!L?!1:L.some(T=>T.cardId===S),P=S=>!y||!O?!1:O.some(T=>T.cardId===S),Z=S=>{n(T=>({...T,search:S||void 0}))},oe=S=>{e(S),n({setId:S.id})},Y=()=>{e(null),n({})},Ie=()=>{n(S=>({setId:S.setId}))},De=S=>{n(S==="all"?T=>({...T,isInsert:void 0}):T=>({...T,isInsert:S==="true"}))},ee=S=>{a(T=>T.includes(S)?T.filter(V=>V!==S):[...T,S])},ze=S=>{var T;if(S.includes("drive.google.com")){const V=(T=S.match(/\/d\/([a-zA-Z0-9-_]+)/))==null?void 0:T[1];if(V)return`https://drive.google.com/uc?export=view&id=${V}`}return S},Ke=S=>{q.mutate(S)},jt=S=>{const T=k==null?void 0:k.find(V=>V.id===S);T&&(d(T),p({name:T.name,year:T.year,description:T.description||"",imageUrl:T.imageUrl||""}))},ut=()=>{c&&f.name.trim()&&F.mutate({setId:c.id,updates:{name:f.name.trim(),year:f.year,description:f.description.trim()||null,imageUrl:f.imageUrl.trim()||null}})},ft=()=>{d(null),p({name:"",year:0,description:"",imageUrl:""})};return t?i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 px-4 md:px-6 py-4",children:i.jsxs("div",{className:"flex flex-col space-y-4 md:space-y-0 md:flex-row md:items-center md:justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs($,{variant:"outline",onClick:Y,className:"flex items-center gap-2 text-sm",children:[i.jsx(tu,{className:"w-4 h-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Back to Sets"}),i.jsx("span",{className:"sm:hidden",children:"Back"})]}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("h2",{className:"text-xl md:text-2xl font-bebas text-gray-900 tracking-wide truncate",children:t.name}),i.jsx("p",{className:"text-sm text-gray-600 font-roboto",children:"Explore cards from this set"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsxs($,{onClick:()=>ee(t.id),variant:"outline",size:"sm",className:`flex items-center gap-2 ${r.includes(t.id)?"bg-yellow-50 text-yellow-700 border-yellow-300":""}`,children:[i.jsx(Tn,{className:`w-4 h-4 ${r.includes(t.id)?"fill-current":""}`}),i.jsx("span",{className:"hidden sm:inline",children:r.includes(t.id)?"Favorited":"Favorite Set"}),i.jsx("span",{className:"sm:hidden",children:r.includes(t.id)?"Favorited":"Favorite"})]}),i.jsxs($,{onClick:()=>Ke(t.id),disabled:q.isPending,size:"sm",className:"bg-marvel-red hover:bg-red-700 flex items-center gap-2",children:[i.jsx(xa,{className:"w-4 h-4"}),i.jsx("span",{className:"hidden sm:inline",children:q.isPending?"Adding All Cards...":"Add All to Collection"}),i.jsx("span",{className:"sm:hidden",children:q.isPending?"Adding...":"Add All"})]}),i.jsxs(qt,{value:s.isInsert===void 0?"all":s.isInsert.toString(),onValueChange:De,children:[i.jsx(zt,{className:"w-32",children:i.jsx(Kt,{placeholder:"All Types"})}),i.jsxs(Vt,{children:[i.jsx(ke,{value:"all",children:"All Types"}),i.jsx(ke,{value:"true",children:"Insert Cards"}),i.jsx(ke,{value:"false",children:"Base Cards"})]})]})]})]})}),i.jsx("div",{className:"bg-white border-b border-gray-200 px-4 md:px-6 py-4",children:i.jsxs("div",{className:"flex flex-col space-y-3 md:space-y-0 md:flex-row md:flex-wrap md:items-center gap-4",children:[i.jsx("div",{className:"flex-1 min-w-64",children:i.jsxs("div",{className:"relative",children:[i.jsx(ss,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx(ne,{placeholder:"Search cards in this set...",value:s.search||"",onChange:S=>Z(S.target.value),className:"pl-10 bg-white border-gray-200 text-gray-900 placeholder:text-gray-500 focus:ring-2 focus:ring-red-500 focus:border-red-500"})]})}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx($,{variant:u==="grid"?"default":"outline",size:"sm",onClick:()=>h("grid"),className:"h-10 w-12 md:h-8 md:w-8 p-0",children:i.jsx(jc,{className:"h-5 w-5 md:h-4 md:w-4"})}),i.jsx($,{variant:u==="list"?"default":"outline",size:"sm",onClick:()=>h("list"),className:"h-10 w-12 md:h-8 md:w-8 p-0",children:i.jsx(Gu,{className:"h-5 w-5 md:h-4 md:w-4"})})]}),Object.keys(s).filter(S=>S!=="setId").length>0&&i.jsxs($,{variant:"outline",onClick:Ie,className:"text-gray-600 hover:text-gray-900",children:[i.jsx(PT,{className:"w-4 h-4 mr-2"}),"Clear"]})]})}),i.jsx("div",{className:"p-6",children:i.jsx(WR,{filters:s,viewMode:u})})]}):i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 px-4 md:px-6 py-4",children:i.jsxs("div",{className:"flex flex-col space-y-4",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsx("div",{children:C&&W?i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Ji,{href:"/browse",children:i.jsxs($,{variant:"outline",size:"sm",children:[i.jsx(tu,{className:"h-4 w-4 mr-2"}),"Back to Browse"]})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-bebas text-gray-900 tracking-wide truncate",children:W.name}),i.jsxs("p",{className:"text-sm text-gray-600 font-roboto",children:[he.length," set",he.length!==1?"s":""," in this collection"]})]})]}):i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-bebas text-gray-900 tracking-wide",children:"BROWSE CARD SETS"}),i.jsx("p",{className:"text-sm text-gray-600 font-roboto",children:"Choose a collection or set to explore individual cards"})]})})}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsxs("div",{className:"relative flex-1 max-w-md",children:[i.jsx(ss,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx(ne,{placeholder:"Search sets by name or year...",value:o,onChange:S=>l(S.target.value),className:"pl-10 bg-white text-gray-900 placeholder:text-gray-500"})]}),i.jsxs(qt,{value:((Nt=s.year)==null?void 0:Nt.toString())||"all",onValueChange:S=>n(T=>({...T,year:S==="all"?void 0:parseInt(S)})),children:[i.jsx(zt,{className:"w-32",children:i.jsx(Kt,{placeholder:"All Years"})}),i.jsxs(Vt,{children:[i.jsx(ke,{value:"all",children:"All Years"}),Array.from(new Set(k==null?void 0:k.map(S=>S.year).filter(Boolean))).sort((S,T)=>(T||0)-(S||0)).map(S=>i.jsx(ke,{value:S.toString(),children:S},S))]})]})]})]})}),i.jsx("div",{className:"p-6",children:Ae?i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:['Search Results for "',o,'"']}),i.jsxs("div",{className:"text-sm text-gray-600",children:[I.sets.length," sets, ",I.cards.length>0&&i.jsxs("button",{onClick:()=>{const S=document.getElementById("individual-cards-section");S&&S.scrollIntoView({behavior:"smooth"})},className:"text-blue-600 hover:text-blue-800 underline cursor-pointer",children:[I.cards.length," cards"]}),I.cards.length===0&&`${I.cards.length} cards`]})]}),I.sets.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Card Sets"}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3 md:gap-4",children:I.sets.map(S=>i.jsx($g,{set:S,onClick:()=>oe(S),isFavorite:r.includes(S.id),onFavorite:()=>ee(S.id),showAdminControls:v,onEdit:()=>jt(S.id)},S.id))})]}),I.cards.length>0&&i.jsxs("div",{id:"individual-cards-section",children:[i.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Individual Cards"}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-2 md:gap-3",children:I.cards.map(S=>i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>m(S),children:[i.jsx("div",{className:"aspect-[2.5/3.5] bg-gray-100 rounded-t-lg overflow-hidden",children:S.frontImageUrl?i.jsx("img",{src:ze(S.frontImageUrl),alt:S.name,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"No Image"})}),i.jsxs("div",{className:"p-2",children:[i.jsx("p",{className:"text-xs font-medium text-gray-900 truncate",children:S.name}),i.jsx("p",{className:"text-xs text-gray-600",children:S.set.name}),i.jsxs("p",{className:"text-xs text-gray-500",children:["#",S.cardNumber]})]})]},S.id))})]})]}):C?i.jsxs("div",{className:"space-y-8",children:[Ue.length>0&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(Tn,{className:"w-5 h-5 text-yellow-500 fill-current"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Favorite Sets"})]}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3 md:gap-4",children:Ue.map(S=>i.jsx($g,{set:S,onClick:()=>oe(S),isFavorite:!0,onFavorite:()=>ee(S.id),showAdminControls:v,onEdit:()=>jt(S.id)},S.id))})]}),ce.length>0&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:Ue.length>0?"Other Sets":"Card Sets"}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3 md:gap-4",children:ce.map(S=>i.jsx($g,{set:S,onClick:()=>oe(S),isFavorite:!1,onFavorite:()=>ee(S.id),showAdminControls:v,onEdit:()=>jt(S.id)},S.id))})]})]}):i.jsx("div",{className:"space-y-8",children:i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Master Sets"}),i.jsx("div",{className:"grid grid-cols-2 xs:grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 2xl:grid-cols-8 gap-2 md:gap-3",children:Ye.map(({mainSet:S,assignedSets:T})=>i.jsx(Bq,{mainSet:S,assignedSets:T},S.id))})]})})}),b&&i.jsx(Br,{card:b,isOpen:!!b,onClose:()=>m(null),isInCollection:Ee(b.id),isInWishlist:P(b.id),onAddToCollection:y?()=>B.mutate(b.id):void 0,onRemoveFromCollection:y?()=>J.mutate(b.id):void 0,onAddToWishlist:y?()=>H.mutate(b.id):void 0,onRemoveFromWishlist:y?()=>z.mutate(b.id):void 0,onCardUpdate:S=>m(S)}),c&&i.jsx(ln,{open:!!c,onOpenChange:()=>d(null),children:i.jsxs(Gs,{className:"sm:max-w-md",children:[i.jsxs(Qs,{children:[i.jsx(Zs,{children:"Edit Set"}),i.jsx(Yv,{children:"Update the details for this card set."})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"name",children:"Set Name"}),i.jsx(ne,{id:"name",value:f.name,onChange:S=>p(T=>({...T,name:S.target.value})),placeholder:"Enter set name"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"year",children:"Year"}),i.jsx(ne,{id:"year",type:"number",value:f.year||"",onChange:S=>p(T=>({...T,year:parseInt(S.target.value)||0})),placeholder:"Enter year"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"description",children:"Description"}),i.jsx(ws,{id:"description",value:f.description,onChange:S=>p(T=>({...T,description:S.target.value})),placeholder:"Enter description (optional)",rows:3})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"imageUrl",children:"Image URL"}),i.jsx(ne,{id:"imageUrl",value:f.imageUrl,onChange:S=>p(T=>({...T,imageUrl:S.target.value})),placeholder:"Enter image URL (optional)"})]}),i.jsxs("div",{className:"flex gap-2 pt-4",children:[i.jsxs($,{onClick:ut,disabled:!f.name.trim()||F.isPending,className:"flex-1",children:[i.jsx(Pv,{className:"w-4 h-4 mr-2"}),F.isPending?"Saving...":"Save Changes"]}),i.jsxs($,{variant:"outline",onClick:ft,disabled:F.isPending,children:[i.jsx(Er,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]})})]})}function RN({cardId:t,showRefresh:e=!1,estimatedValue:s,currentPrice:n}){const{toast:r}=dt(),a=Gt(),{data:o}=Ce({queryKey:["/api/card-pricing",t],queryFn:async()=>{try{return await(await _e("GET",`/api/card-pricing/${t}`)).json()}catch{return null}},staleTime:5*60*1e3,retry:!1}),l=o==null?void 0:o.avgPrice,c=s?parseFloat(s):null,d=l||n||c,u=Me({mutationFn:async()=>await(await _e("POST",`/api/refresh-card-pricing/${t}`)).json(),onSuccess:b=>{b.success?(a.invalidateQueries({queryKey:["/api/card-pricing"]}),r({title:"Pricing Updated",description:`New price: $${b.avgPrice.toFixed(2)}`})):r({title:"Pricing Unavailable",description:"Unable to fetch current market data",variant:"destructive"})},onError:()=>{r({title:"Refresh Failed",description:"Unable to update pricing data",variant:"destructive"})}});if(!(d&&d>0))return i.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[i.jsx(ao,{className:"w-3 h-3"}),i.jsx("span",{children:"N/A"}),e&&i.jsx($,{size:"sm",variant:"ghost",className:"h-4 w-4 p-0 ml-1",onClick:b=>{b.stopPropagation(),u.mutate()},disabled:u.isPending,children:i.jsx(ha,{className:`w-3 h-3 ${u.isPending?"animate-spin":""}`})})]});const f=l&&l>0,p=f?"bg-green-50 text-green-700 border-green-200":"bg-blue-50 text-blue-700 border-blue-200";return i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsxs(ve,{variant:"outline",className:`${p} text-xs font-semibold`,children:[i.jsx(ao,{className:"w-3 h-3 mr-1"}),"$",d.toFixed(2),!f&&i.jsx("span",{className:"ml-1 text-xs opacity-60",children:"est"})]}),e&&i.jsx($,{size:"sm",variant:"ghost",className:"h-4 w-4 p-0",onClick:b=>{b.stopPropagation(),u.mutate()},disabled:u.isPending,children:i.jsx(ha,{className:`w-3 h-3 ${u.isPending?"animate-spin":""}`})})]})}function Hq(){const[,t]=Ns(),[e,s]=x.useState(null),[n,r]=x.useState(!1),[a,o]=x.useState(new Set),[l,c]=x.useState(""),[d,u]=x.useState("all"),[h,f]=x.useState("list"),[p,b]=x.useState("sets"),[m,g]=x.useState("owned"),[v,y]=x.useState(!1),w=Gt(),{toast:j}=dt(),{data:N,isLoading:C}=Ce({queryKey:["/api/collection"]}),{data:_}=Ce({queryKey:["/api/card-sets"]}),{data:k,isLoading:M}=Ce({queryKey:[`/api/missing-cards/${d}`],enabled:p==="cards"&&m==="missing"&&d!=="all"}),L=Array.from(new Set((N==null?void 0:N.map(P=>{var Z,oe;return(oe=(Z=P.card)==null?void 0:Z.set)==null?void 0:oe.id}))||[])).map(P=>{var ze,Ke,jt,ut;const Z=(Ke=(ze=N==null?void 0:N.find(ft=>{var Nt,S;return((S=(Nt=ft.card)==null?void 0:Nt.set)==null?void 0:S.id)===P}))==null?void 0:ze.card)==null?void 0:Ke.set;if(!Z)return null;const oe=(N==null?void 0:N.filter(ft=>{var Nt,S;return((S=(Nt=ft.card)==null?void 0:Nt.set)==null?void 0:S.id)===P}).length)||0,Y=((jt=_==null?void 0:_.find(ft=>ft.id===P))==null?void 0:jt.totalCards)||0,Ie=Y>0?Math.round(oe/Y*100):0,De=N==null?void 0:N.find(ft=>{var Nt,S,T;return((S=(Nt=ft.card)==null?void 0:Nt.set)==null?void 0:S.id)===P&&((T=ft.card)==null?void 0:T.frontImageUrl)}),ee=_==null?void 0:_.find(ft=>ft.id===P);return{...Z,ownedCards:oe,totalCards:Y,completionPercentage:Ie,firstCardImage:((ut=De==null?void 0:De.card)==null?void 0:ut.frontImageUrl)||(ee==null?void 0:ee.imageUrl)}}).filter(P=>P!==null).sort((P,Z)=>P.completionPercentage!==Z.completionPercentage?Z.completionPercentage-P.completionPercentage:(Z.year||0)-(P.year||0)),O=(()=>{if(m==="missing"){if(M)return[];if(!k)return[];let Z=k;if(l.trim()){const oe=l.toLowerCase();Z=Z.filter(Y=>Y.name.toLowerCase().includes(oe)||Y.cardNumber.toLowerCase().includes(oe)||Y.set.name.toLowerCase().includes(oe))}return Z.sort((oe,Y)=>{const Ie=parseInt(oe.cardNumber)||0,De=parseInt(Y.cardNumber)||0;return Ie-De})}return(N==null?void 0:N.filter(Z=>{const oe=Z.card.name.toLowerCase().includes(l.toLowerCase())||Z.card.set.name.toLowerCase().includes(l.toLowerCase())||Z.card.cardNumber.toLowerCase().includes(l.toLowerCase())||Z.card.rarity.toLowerCase().includes(l.toLowerCase()),Y=d==="all"||Z.card.set.id.toString()===d;return oe&&Y}).sort((Z,oe)=>{const Y=parseInt(Z.card.cardNumber)||0,Ie=parseInt(oe.card.cardNumber)||0;return Y-Ie}))||[]})(),I=Me({mutationFn:async P=>_e("DELETE",`/api/collection/${P}`),onSuccess:()=>{w.invalidateQueries({queryKey:["/api/collection"]}),j({title:"Card removed from collection"})},onError:()=>{j({title:"Failed to remove card",variant:"destructive"})}}),B=Me({mutationFn:async({itemId:P,updates:Z})=>_e("PATCH",`/api/collection/${P}`,Z),onSuccess:()=>{w.invalidateQueries({queryKey:["/api/collection"]}),j({title:"Collection item updated"})},onError:()=>{j({title:"Failed to update collection item",variant:"destructive"})}});if(C)return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 px-6 py-4",children:i.jsx("h2",{className:"text-2xl font-bebas text-gray-900 tracking-wide",children:"MY COLLECTION"})}),i.jsx("div",{className:"p-6",children:i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:[...Array(8)].map((P,Z)=>i.jsx(re,{className:"animate-pulse",children:i.jsxs(ie,{className:"p-0",children:[i.jsx("div",{className:"w-full h-64 bg-gray-200 rounded-t-lg"}),i.jsxs("div",{className:"p-4 space-y-2",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded"}),i.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"})]})]})},Z))})})]});const H=P=>{I.mutate(P)},J=P=>{let Z;if("card"in P&&P.card)Z={id:P.card.id,name:P.card.name,cardNumber:P.card.cardNumber,frontImageUrl:P.card.frontImageUrl,estimatedValue:P.card.estimatedValue,isInsert:P.card.isInsert,rarity:P.card.rarity,description:"",createdAt:new Date,setId:P.card.set.id,variation:null,backImageUrl:null,set:P.card.set};else{console.warn("Unexpected data structure in collection item:",P);return}s(Z),r(!0)},z=P=>{B.mutate({itemId:P.id,updates:{isFavorite:!P.isFavorite}})},q=P=>{const Z=new Set(a);Z.has(P)?Z.delete(P):Z.add(P),o(Z)},F=()=>{v?(y(!1),o(new Set)):y(!0)},W=P=>P.split("_").map(Z=>Z.charAt(0).toUpperCase()+Z.slice(1)).join(" "),Q=P=>"card"in P?P.card.id:P.id,ae=P=>"card"in P?P.card.name:P.name,he=P=>"card"in P?P.card.frontImageUrl:P.frontImageUrl,Be=P=>"card"in P?P.card.estimatedValue:P.estimatedValue,Ae=P=>("card"in P,null),Ye=P=>"card"in P?P.card.set.name:P.set.name,Ue=P=>"card"in P?P.card.cardNumber:P.cardNumber,ce=P=>P.condition,Ee=P=>P.quantity;return!N||N.length===0?i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 px-6 py-4",children:i.jsx("h2",{className:"text-2xl font-bebas text-gray-900 tracking-wide",children:"MY COLLECTION"})}),i.jsxs("div",{className:"flex flex-col items-center justify-center p-12 text-center",children:[i.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-full flex items-center justify-center mb-6",children:i.jsx(er,{className:"h-12 w-12 text-gray-400"})}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Cards in Collection"}),i.jsx("p",{className:"text-gray-600 mb-6 max-w-md",children:"Start building your Marvel card collection by browsing available cards and adding them to your collection."}),i.jsx($,{onClick:()=>t("/browse"),className:"bg-red-600 hover:bg-red-700 text-white",children:"Browse Cards"})]})]}):i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsxs("div",{className:"bg-white shadow-sm border-b border-gray-200 px-6 py-4",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-bebas text-gray-900 tracking-wide",children:"MY COLLECTION"}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx(ss,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(ne,{placeholder:"Search your collection...",value:l,onChange:P=>c(P.target.value),className:"pl-10 w-64 bg-white text-gray-900 placeholder:text-gray-500"})]}),i.jsxs("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[i.jsx($,{variant:p==="cards"?"default":"ghost",size:"sm",onClick:()=>b("cards"),className:`rounded-none px-3 ${p==="cards"?"text-white":"text-[#f73f32] hover:text-[#f73f32]"}`,children:"Cards"}),i.jsx($,{variant:p==="sets"?"default":"ghost",size:"sm",onClick:()=>b("sets"),className:`rounded-none px-3 ${p==="sets"?"text-white":"text-[#f73f32] hover:text-[#f73f32]"}`,children:"Sets"})]}),p==="cards"&&d!=="all"&&i.jsxs("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[i.jsx($,{variant:m==="owned"?"default":"ghost",size:"sm",onClick:()=>g("owned"),className:`rounded-none px-3 ${m==="owned"?"text-white":"text-[#f73f32] hover:text-[#f73f32]"}`,children:"View Owned"}),i.jsx($,{variant:m==="missing"?"default":"ghost",size:"sm",onClick:()=>g("missing"),className:`rounded-none px-3 ${m==="missing"?"text-white":"text-[#f73f32] hover:text-[#f73f32]"}`,children:"View Missing"})]}),i.jsxs("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[i.jsx($,{variant:h==="grid"?"default":"ghost",size:"sm",onClick:()=>f("grid"),className:`rounded-none px-2 ${h==="grid"?"text-white":"text-gray-900 hover:text-gray-900"}`,children:i.jsx(jc,{className:"h-4 w-4"})}),i.jsx($,{variant:h==="list"?"default":"ghost",size:"sm",onClick:()=>f("list"),className:`rounded-none px-2 ${h==="list"?"text-white":"text-gray-900 hover:text-gray-900"}`,children:i.jsx(Gu,{className:"h-4 w-4"})})]}),i.jsx($,{variant:"outline",size:"sm",onClick:F,className:v?"bg-red-600 text-white border-red-600 hover:bg-red-700 hover:text-white":"bg-gray-800 text-white border-gray-800 hover:bg-gray-700 hover:text-white",children:v?i.jsxs(i.Fragment,{children:[i.jsx(an,{className:"mr-2 h-4 w-4"}),"Exit Selection"]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"mr-2 w-4 h-4 border border-gray-400 rounded"}),"Select Items"]})})]})]}),i.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600",children:[i.jsxs("span",{children:[(N==null?void 0:N.length)||0," cards in collection"]}),l&&i.jsxs(i.Fragment,{children:[i.jsx("span",{children:""}),i.jsxs("span",{children:[O.length,' matching "',l,'"']})]}),i.jsx("span",{children:""}),i.jsxs("span",{children:[(N==null?void 0:N.filter(P=>"isForSale"in P?P.isForSale:!1).length)||0," listed for sale"]})]})]}),i.jsx("div",{className:"p-6",children:p==="cards"?m==="missing"&&M?i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:[...Array(8)].map((P,Z)=>i.jsx(re,{className:"animate-pulse",children:i.jsxs(ie,{className:"p-0",children:[i.jsx("div",{className:"w-full h-64 bg-gray-200 rounded-t-lg"}),i.jsxs("div",{className:"p-4 space-y-2",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded"}),i.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"})]})]})},Z))}):m==="missing"&&(!k||k.length===0)?i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-gray-600",children:"No missing cards found for this set."})}):h==="grid"?i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:O.map(P=>i.jsx(re,{className:"group hover:shadow-lg transition-all duration-200 cursor-pointer relative",onClick:()=>J(P),children:i.jsxs(ie,{className:"p-0",children:[v&&i.jsx("div",{className:"absolute top-2 left-2 z-10",onClick:Z=>{Z.stopPropagation(),q(P.id)},children:i.jsx(Eo,{checked:a.has(P.id),className:"bg-white/80 border-2"})}),"card"in P&&i.jsxs("div",{className:"absolute top-2 right-2 z-10 flex gap-1",children:[P.isForSale&&i.jsx(ve,{className:"bg-green-100 text-green-800 text-xs px-2 py-1",children:"For Sale"}),i.jsx("button",{onClick:Z=>{Z.stopPropagation(),z(P)},className:`p-1 rounded-full transition-colors ${P.isFavorite?"bg-yellow-500 text-white":"bg-white/80 text-gray-400 hover:text-yellow-500"}`,children:i.jsx(Tn,{className:`w-4 h-4 ${P.isFavorite?"fill-current":""}`})})]}),i.jsxs("div",{className:"relative aspect-[2.5/3.5] bg-gray-100 rounded-t-lg overflow-hidden",children:[he(P)?i.jsx("img",{src:he(P)??"",alt:ae(P),className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"}):i.jsx("div",{className:"w-full h-full bg-gradient-to-br from-red-100 to-red-200 flex items-center justify-center",children:i.jsx("span",{className:"text-red-600 font-bold text-xs text-center px-2",children:ae(P)})}),i.jsx("div",{className:"absolute bottom-2 left-2 flex gap-1",children:("card"in P?P.card.isInsert:P.isInsert)&&i.jsx("div",{className:"bg-purple-600 text-white rounded-full w-5 h-5 flex items-center justify-center",children:i.jsx("span",{className:"text-xs",children:""})})})]}),i.jsxs("div",{className:"p-3 space-y-1",children:[i.jsx("h3",{className:"font-semibold text-sm text-gray-900 line-clamp-2 leading-tight",children:ae(P)}),i.jsxs("p",{className:"text-xs text-gray-600",children:[Ye(P)," #",Ue(P)]}),i.jsxs("div",{className:"flex items-center justify-between mt-2",children:[i.jsxs("div",{className:"flex gap-1",children:["card"in P?i.jsx(ve,{className:"bg-blue-100 text-blue-800 text-xs border-blue-200",children:W(ce(P))}):i.jsx(ve,{className:"bg-red-100 text-red-800 text-xs border-red-200",children:"Missing"}),"card"in P&&Ee(P)>1&&i.jsxs(ve,{className:"bg-orange-100 text-orange-800 text-xs border-orange-200",children:["Qty: ",Ee(P)]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(RN,{cardId:Q(P),estimatedValue:Be(P),currentPrice:Ae(P),showRefresh:!0}),"card"in P&&i.jsx($,{variant:"ghost",size:"sm",onClick:Z=>{Z.stopPropagation(),H(P.id)},className:"h-6 w-6 p-0 hover:bg-red-100",children:i.jsx(Co,{className:"h-3 w-3 text-gray-400 hover:text-red-600"})})]})]})]})]})},Q(P)))}):i.jsx("div",{className:"space-y-3",children:O.map(P=>i.jsx(re,{className:"group hover:shadow-md transition-all duration-200 cursor-pointer",onClick:()=>J(P),children:i.jsx(ie,{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[v&&i.jsx("div",{onClick:Z=>{Z.stopPropagation(),q(P.id)},children:i.jsx(Eo,{checked:a.has(P.id),className:"border-2"})}),i.jsx("div",{className:"w-14 h-20 bg-gray-100 rounded overflow-hidden flex-shrink-0",children:("card"in P?P.card.frontImageUrl:P.frontImageUrl)?i.jsx("img",{src:("card"in P?P.card.frontImageUrl:P.frontImageUrl)??"",alt:"card"in P?P.card.name:P.name,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full bg-gradient-to-br from-red-100 to-red-200 flex items-center justify-center",children:i.jsx("span",{className:"text-red-600 font-bold text-xs text-center px-1",children:("card"in P?P.card.name:P.name).substring(0,8)})})}),i.jsx("div",{className:"flex-1 min-w-0",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[i.jsx("h3",{className:"font-semibold text-gray-900 text-sm leading-tight mb-1",children:"card"in P?P.card.name:P.name}),i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"card"in P?P.card.set.year+" "+P.card.set.name:P.set.year+" "+P.set.name}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-xs font-medium text-gray-600",children:["#","card"in P?P.card.cardNumber:P.cardNumber]}),("card"in P?P.card.isInsert:P.isInsert)&&i.jsx("div",{className:"bg-purple-600 text-white rounded-full w-4 h-4 flex items-center justify-center",children:i.jsx("span",{className:"text-[10px]",children:""})}),"card"in P&&P.quantity>1&&i.jsxs(ve,{className:"bg-orange-100 text-orange-800 text-[10px] px-1 py-0",children:["x",P.quantity]})]})]}),i.jsxs("div",{className:"flex flex-col items-end gap-1",children:[i.jsx("div",{className:"text-sm font-medium",children:i.jsx(RN,{cardId:"card"in P?P.card.id:P.id,estimatedValue:Be(P),currentPrice:Ae(P),showRefresh:!1})}),i.jsxs("div",{className:"flex items-center gap-2",children:["card"in P?i.jsx("div",{className:"p-1 rounded-full bg-green-500 text-white",children:i.jsx(an,{className:"w-3 h-3"})}):i.jsx("button",{onClick:Z=>{Z.stopPropagation()},className:"p-1 rounded-full bg-gray-200 text-gray-600 hover:bg-red-100 hover:text-red-600",children:i.jsx(xa,{className:"w-3 h-3"})}),"card"in P&&i.jsx("button",{onClick:Z=>{Z.stopPropagation(),z(P)},className:`p-1 rounded-full transition-colors ${P.isFavorite?"bg-yellow-500 text-white":"bg-gray-200 text-gray-400 hover:text-yellow-500"}`,children:i.jsx(Tn,{className:`w-3 h-3 ${P.isFavorite?"fill-current":""}`})})]})]})]})})]})})},P.id))}):h==="grid"?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:L.map(P=>i.jsx(re,{className:"group hover:shadow-lg transition-all duration-200 cursor-pointer",onClick:()=>{b("cards"),u(P.id.toString())},children:i.jsxs(ie,{className:"p-0",children:[i.jsxs("div",{className:"relative aspect-[2.5/3.5] bg-gray-100 rounded-t-lg overflow-hidden",children:[P.firstCardImage?i.jsx("img",{src:P.firstCardImage,alt:P.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"}):i.jsx("div",{className:"w-full h-full bg-gradient-to-br from-red-100 to-red-200 flex items-center justify-center",children:i.jsx("span",{className:"text-red-600 font-bold text-sm text-center px-4",children:P.name})}),i.jsx("div",{className:"absolute top-2 right-2",children:i.jsxs(ve,{className:`text-white font-bold ${P.completionPercentage===100?"bg-green-600":P.completionPercentage>=75?"bg-blue-600":P.completionPercentage>=50?"bg-yellow-600":"bg-gray-600"}`,children:[P.completionPercentage,"%"]})})]}),i.jsxs("div",{className:"p-4 space-y-3",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 line-clamp-2 leading-tight",children:P.name}),i.jsx("p",{className:"text-sm text-gray-600",children:P.year})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Progress"}),i.jsxs("span",{className:"font-medium text-gray-900",children:[P.ownedCards," of ",P.totalCards]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${P.completionPercentage===100?"bg-green-600":P.completionPercentage>=75?"bg-blue-600":P.completionPercentage>=50?"bg-yellow-600":"bg-gray-600"}`,style:{width:`${P.completionPercentage}%`}})})]}),i.jsxs("div",{className:"flex gap-2 pt-2",children:[i.jsx($,{variant:"outline",size:"sm",className:"flex-1 text-xs text-white bg-green-600 border-green-600 hover:bg-green-700 hover:text-white",onClick:Z=>{Z.stopPropagation(),b("cards"),u(P.id.toString()),g("owned")},children:"View Owned"}),i.jsx($,{variant:"outline",size:"sm",className:"flex-1 text-xs text-white bg-[#f73f32] border-[#f73f32] hover:bg-red-700 hover:text-white",onClick:Z=>{Z.stopPropagation(),b("cards"),u(P.id.toString()),g("missing")},children:"View Missing"})]})]})]})},P.id))}):i.jsx("div",{className:"space-y-6",children:L.map(P=>i.jsx(re,{className:"group hover:shadow-md transition-all duration-200 cursor-pointer",onClick:()=>{b("cards"),u(P.id.toString())},children:i.jsx(ie,{className:"p-4 md:p-6",children:i.jsxs("div",{className:"flex items-center gap-4 md:gap-6",children:[i.jsx("div",{className:"w-20 h-28 md:w-16 md:h-22 bg-gray-100 rounded overflow-hidden flex-shrink-0",children:P.firstCardImage?i.jsx("img",{src:P.firstCardImage,alt:P.name,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full bg-gradient-to-br from-red-100 to-red-200 flex items-center justify-center",children:i.jsx("span",{className:"text-red-600 font-bold text-xs text-center px-1",children:P.name.substring(0,10)})})}),i.jsx("div",{className:"flex-1 min-w-0",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-gray-900 text-lg md:text-base truncate",children:P.name}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:P.year}),i.jsxs("div",{className:"space-y-2 mt-3",children:[i.jsxs("div",{className:"flex justify-between items-center text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Progress"}),i.jsxs("span",{className:"font-medium text-gray-900",children:[P.ownedCards," of ",P.totalCards," (",P.completionPercentage,"%)"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:i.jsx("div",{className:`h-2.5 rounded-full transition-all duration-300 ${P.completionPercentage===100?"bg-green-600":P.completionPercentage>=75?"bg-blue-600":P.completionPercentage>=50?"bg-yellow-600":"bg-gray-600"}`,style:{width:`${P.completionPercentage}%`}})})]})]}),i.jsx("div",{className:"flex items-center gap-2 w-full md:w-auto md:ml-4",children:i.jsxs("div",{className:"flex rounded-lg overflow-hidden w-full",children:[i.jsx($,{variant:"default",size:"sm",className:"rounded-none bg-green-600 text-white hover:bg-green-700 text-sm md:text-xs px-4 md:px-3 flex-1 md:flex-none",onClick:Z=>{Z.stopPropagation(),b("cards"),u(P.id.toString()),g("owned")},children:"View Owned"}),i.jsx($,{variant:"default",size:"sm",className:"rounded-none bg-[#f73f32] text-white hover:bg-red-700 text-sm md:text-xs px-4 md:px-3 flex-1 md:flex-none",onClick:Z=>{Z.stopPropagation(),b("cards"),u(P.id.toString()),g("missing")},children:"View Missing"})]})})]})})]})})},P.id))})}),i.jsx(Br,{card:e,isOpen:n,onClose:()=>{r(!1),s(null)},isInCollection:!0,onRemoveFromCollection:()=>{if(e){const P=N.find(Z=>Z.card.id===e.id);P&&(H(P.id),r(!1),s(null))}},onCardUpdate:P=>s(P)})]})}function Wq(){const[,t]=Ns(),[e,s]=x.useState(null),[n,r]=x.useState(!1),[a,o]=x.useState(""),[l,c]=x.useState("list"),d=Gt(),{toast:u}=dt(),{data:h,isLoading:f}=Ce({queryKey:["/api/wishlist"]}),p=(h==null?void 0:h.filter(j=>{if(!a)return!0;const N=a.toLowerCase();return j.card.name.toLowerCase().includes(N)||j.card.set.name.toLowerCase().includes(N)||j.card.cardNumber.toLowerCase().includes(N)||j.card.rarity.toLowerCase().includes(N)}))||[],b=Me({mutationFn:async j=>_e("DELETE",`/api/wishlist/${j}`),onSuccess:()=>{d.invalidateQueries({queryKey:["/api/wishlist"]}),u({title:"Card removed from wishlist"})},onError:()=>{u({title:"Failed to remove card",variant:"destructive"})}}),m=Me({mutationFn:async j=>_e("POST","/api/collection",{cardId:j,condition:"Near Mint"}),onSuccess:()=>{d.invalidateQueries({queryKey:["/api/collection"]}),u({title:"Card added to collection"})},onError:()=>{u({title:"Failed to add to collection",variant:"destructive"})}}),g=j=>{s(j),r(!0)},v=j=>{b.mutate(j)},y=j=>{m.mutate(j.card.id)},w=j=>{m.mutate(j.card.id),b.mutate(j.id)};return f?i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 px-6 py-4",children:i.jsx("h2",{className:"text-2xl font-bebas text-gray-900 tracking-wide",children:"MY WISHLIST"})}),i.jsx("div",{className:"p-6",children:i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:[...Array(8)].map((j,N)=>i.jsx(re,{className:"animate-pulse",children:i.jsxs(ie,{className:"p-0",children:[i.jsx("div",{className:"w-full aspect-[2.5/3.5] bg-gray-200 rounded-t-lg"}),i.jsxs("div",{className:"p-3 space-y-2",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded"}),i.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"})]})]})},N))})})]}):!h||h.length===0?i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 px-6 py-4",children:i.jsx("h2",{className:"text-2xl font-bebas text-gray-900 tracking-wide",children:"MY WISHLIST"})}),i.jsxs("div",{className:"flex flex-col items-center justify-center p-12 text-center",children:[i.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-full flex items-center justify-center mb-6",children:i.jsx(er,{className:"h-12 w-12 text-gray-400"})}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Cards in Wishlist"}),i.jsx("p",{className:"text-gray-600 mb-6 max-w-md",children:"Start building your wishlist by browsing cards and clicking the heart icon to add cards you want to collect."}),i.jsx($,{onClick:()=>t("/browse"),className:"bg-red-600 hover:bg-red-700 text-white",children:"Browse Cards"})]})]}):i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsxs("div",{className:"bg-white shadow-sm border-b border-gray-200 px-6 py-4",children:[i.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:i.jsx("h2",{className:"text-2xl font-bebas text-gray-900 tracking-wide",children:"MY WISHLIST"})}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx(ss,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(ne,{placeholder:"Search your wishlist...",value:a,onChange:j=>o(j.target.value),className:"pl-10 w-64 bg-white"})]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx($,{variant:l==="grid"?"default":"outline",size:"sm",onClick:()=>c("grid"),className:"h-8 w-8 p-0",children:i.jsx(jc,{className:"h-4 w-4"})}),i.jsx($,{variant:l==="list"?"default":"outline",size:"sm",onClick:()=>c("list"),className:"h-8 w-8 p-0",children:i.jsx(Gu,{className:"h-4 w-4"})})]})]}),i.jsx("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600",children:i.jsxs("span",{children:[p.length," cards in wishlist"]})})]}),i.jsx("div",{className:"p-6",children:l==="grid"?i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:p.map(j=>i.jsx(re,{className:"group hover:shadow-lg transition-all duration-200 cursor-pointer",onClick:()=>g(j.card),children:i.jsxs(ie,{className:"p-0",children:[i.jsxs("div",{className:"relative aspect-[2.5/3.5] bg-gray-100 rounded-t-lg overflow-hidden",children:[j.card.frontImageUrl?i.jsx("img",{src:j.card.frontImageUrl,alt:j.card.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"}):i.jsx("div",{className:"w-full h-full bg-gradient-to-br from-red-100 to-red-200 flex items-center justify-center",children:i.jsx("span",{className:"text-red-600 font-bold text-xs text-center px-2",children:j.card.name})}),i.jsx("div",{className:"absolute bottom-2 left-2 flex gap-1",children:j.card.isInsert&&i.jsx("div",{className:"bg-purple-600 text-white rounded-full w-5 h-5 flex items-center justify-center",children:i.jsx("span",{className:"text-xs",children:""})})})]}),i.jsxs("div",{className:"p-3 space-y-1",children:[i.jsx("h3",{className:"font-semibold text-sm text-gray-900 line-clamp-2 leading-tight",children:j.card.name}),i.jsxs("p",{className:"text-xs text-gray-600",children:[j.card.set.name," #",j.card.cardNumber]}),j.maxPrice&&i.jsxs("p",{className:"text-xs text-green-600 font-medium",children:["Max Price: $",j.maxPrice]}),i.jsx("div",{className:"flex items-center justify-end mt-2 gap-1",children:i.jsxs("div",{className:"flex gap-1",children:[i.jsx($,{variant:"ghost",size:"sm",onClick:N=>{N.stopPropagation(),y(j)},className:"h-6 w-6 p-0 hover:bg-green-100",title:"Add to Collection",children:i.jsx(xa,{className:"h-3 w-3 text-gray-400 hover:text-green-600"})}),i.jsx($,{variant:"ghost",size:"sm",onClick:N=>{N.stopPropagation(),v(j.id)},className:"h-6 w-6 p-0 hover:bg-red-100",title:"Remove from Wishlist",children:i.jsx(Co,{className:"h-3 w-3 text-gray-400 hover:text-red-600"})})]})})]})]})},j.id))}):i.jsx("div",{className:"space-y-3",children:p.map(j=>i.jsx(re,{className:"group hover:shadow-lg transition-all duration-200 cursor-pointer",onClick:()=>g(j.card),children:i.jsx(ie,{className:"p-4",children:i.jsxs("div",{className:"flex gap-4",children:[i.jsx("div",{className:"w-16 h-20 md:w-20 md:h-28 bg-gray-100 rounded overflow-hidden flex-shrink-0",children:j.card.frontImageUrl?i.jsx("img",{src:j.card.frontImageUrl,alt:j.card.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"}):i.jsx("div",{className:"w-full h-full bg-gradient-to-br from-red-100 to-red-200 flex items-center justify-center",children:i.jsx("span",{className:"text-red-600 font-bold text-xs text-center px-1",children:j.card.name})})}),i.jsx("div",{className:"flex-1 min-w-0",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-2",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-base md:text-lg text-gray-900 truncate",children:j.card.name}),i.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[j.card.set.name," #",j.card.cardNumber]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:j.card.rarity}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[j.card.isInsert&&i.jsx(ve,{className:"bg-purple-600 text-white text-xs px-2 py-1 font-bold",children:"INSERT"}),j.maxPrice&&i.jsxs("span",{className:"text-sm text-green-600 font-medium",children:["Max Price: $",j.maxPrice]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[i.jsxs($,{variant:"ghost",size:"sm",onClick:N=>{N.stopPropagation(),y(j)},className:"h-8 px-3 hover:bg-green-100 text-gray-600 hover:text-green-700",title:"Add to Collection",children:[i.jsx(xa,{className:"h-4 w-4 mr-1"}),"Add"]}),i.jsxs($,{variant:"ghost",size:"sm",onClick:N=>{N.stopPropagation(),v(j.id)},className:"h-8 px-3 hover:bg-red-100 text-gray-600 hover:text-red-700",title:"Remove from Wishlist",children:[i.jsx(Co,{className:"h-4 w-4 mr-1"}),"Remove"]})]})]})})]})})},j.id))})}),i.jsx(Br,{card:e,isOpen:n,onClose:()=>{r(!1),s(null)},isInCollection:!1,isInWishlist:!0,onAddToCollection:()=>{if(e){const j=h.find(N=>{var C;return(((C=N.card)==null?void 0:C.id)||N.cardId)===e.id});j&&(w(j),r(!1),s(null))}},onRemoveFromWishlist:()=>{if(e){const j=h.find(N=>{var C;return(((C=N.card)==null?void 0:C.id)||N.cardId)===e.id});j&&(v(j.id),r(!1),s(null))}},onCardUpdate:j=>s(j)})]})}function qq(){const{currentUser:t}=Ys(),[e,s]=x.useState(null),[n,r]=x.useState(!1),[a,o]=x.useState(!1),[l,c]=x.useState(""),[d,u]=x.useState("all"),[h,f]=x.useState("newest"),{data:p,isLoading:b}=Ce({queryKey:["/api/marketplace",{search:l,setId:d,sort:h}]}),{data:m}=Ce({queryKey:["/api/card-sets"]}),g=w=>{s(w),r(!0)},y=[...(p==null?void 0:p.filter(w=>{const j=!l||w.card.name.toLowerCase().includes(l.toLowerCase())||w.card.set.name.toLowerCase().includes(l.toLowerCase()),N=d==="all"||w.card.setId.toString()===d;return j&&N}))||[]].sort((w,j)=>{switch(h){case"price-low":return parseFloat(w.salePrice||"0")-parseFloat(j.salePrice||"0");case"price-high":return parseFloat(j.salePrice||"0")-parseFloat(w.salePrice||"0");case"newest":return new Date(j.acquiredDate).getTime()-new Date(w.acquiredDate).getTime();case"oldest":return new Date(w.acquiredDate).getTime()-new Date(j.acquiredDate).getTime();default:return 0}});return(t==null?void 0:t.plan)==="SIDE_KICK"?i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 px-6 py-4",children:i.jsx("h2",{className:"text-2xl font-bebas text-gray-900 tracking-wide",children:"MARKETPLACE"})}),i.jsx("div",{className:"flex items-center justify-center min-h-[60vh] p-6",children:i.jsxs("div",{className:"max-w-lg mx-auto text-center",children:[i.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-yellow-100 to-orange-100 rounded-full flex items-center justify-center mx-auto mb-8",children:i.jsx(Iv,{className:"h-16 w-16 text-yellow-600"})}),i.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Marketplace Access"}),i.jsx("h4",{className:"text-xl font-semibold text-yellow-600 mb-4",children:"SUPER HERO Feature"}),i.jsx("p",{className:"text-gray-600 mb-8 leading-relaxed",children:"The Marketplace is an exclusive feature for SUPER HERO members. Buy and sell cards with other collectors, access premium listings, and unlock the full trading experience."}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-8",children:[i.jsx("h5",{className:"font-semibold text-gray-900 mb-3",children:"What you'll get with SUPER HERO:"}),i.jsxs("ul",{className:"text-left space-y-2 text-gray-600",children:[i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(jr,{className:"w-4 h-4 text-yellow-500"}),"Full marketplace access"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(jr,{className:"w-4 h-4 text-yellow-500"}),"Buy & sell with collectors"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(jr,{className:"w-4 h-4 text-yellow-500"}),"Unlimited card storage"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(jr,{className:"w-4 h-4 text-yellow-500"}),"Priority support"]})]})]}),i.jsxs($,{onClick:()=>o(!0),className:"bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-yellow-900 font-bold px-8 py-3 text-lg",children:[i.jsx(jr,{className:"w-5 h-5 mr-2"}),"Upgrade to SUPER HERO"]}),i.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Only $4/month  Cancel anytime"})]})})]}):b?i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 px-6 py-4",children:i.jsx("h2",{className:"text-2xl font-bebas text-gray-900 tracking-wide",children:"MARKETPLACE"})}),i.jsx("div",{className:"p-6",children:i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:[...Array(12)].map((w,j)=>i.jsx(re,{className:"animate-pulse",children:i.jsxs(ie,{className:"p-0",children:[i.jsx("div",{className:"w-full aspect-[2.5/3.5] bg-gray-200 rounded-t-lg"}),i.jsxs("div",{className:"p-3 space-y-2",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded"}),i.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"})]})]})},j))})})]}):i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 px-6 py-4",children:i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx("h2",{className:"text-2xl font-bebas text-gray-900 tracking-wide",children:"MARKETPLACE"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(ss,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(ne,{placeholder:"Search cards, sets, or sellers...",value:l,onChange:w=>c(w.target.value),className:"pl-10"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(qt,{value:d,onValueChange:u,children:[i.jsx(zt,{className:"w-40",children:i.jsx(Kt,{placeholder:"All Sets"})}),i.jsxs(Vt,{children:[i.jsx(ke,{value:"all",children:"All Sets"}),m==null?void 0:m.map(w=>i.jsx(ke,{value:w.id.toString(),children:w.name},w.id))]})]}),i.jsxs(qt,{value:h,onValueChange:f,children:[i.jsx(zt,{className:"w-40",children:i.jsx(Kt,{placeholder:"Sort by"})}),i.jsxs(Vt,{children:[i.jsx(ke,{value:"newest",children:"Newest First"}),i.jsx(ke,{value:"oldest",children:"Oldest First"}),i.jsx(ke,{value:"price-low",children:"Price: Low to High"}),i.jsx(ke,{value:"price-high",children:"Price: High to Low"})]})]})]})]}),i.jsxs("div",{className:"text-sm text-gray-600",children:[y.length," cards available for purchase"]})]})}),i.jsx("div",{className:"p-6",children:y.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[i.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-full flex items-center justify-center mb-6",children:i.jsx(PT,{className:"h-12 w-12 text-gray-400"})}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Cards Found"}),i.jsx("p",{className:"text-gray-600 mb-6 max-w-md",children:l||d!=="all"?"Try adjusting your search criteria or filters.":"No cards are currently listed for sale in the marketplace."})]}):i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:y.map(w=>i.jsx(re,{className:"group hover:shadow-lg transition-all duration-200 cursor-pointer",onClick:()=>g(w.card),children:i.jsxs(ie,{className:"p-0",children:[i.jsxs("div",{className:"relative aspect-[2.5/3.5] bg-gray-100 rounded-t-lg overflow-hidden",children:[w.card.frontImageUrl?i.jsx("img",{src:w.card.frontImageUrl,alt:w.card.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"}):i.jsx("div",{className:"w-full h-full bg-gradient-to-br from-red-100 to-red-200 flex items-center justify-center",children:i.jsx("span",{className:"text-red-600 font-bold text-xs text-center px-2",children:w.card.name})}),i.jsx("div",{className:"absolute bottom-2 left-2 flex gap-1",children:w.card.isInsert&&i.jsx("div",{className:"bg-purple-600 text-white rounded-full w-5 h-5 flex items-center justify-center",children:i.jsx("span",{className:"text-xs",children:""})})}),w.salePrice&&i.jsx("div",{className:"absolute top-2 right-2",children:i.jsxs(ve,{className:"bg-green-100 text-green-800 text-sm font-bold px-2 py-1",children:["$",parseFloat(w.salePrice).toFixed(2)]})})]}),i.jsxs("div",{className:"p-3 space-y-1",children:[i.jsx("h3",{className:"font-semibold text-sm text-gray-900 line-clamp-2 leading-tight",children:w.card.name}),i.jsxs("p",{className:"text-xs text-gray-600",children:[w.card.set.name," #",w.card.cardNumber]}),i.jsxs("div",{className:"flex items-center justify-between mt-2",children:[i.jsx(ve,{variant:"outline",className:"text-xs",children:w.condition}),i.jsx($,{size:"sm",className:"h-6 px-2 text-xs bg-red-600 hover:bg-red-700 text-white",onClick:j=>{j.stopPropagation()},children:"Buy Now"})]})]})]})},w.id))})}),i.jsx(Br,{card:e,isOpen:n,onClose:()=>{r(!1),s(null)},isInCollection:!1,isInWishlist:!1}),i.jsx(eM,{isOpen:a,onClose:()=>o(!1),reason:"marketplace"})]})}var lb="Tabs",[Kq,qte]=hs(lb,[Ep]),qR=Ep(),[Gq,cb]=Kq(lb),KR=x.forwardRef((t,e)=>{const{__scopeTabs:s,value:n,onValueChange:r,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=t,u=Zu(l),[h,f]=rr({prop:n,onChange:r,defaultProp:a});return i.jsx(Gq,{scope:s,baseId:Pr(),value:h,onValueChange:f,orientation:o,dir:u,activationMode:c,children:i.jsx(je.div,{dir:u,"data-orientation":o,...d,ref:e})})});KR.displayName=lb;var GR="TabsList",QR=x.forwardRef((t,e)=>{const{__scopeTabs:s,loop:n=!0,...r}=t,a=cb(GR,s),o=qR(s);return i.jsx(TM,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:i.jsx(je.div,{role:"tablist","aria-orientation":a.orientation,...r,ref:e})})});QR.displayName=GR;var ZR="TabsTrigger",YR=x.forwardRef((t,e)=>{const{__scopeTabs:s,value:n,disabled:r=!1,...a}=t,o=cb(ZR,s),l=qR(s),c=e4(o.baseId,n),d=t4(o.baseId,n),u=n===o.value;return i.jsx(AM,{asChild:!0,...l,focusable:!r,active:u,children:i.jsx(je.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:c,...a,ref:e,onMouseDown:pe(t.onMouseDown,h=>{!r&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:pe(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:pe(t.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!r&&h&&o.onValueChange(n)})})})});YR.displayName=ZR;var XR="TabsContent",JR=x.forwardRef((t,e)=>{const{__scopeTabs:s,value:n,forceMount:r,children:a,...o}=t,l=cb(XR,s),c=e4(l.baseId,n),d=t4(l.baseId,n),u=n===l.value,h=x.useRef(u);return x.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),i.jsx(Ss,{present:r||u,children:({present:f})=>i.jsx(je.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:f&&a})})});JR.displayName=XR;function e4(t,e){return`${t}-trigger-${e}`}function t4(t,e){return`${t}-content-${e}`}var Qq=KR,s4=QR,n4=YR,r4=JR;const Ic=Qq,zo=x.forwardRef(({className:t,...e},s)=>i.jsx(s4,{ref:s,className:ye("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));zo.displayName=s4.displayName;const Mt=x.forwardRef(({className:t,...e},s)=>i.jsx(n4,{ref:s,className:ye("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Mt.displayName=n4.displayName;const Rt=x.forwardRef(({className:t,...e},s)=>i.jsx(r4,{ref:s,className:ye("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Rt.displayName=r4.displayName;var Zq="Separator",DN="horizontal",Yq=["horizontal","vertical"],i4=x.forwardRef((t,e)=>{const{decorative:s,orientation:n=DN,...r}=t,a=Xq(n)?n:DN,l=s?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return i.jsx(je.div,{"data-orientation":a,...l,...r,ref:e})});i4.displayName=Zq;function Xq(t){return Yq.includes(t)}var a4=i4;const Ar=x.forwardRef(({className:t,orientation:e="horizontal",decorative:s=!0,...n},r)=>i.jsx(a4,{ref:r,decorative:s,orientation:e,className:ye("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));Ar.displayName=a4.displayName;var db="Avatar",[Jq,Kte]=hs(db),[eK,o4]=Jq(db),l4=x.forwardRef((t,e)=>{const{__scopeAvatar:s,...n}=t,[r,a]=x.useState("idle");return i.jsx(eK,{scope:s,imageLoadingStatus:r,onImageLoadingStatusChange:a,children:i.jsx(je.span,{...n,ref:e})})});l4.displayName=db;var c4="AvatarImage",d4=x.forwardRef((t,e)=>{const{__scopeAvatar:s,src:n,onLoadingStatusChange:r=()=>{},...a}=t,o=o4(c4,s),l=tK(n,a),c=At(d=>{r(d),o.onImageLoadingStatusChange(d)});return Bt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(je.img,{...a,ref:e,src:n}):null});d4.displayName=c4;var u4="AvatarFallback",h4=x.forwardRef((t,e)=>{const{__scopeAvatar:s,delayMs:n,...r}=t,a=o4(u4,s),[o,l]=x.useState(n===void 0);return x.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&a.imageLoadingStatus!=="loaded"?i.jsx(je.span,{...r,ref:e}):null});h4.displayName=u4;function ON(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function tK(t,{referrerPolicy:e,crossOrigin:s}){const n=nK(),r=x.useRef(null),a=n?(r.current||(r.current=new window.Image),r.current):null,[o,l]=x.useState(()=>ON(a,t));return Bt(()=>{l(ON(a,t))},[a,t]),Bt(()=>{const c=h=>()=>{l(h)};if(!a)return;const d=c("loaded"),u=c("error");return a.addEventListener("load",d),a.addEventListener("error",u),e&&(a.referrerPolicy=e),typeof s=="string"&&(a.crossOrigin=s),()=>{a.removeEventListener("load",d),a.removeEventListener("error",u)}},[a,s,e]),o}function sK(){return()=>{}}function nK(){return x.useSyncExternalStore(sK,()=>!0,()=>!1)}var f4=l4,m4=d4,p4=h4;const gn=x.forwardRef(({className:t,...e},s)=>i.jsx(f4,{ref:s,className:ye("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));gn.displayName=f4.displayName;const xn=x.forwardRef(({className:t,...e},s)=>i.jsx(m4,{ref:s,className:ye("aspect-square h-full w-full",t),...e}));xn.displayName=m4.displayName;const yn=x.forwardRef(({className:t,...e},s)=>i.jsx(p4,{ref:s,className:ye("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));yn.displayName=p4.displayName;function rK(){const{user:t}=cr(),{currentUser:e}=Ys(),{data:s}=Ce({queryKey:["/api/social/friends"],enabled:!!t});return!s||s.length===0?i.jsxs("div",{className:"text-center py-6",children:[i.jsx(ai,{className:"w-12 h-12 mx-auto text-gray-400 mb-3"}),i.jsx("p",{className:"text-gray-500 mb-2",children:"No friends yet"}),i.jsx("p",{className:"text-sm text-gray-400",children:"Connect with other collectors to start building your network"})]}):i.jsxs("div",{children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[s.length," Friend",s.length!==1?"s":""]})}),i.jsx("div",{className:"grid grid-cols-4 gap-4",children:s.slice(0,8).map(n=>{var l,c;const r=e==null?void 0:e.id,o=n.requester.id===r?n.recipient:n.requester;return i.jsxs("div",{className:"text-center",children:[i.jsxs(gn,{className:"w-12 h-12 mx-auto mb-2",children:[i.jsx(xn,{src:o.photoURL}),i.jsx(yn,{className:"bg-gray-400 text-white text-sm",children:((l=o.displayName)==null?void 0:l.charAt(0))||o.username.charAt(0)})]}),i.jsx("p",{className:"text-xs text-gray-600 truncate",children:((c=o.displayName)==null?void 0:c.split(" ")[0])||o.username.split("@")[0]})]},n.id)})}),s.length>8&&i.jsx("div",{className:"text-center mt-4",children:i.jsxs("span",{className:"text-sm text-gray-500",children:["+",s.length-8," more friends"]})})]})}function iK(){const{user:t}=cr(),[,e]=Ns(),{data:s}=Ce({queryKey:["/api/social/user-badges"],enabled:!!t});function n({badgeName:a}){const o="w-8 h-8 text-white";return a.toLowerCase().includes("collector")?i.jsx(_y,{className:o}):a.toLowerCase().includes("chat")||a.toLowerCase().includes("social")||a.toLowerCase().includes("friend")?i.jsx(Nr,{className:o}):a.toLowerCase().includes("hunter")||a.toLowerCase().includes("insert")?i.jsx(Tn,{className:o}):a.toLowerCase().includes("vault")||a.toLowerCase().includes("guardian")?i.jsx(lm,{className:o}):a.toLowerCase().includes("hero")||a.toLowerCase().includes("launch")?i.jsx(jr,{className:o}):a.toLowerCase().includes("hundred")||a.toLowerCase().includes("club")?i.jsx(ui,{className:o}):i.jsx(bn,{className:o})}if(!s||s.length===0)return i.jsxs("div",{className:"text-center py-6",children:[i.jsx(bn,{className:"w-12 h-12 mx-auto text-gray-400 mb-3"}),i.jsx("p",{className:"text-gray-500 mb-2",children:"No super powers earned yet"}),i.jsx("p",{className:"text-sm text-gray-400",children:"Complete activities to earn your first super power"})]});const r={collection:"bg-red-100 text-red-800",social:"bg-gray-100 text-gray-800",engagement:"bg-red-50 text-red-700",achievement:"bg-yellow-100 text-yellow-800"};return i.jsxs("div",{children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[s.length," Super Power",s.length!==1?"s":""," Earned"]})}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:s.slice(0,8).map(a=>i.jsxs("div",{className:"text-center p-4 bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>e("/social?tab=badges"),children:[i.jsx("div",{className:"w-16 h-16 mx-auto mb-2 flex items-center justify-center",children:a.badge.iconUrl?i.jsx("img",{src:a.badge.iconUrl,alt:a.badge.name,className:"w-full h-full object-contain rounded-full border-4 border-gray-300"}):i.jsx("div",{className:"w-full h-full bg-gradient-to-br from-red-500 to-red-600 rounded-full flex items-center justify-center shadow-lg border-4 border-red-400",children:i.jsx(n,{badgeName:a.badge.name})})}),i.jsx("p",{className:"text-xs font-semibold text-gray-900 mb-2",children:a.badge.name}),i.jsx(ve,{variant:"secondary",className:`text-xs ${r[a.badge.category]||"bg-gray-100 text-gray-800"}`,children:a.badge.category})]},a.id))}),s.length>8&&i.jsx("div",{className:"text-center mt-4",children:i.jsxs("span",{className:"text-sm text-gray-500",children:["+",s.length-8," more super powers"]})})]})}function aK(){const{user:t}=cr(),{currentUser:e}=Ys(),{toast:s}=dt(),n=Gt(),[,r]=Ns(),[a,o]=x.useState(!1),[l,c]=x.useState({displayName:(t==null?void 0:t.displayName)||"",bio:"",location:"",website:"",address:{street:"",city:"",state:"",postalCode:"",country:""},privacySettings:{showEmail:!1,showCollection:!0,showWishlist:!0},notifications:{emailUpdates:!0,priceAlerts:!0,friendActivity:!0}}),{data:d}=Ce({queryKey:["/api/user/profile"],enabled:!!t}),{data:u}=Ce({queryKey:["/api/stats"],enabled:!!t}),h=Me({mutationFn:async m=>_e("PATCH","/api/user/profile",m),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/user/profile"]}),o(!1),s({title:"Profile Updated",description:"Your profile has been updated successfully."})},onError:m=>{s({title:"Update Failed",description:m.message,variant:"destructive"})}}),f=()=>{h.mutate(l)},p=m=>m==="SUPER_HERO"?i.jsxs(ve,{className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-yellow-900",children:[i.jsx(jr,{className:"w-3 h-3 mr-1"}),"SUPER HERO"]}):i.jsxs(ve,{variant:"secondary",children:[i.jsx(lm,{className:"w-3 h-3 mr-1"}),"SIDE KICK"]}),b=()=>{var y;if(!((y=t==null?void 0:t.metadata)!=null&&y.creationTime))return"Recently joined";const m=new Date(t.metadata.creationTime),v=Math.floor((new Date().getTime()-m.getTime())/(1e3*60*60*24*30));return v<1?"Joined this month":v===1?"Joined 1 month ago":`Joined ${v} months ago`};return t?i.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsx(re,{className:"mb-6",children:i.jsx(ie,{className:"pt-6",children:i.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[i.jsxs(gn,{className:"w-24 h-24",children:[i.jsx(xn,{src:t.photoURL||"",alt:t.displayName||"User"}),i.jsx(yn,{className:"text-2xl",children:(t.displayName||(e==null?void 0:e.username)||"U").charAt(0).toUpperCase()})]}),i.jsxs("div",{className:"flex-1 text-center md:text-left",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 mb-2",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-3",children:[i.jsx("h1",{className:"text-3xl font-bold",children:t.displayName||"User"}),(e==null?void 0:e.isAdmin)&&i.jsxs(ve,{className:"bg-red-600",children:[i.jsx(lm,{className:"w-3 h-3 mr-1"}),"Admin"]}),p((e==null?void 0:e.plan)||"SIDE_KICK")]}),i.jsxs($,{onClick:()=>o(!a),variant:"outline",size:"sm",className:"bg-background border-border text-foreground hover:bg-accent hover:text-accent-foreground",children:[i.jsx(fp,{className:"h-4 w-4 mr-2"}),a?"Cancel":"Edit Profile"]})]}),i.jsxs("p",{className:"text-muted-foreground mb-2",children:["@",(e==null?void 0:e.username)||"user"]}),i.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[i.jsx(Or,{className:"w-4 h-4 inline mr-1"}),b()]}),i.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(_y,{className:"w-4 h-4 text-yellow-500"}),i.jsx("span",{className:"font-medium",children:(u==null?void 0:u.totalCards)||0}),i.jsx("span",{className:"text-muted-foreground",children:"Cards"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Tn,{className:"w-4 h-4 text-blue-500"}),i.jsx("span",{className:"font-medium",children:(u==null?void 0:u.insertCards)||0}),i.jsx("span",{className:"text-muted-foreground",children:"Inserts"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(lN,{className:"w-4 h-4 text-green-500"}),i.jsxs("span",{className:"font-medium",children:["$",parseFloat(((u==null?void 0:u.totalValue)||0).toString()).toFixed(2)]}),i.jsx("span",{className:"text-muted-foreground",children:"Value"})]})]})]})]})})}),i.jsxs(Ic,{defaultValue:"personal",className:"space-y-6",children:[i.jsxs(zo,{className:"grid w-full grid-cols-4 bg-gray-100 border border-gray-300",children:[i.jsxs(Mt,{value:"personal",className:"text-gray-700 font-medium data-[state=active]:text-white data-[state=active]:bg-gray-900 hover:text-gray-900",children:[i.jsx(Vn,{className:"w-4 h-4 mr-2"}),"Personal"]}),i.jsxs(Mt,{value:"social",className:"text-gray-700 font-medium data-[state=active]:text-white data-[state=active]:bg-gray-900 hover:text-gray-900",children:[i.jsx(ai,{className:"w-4 h-4 mr-2"}),"Social"]}),i.jsxs(Mt,{value:"billing",className:"text-gray-700 font-medium data-[state=active]:text-white data-[state=active]:bg-gray-900 hover:text-gray-900",children:[i.jsx(lN,{className:"w-4 h-4 mr-2"}),"Billing"]}),i.jsxs(Mt,{value:"privacy",className:"text-gray-700 font-medium data-[state=active]:text-white data-[state=active]:bg-gray-900 hover:text-gray-900",children:[i.jsx(Iv,{className:"w-4 h-4 mr-2"}),"Privacy"]})]}),i.jsx(Rt,{value:"personal",children:i.jsxs(re,{children:[i.jsx(be,{children:i.jsx(we,{children:"Personal Information"})}),i.jsxs(ie,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"displayName",children:"Display Name"}),i.jsx(ne,{id:"displayName",value:l.displayName,onChange:m=>c(g=>({...g,displayName:m.target.value})),disabled:!a,placeholder:"Your display name",className:"bg-background text-foreground border-border"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"location",children:"Location"}),i.jsx(ne,{id:"location",value:l.location,onChange:m=>c(g=>({...g,location:m.target.value})),disabled:!a,placeholder:"City, Country",className:"bg-background text-foreground border-border"}),i.jsx(Ev,{className:"w-4 h-4 inline mr-1 mt-1 text-muted-foreground"})]})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"website",children:"Website"}),i.jsx(ne,{id:"website",value:l.website,onChange:m=>c(g=>({...g,website:m.target.value})),disabled:!a,placeholder:"https://yourwebsite.com",className:"bg-background text-foreground border-border"}),i.jsx(AT,{className:"w-4 h-4 inline mr-1 mt-1 text-muted-foreground"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(G,{className:"text-base font-semibold",children:"Shipping Address"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"This address will be used for shipping when buying/selling cards through the marketplace"}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"street",children:"Street Address"}),i.jsx(ne,{id:"street",value:l.address.street,onChange:m=>c(g=>({...g,address:{...g.address,street:m.target.value}})),disabled:!a,placeholder:"123 Main Street",className:"bg-background text-foreground border-border"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"city",children:"City"}),i.jsx(ne,{id:"city",value:l.address.city,onChange:m=>c(g=>({...g,address:{...g.address,city:m.target.value}})),disabled:!a,placeholder:"New York",className:"bg-background text-foreground border-border"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"state",children:"State/Province"}),i.jsx(ne,{id:"state",value:l.address.state,onChange:m=>c(g=>({...g,address:{...g.address,state:m.target.value}})),disabled:!a,placeholder:"NY",className:"bg-background text-foreground border-border"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"postalCode",children:"Postal Code"}),i.jsx(ne,{id:"postalCode",value:l.address.postalCode,onChange:m=>c(g=>({...g,address:{...g.address,postalCode:m.target.value}})),disabled:!a,placeholder:"10001",className:"bg-background text-foreground border-border"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"country",children:"Country"}),i.jsx(ne,{id:"country",value:l.address.country,onChange:m=>c(g=>({...g,address:{...g.address,country:m.target.value}})),disabled:!a,placeholder:"United States",className:"bg-background text-foreground border-border"})]})]})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"bio",children:"Bio"}),i.jsx(ws,{id:"bio",value:l.bio,onChange:m=>c(g=>({...g,bio:m.target.value})),disabled:!a,placeholder:"Tell us about yourself and your collecting interests...",rows:4,className:"bg-background text-foreground border-border"})]}),a&&i.jsxs("div",{className:"flex gap-2",children:[i.jsx($,{onClick:f,disabled:h.isPending,children:h.isPending?"Saving...":"Save Changes"}),i.jsx($,{variant:"outline",onClick:()=>o(!1),className:"bg-gray-800 text-white border-gray-800 hover:bg-gray-900 hover:text-white hover:border-gray-900",children:"Cancel"})]})]})]})}),i.jsx(Rt,{value:"social",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs(re,{children:[i.jsx(be,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(we,{className:"flex items-center gap-2",children:[i.jsx(ai,{className:"w-5 h-5"}),"Friends"]}),i.jsx($,{variant:"outline",size:"sm",onClick:()=>r("/social"),className:"text-red-600 border-red-600 hover:bg-red-50",children:"View All"})]})}),i.jsx(ie,{children:i.jsx(rK,{})})]}),i.jsxs(re,{children:[i.jsx(be,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(we,{className:"flex items-center gap-2",children:[i.jsx(bn,{className:"w-5 h-5"}),"Super Powers"]}),i.jsx($,{variant:"outline",size:"sm",onClick:()=>r("/social?tab=badges"),className:"text-red-600 border-red-600 hover:bg-red-50",children:"View All"})]})}),i.jsx(ie,{children:i.jsx(iK,{})})]}),i.jsxs(re,{children:[i.jsx(be,{children:i.jsxs(we,{className:"flex items-center gap-2",children:[i.jsx(Nr,{className:"w-5 h-5"}),"Social Actions"]})}),i.jsx(ie,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs($,{onClick:()=>r("/social?tab=messages"),className:"bg-red-500 hover:bg-red-600 text-white",children:[i.jsx(Nr,{className:"w-4 h-4 mr-2"}),"Send Message"]}),i.jsxs($,{onClick:()=>r("/social?tab=friends"),variant:"outline",className:"border-red-600 text-red-600 hover:bg-red-50",children:[i.jsx(ll,{className:"w-4 h-4 mr-2"}),"Find Friends"]})]})})]})]})}),i.jsx(Rt,{value:"billing",children:i.jsxs(re,{children:[i.jsx(be,{children:i.jsx(we,{children:"Billing & Subscription"})}),i.jsx(ie,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:"Current Plan"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:(d==null?void 0:d.plan)==="SUPER_HERO"?"SUPER HERO - $4/month":"SIDE KICK - Free"})]}),p((d==null?void 0:d.plan)||"SIDE_KICK")]}),(d==null?void 0:d.plan)==="SIDE_KICK"&&i.jsxs("div",{className:"p-4 bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-lg",children:[i.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Upgrade to SUPER HERO"}),i.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1 mb-3",children:[i.jsx("li",{children:" Unlimited card collection"}),i.jsx("li",{children:" Access to marketplace"}),i.jsx("li",{children:" Advanced analytics"}),i.jsx("li",{children:" Priority support"})]}),i.jsxs($,{className:"bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600",children:[i.jsx(jr,{className:"w-4 h-4 mr-2"}),"Upgrade Now"]})]}),(d==null?void 0:d.plan)==="SUPER_HERO"&&i.jsxs("div",{className:"space-y-4",children:[i.jsx(Ar,{}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Payment Method"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Payment and subscription management will be integrated with Stripe."}),i.jsx(ve,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"Stripe Integration Coming Soon"})]})]})]})})]})}),i.jsx(Rt,{value:"privacy",children:i.jsxs(re,{children:[i.jsx(be,{children:i.jsx(we,{children:"Privacy & Notifications"})}),i.jsxs(ie,{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-3",children:"Privacy Settings"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ig,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:"Show email publicly"})]}),i.jsx($,{variant:"outline",size:"sm",onClick:()=>c(m=>({...m,privacySettings:{...m.privacySettings,showEmail:!m.privacySettings.showEmail}})),children:l.privacySettings.showEmail?i.jsx(Ig,{className:"w-4 h-4"}):i.jsx(Ka,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(_y,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:"Show collection publicly"})]}),i.jsx($,{variant:"outline",size:"sm",onClick:()=>c(m=>({...m,privacySettings:{...m.privacySettings,showCollection:!m.privacySettings.showCollection}})),children:l.privacySettings.showCollection?i.jsx(Ig,{className:"w-4 h-4"}):i.jsx(Ka,{className:"w-4 h-4"})})]})]})]}),i.jsx(Ar,{}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-3",children:"Notification Preferences"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(So,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:"Email updates"})]}),i.jsx($,{variant:"outline",size:"sm",onClick:()=>c(m=>({...m,notifications:{...m.notifications,emailUpdates:!m.notifications.emailUpdates}})),children:l.notifications.emailUpdates?"On":"Off"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ui,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:"Price alerts"})]}),i.jsx($,{variant:"outline",size:"sm",onClick:()=>c(m=>({...m,notifications:{...m.notifications,priceAlerts:!m.notifications.priceAlerts}})),children:l.notifications.priceAlerts?"On":"Off"})]})]})]})]})]})})]})]})}):i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("p",{children:"Please sign in to view your profile."})})}function oK(){var jt,ut,ft,Nt,S,T,V;const[t,e]=x.useState(null),[s,n]=x.useState(""),[r,a]=x.useState(""),[o,l]=x.useState([]),[c,d]=x.useState(!1),[u,h]=x.useState("friends"),[f,p]=x.useState(null),[b,m]=x.useState(!1),[g,v]=x.useState(""),[y,w]=x.useState("all"),[j,N]=x.useState("grid"),[C,_]=x.useState(!1),[k,M]=x.useState(null),L=Gt(),{user:O}=cr(),{currentUser:I}=Ys();x.useEffect(()=>{new URLSearchParams(window.location.search).get("tab")==="messages"&&h("messages")},[]),x.useEffect(()=>{const E=U=>{h("messages"),e(U.detail.friendId)},R=()=>{h("messages")};return window.addEventListener("switchToMessages",E),window.addEventListener("switchToMessagesTab",R),()=>{window.removeEventListener("switchToMessages",E),window.removeEventListener("switchToMessagesTab",R)}},[]);const B=async()=>O?{Authorization:`Bearer ${await O.getIdToken()}`}:{},{data:H=[],isLoading:J}=Ce({queryKey:["social/friends"],queryFn:async()=>{const E=await B(),R=await fetch("/api/social/friends",{headers:E});if(!R.ok)throw new Error("Failed to fetch friends");const U=await R.json(),K=new Map,Ne=I==null?void 0:I.id;return U.forEach(Pe=>{const nt=Pe.requester.id===Ne?Pe.recipient:Pe.requester;K.has(nt.id)||K.set(nt.id,{...Pe,requester:Pe.requester.id===Ne?Pe.requester:Pe.recipient,recipient:Pe.requester.id===Ne?Pe.recipient:Pe.requester})}),Array.from(K.values())},enabled:!!O}),{data:z=[]}=Ce({queryKey:["social/message-threads"],queryFn:async()=>{const E=await B(),R=await fetch("/api/social/message-threads",{headers:E});if(!R.ok)throw new Error("Failed to fetch message threads");return R.json()},enabled:!!O}),{data:q=[]}=Ce({queryKey:["social/friend-requests"],queryFn:async()=>{const E=await B(),R=await fetch("/api/social/friend-requests",{headers:E});if(!R.ok)throw new Error("Failed to fetch friend requests");return R.json()},enabled:!!O}),{data:F=[]}=Ce({queryKey:["social/pending-invitations"],queryFn:async()=>{const E=await B(),R=await fetch("/api/social/pending-invitations",{headers:E});if(!R.ok)throw new Error("Failed to fetch pending invitations");return R.json()},enabled:!!O}),{data:W=[]}=Ce({queryKey:["social/user-badges"],queryFn:async()=>{const E=await B(),R=await fetch("/api/social/user-badges",{headers:E});if(!R.ok)throw new Error("Failed to fetch user badges");return R.json()},enabled:!!O}),{data:Q,isLoading:ae}=Ce({queryKey:["social/friend-profile",f==null?void 0:f.id],queryFn:async()=>{const E=await B(),R=await fetch(`/api/social/friends/${f.id}/profile`,{headers:E});if(!R.ok)throw new Error("Failed to fetch friend profile");return R.json()},enabled:!!O&&!!f}),{data:he=[],isLoading:Be}=Ce({queryKey:["social/friend-collection",f==null?void 0:f.id],queryFn:async()=>{const E=await B(),R=await fetch(`/api/social/friends/${f.id}/collection`,{headers:E});if(!R.ok)throw new Error("Failed to fetch friend collection");return R.json()},enabled:!!O&&!!f}),{data:Ae=[],isLoading:Ye}=Ce({queryKey:["social/friend-badges",f==null?void 0:f.id],queryFn:async()=>{const E=await B(),R=await fetch(`/api/social/friends/${f.id}/badges`,{headers:E});if(!R.ok)throw new Error("Failed to fetch friend badges");return R.json()},enabled:!!O&&!!f}),{data:Ue=[]}=Ce({queryKey:["badges"],queryFn:async()=>{const E=await B(),R=await fetch("/api/badges",{headers:E});if(!R.ok)throw new Error("Failed to fetch badges");return R.json()},enabled:!!O}),{data:ce=[],refetch:Ee}=Ce({queryKey:["social/messages",t],queryFn:async()=>{if(!t)return[];const E=await B(),R=await fetch(`/api/social/messages/${t}`,{headers:E});if(!R.ok)throw new Error("Failed to fetch messages");return R.json()},enabled:!!t&&!!O}),P=Me({mutationFn:async({friendId:E,status:R})=>{const U=await B(),K=await fetch(`/api/social/friend-request/${E}/respond`,{method:"POST",headers:{"Content-Type":"application/json",...U},body:JSON.stringify({status:R})});if(!K.ok)throw new Error("Failed to respond to friend request");return K.json()},onSuccess:()=>{L.invalidateQueries({queryKey:["social/friend-requests"]}),L.invalidateQueries({queryKey:["social/friends"]}),L.invalidateQueries({queryKey:["social/pending-invitations"]}),Js({title:"Success",description:"Friend request responded to successfully"})},onError:()=>{Js({title:"Error",description:"Failed to respond to friend request",variant:"destructive"})}}),Z=Me({mutationFn:async({recipientId:E,content:R})=>{const U=await B(),K=await fetch("/api/social/messages",{method:"POST",headers:{"Content-Type":"application/json",...U},body:JSON.stringify({recipientId:E,content:R})});if(!K.ok)throw new Error("Failed to send message");return K.json()},onSuccess:()=>{L.invalidateQueries({queryKey:["social/messages",t]}),L.invalidateQueries({queryKey:["social/message-threads"]}),n(""),Js({title:"Success",description:"Message sent successfully"})},onError:()=>{Js({title:"Error",description:"Failed to send message",variant:"destructive"})}});Me({mutationFn:async()=>{const E=await B(),R=await fetch("/api/social/check-badges",{method:"POST",headers:E});if(!R.ok)throw new Error("Failed to check badges");return R.json()},onSuccess:E=>{E.newBadges.length>0&&Js({title:"New Badges Earned!",description:`You earned ${E.newBadges.length} new badge(s)!`}),L.invalidateQueries({queryKey:["social/user-badges"]})}});const oe=Me({mutationFn:async({recipientId:E})=>{const R=await B(),U=await fetch("/api/social/friend-request",{method:"POST",headers:{"Content-Type":"application/json",...R},body:JSON.stringify({recipientId:E})});if(!U.ok)throw new Error("Failed to send friend request");return U.json()},onSuccess:()=>{L.invalidateQueries({queryKey:["social/friends"]}),L.invalidateQueries({queryKey:["social/pending-invitations"]}),Js({title:"Success",description:"Friend request sent successfully"}),l([]),a("")},onError:()=>{Js({title:"Error",description:"Failed to send friend request",variant:"destructive"})}}),Y=async E=>{if(E.trim().length<2){l([]);return}d(!0);try{const R=await B(),U=await fetch(`/api/social/search-users?q=${encodeURIComponent(E)}`,{headers:R});if(!U.ok)throw new Error("Failed to search users");const K=await U.json();l(K)}catch(R){console.error("Search error:",R),l([])}finally{d(!1)}},Ie=E=>{const R=E.target.value;a(R),Y(R)},De=E=>{switch(E){case"Collection":return"bg-blue-500 text-white";case"Social":return"bg-green-500 text-white";case"Achievement":return"bg-purple-500 text-white";case"Event":return"bg-yellow-500 text-black";default:return"bg-gray-100 text-gray-800"}},ee=E=>{switch(E){case"bronze":return"bg-gradient-to-br from-amber-600 to-amber-800 border-amber-500";case"silver":return"bg-gradient-to-br from-gray-400 to-gray-600 border-gray-400";case"gold":return"bg-gradient-to-br from-yellow-400 to-yellow-600 border-yellow-400";case"platinum":return"bg-gradient-to-br from-purple-400 to-purple-600 border-purple-400";default:return"bg-gradient-to-br from-gray-400 to-gray-600 border-gray-400"}},ze=E=>{switch(E){case"bronze":return"shadow-lg shadow-amber-500/50";case"silver":return"shadow-lg shadow-gray-400/50";case"gold":return"shadow-lg shadow-yellow-400/50";case"platinum":return"shadow-lg shadow-purple-400/50";default:return"shadow-lg shadow-gray-400/50"}},Ke=E=>{switch(E){case"bronze":return"";case"silver":return"";case"gold":return"";case"platinum":return"";default:return""}};return i.jsxs("div",{className:"container mx-auto p-6 max-w-6xl",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs("div",{className:"relative inline-block",children:[i.jsx("h1",{className:"text-4xl font-black text-black font-bebas tracking-wider",children:"SOCIAL HUB"}),i.jsx("div",{className:"absolute -bottom-1 left-0 w-full h-1 bg-gradient-to-r from-marvel-red to-red-600 rounded-full"})]}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Connect with friends and show off your collection"})]}),i.jsxs(Ic,{value:u,onValueChange:h,className:"w-full",children:[i.jsxs(zo,{className:`grid w-full ${b?"grid-cols-4":"grid-cols-3"} bg-transparent p-0 h-auto gap-1 mb-4`,children:[i.jsxs(Mt,{value:"friends",className:"relative bg-white border-2 border-marvel-red rounded-t-lg py-2 px-3 font-bold text-sm text-marvel-red data-[state=active]:bg-marvel-red data-[state=active]:text-white hover:scale-105 transition-all duration-200",children:[i.jsx(ai,{className:"w-4 h-4 mr-1"}),"FRIENDS",H.length>0&&i.jsx(ve,{className:"ml-1 bg-blue-500 text-white text-xs px-1 py-0.5 rounded-full",children:H.length})]}),i.jsxs(Mt,{value:"messages",className:"relative bg-white border-2 border-marvel-red rounded-t-lg py-2 px-3 font-bold text-sm text-marvel-red data-[state=active]:bg-marvel-red data-[state=active]:text-white hover:scale-105 transition-all duration-200",children:[i.jsx(Nr,{className:"w-4 h-4 mr-1"}),"MESSAGES"]}),i.jsxs(Mt,{value:"badges",className:"relative bg-white border-2 border-marvel-red rounded-t-lg py-2 px-3 font-bold text-sm text-marvel-red data-[state=active]:bg-marvel-red data-[state=active]:text-white hover:scale-105 transition-all duration-200",children:[i.jsx(bn,{className:"w-4 h-4 mr-1"}),i.jsx("span",{className:"hidden sm:inline",children:"SUPER POWERS"}),i.jsx("span",{className:"sm:hidden",children:"POWERS"}),W.length>0&&i.jsx(ve,{className:"ml-1 bg-yellow-500 text-black text-xs px-1 py-0.5 rounded-full",children:W.length})]}),b&&i.jsxs(Mt,{value:"profile",className:"relative bg-white border-2 border-marvel-red rounded-t-lg py-2 px-3 font-bold text-sm text-marvel-red data-[state=active]:bg-marvel-red data-[state=active]:text-white hover:scale-105 transition-all duration-200",children:[i.jsx(Vn,{className:"w-4 h-4 mr-1"}),(f==null?void 0:f.displayName)||(f==null?void 0:f.username)||"PROFILE",i.jsx("span",{className:"ml-2 h-4 w-4 p-0 text-current hover:bg-white/20 cursor-pointer rounded inline-flex items-center justify-center",onClick:E=>{E.stopPropagation(),m(!1),p(null),h("friends")},children:i.jsx(Er,{className:"w-3 h-3"})})]})]}),i.jsx(Rt,{value:"friends",className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[i.jsxs(re,{className:"border-2 border-marvel-red bg-gradient-to-br from-white to-blue-50 shadow-lg",children:[i.jsx(be,{className:"bg-gradient-to-r from-marvel-red to-red-600 text-white p-3",style:{backgroundColor:"#EF4444"},children:i.jsxs(we,{className:"font-bebas text-lg tracking-wide flex items-center",style:{color:"white"},children:[i.jsx(ai,{className:"w-5 h-5 mr-2",style:{color:"white"}}),i.jsxs("span",{style:{color:"white"},className:"text-[#151515]",children:["MY HEROES (",H.length,")"]})]})}),i.jsxs(ie,{className:"p-4",children:[i.jsxs("div",{className:"mb-4 p-3 bg-white rounded-lg border border-gray-200",children:[i.jsxs("div",{className:"flex items-center mb-2",children:[i.jsx(ll,{className:"w-4 h-4 mr-2 text-green-600"}),i.jsx("h3",{className:"font-semibold text-gray-800",children:"Find New Heroes"})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(ne,{placeholder:"Search for heroes by username...",value:r,onChange:Ie,className:"flex-1 border-gray-300 focus:border-green-500 bg-white text-gray-900 placeholder-gray-500"}),i.jsxs($,{onClick:()=>Y(r),disabled:c||!r.trim(),className:"bg-green-500 hover:bg-green-600 text-white",children:[i.jsx(ss,{className:"w-4 h-4 mr-1"}),"Search"]})]}),c&&i.jsxs("div",{className:"mt-3 text-center",children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-5 w-5 border-b-2 border-green-500"}),i.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Searching heroes..."})]}),o.length>0&&i.jsx("div",{className:"mt-3 space-y-2",children:o.map(E=>{var R;return i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs(gn,{className:"w-10 h-10",children:[i.jsx(xn,{src:E.photoURL}),i.jsx(yn,{className:"bg-green-500 text-white font-bold",children:((R=E.displayName)==null?void 0:R.charAt(0))||E.username.charAt(0)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-gray-900",children:E.displayName}),i.jsxs("p",{className:"text-sm text-gray-500",children:["@",E.username]})]})]}),i.jsxs($,{onClick:()=>oe.mutate({recipientId:E.id}),disabled:oe.isPending,className:"bg-green-500 hover:bg-green-600 text-white",children:[i.jsx(ll,{className:"w-4 h-4 mr-1"}),"Add Friend"]})]},E.id)})})]}),J?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-marvel-red border-t-transparent rounded-full mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600 font-medium",children:"Loading your team..."})]}):H.length===0?i.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[i.jsx(ai,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),i.jsx("p",{className:"text-xl font-bold text-gray-600 mb-2",children:"No Heroes Yet!"}),i.jsx("p",{className:"text-gray-500",children:"Use the search above to find fellow Marvel fans"})]}):i.jsx("div",{className:"grid gap-4",children:H.map(E=>{var Ne;const R=I==null?void 0:I.id,K=E.requester.id===R?E.recipient:E.requester;return i.jsx("div",{className:"bg-white rounded-lg border border-blue-200 p-3 shadow-sm hover:shadow-md transition-all duration-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs(gn,{className:"w-10 h-10 border-2 border-marvel-red",children:[i.jsx(xn,{src:K.photoURL}),i.jsx(yn,{className:"bg-marvel-red text-white font-bold text-sm",children:((Ne=K.displayName)==null?void 0:Ne.charAt(0))||K.username.charAt(0)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-gray-800 text-sm",children:K.displayName||K.username}),i.jsxs("p",{className:"text-xs text-gray-600",children:["@",K.username]}),i.jsxs("div",{className:"flex items-center mt-1",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mr-1"}),i.jsx("span",{className:"text-xs text-green-600",children:"Online"})]})]})]}),i.jsxs("div",{className:"flex space-x-1",children:[i.jsxs($,{size:"sm",onClick:()=>{e(K.id);const Pe=new CustomEvent("switchToMessages",{detail:{friendId:K.id}});window.dispatchEvent(Pe)},className:"bg-blue-500 hover:bg-blue-600 text-white font-bold px-2 py-1.5 rounded text-xs sm:px-3",children:[i.jsx(Nr,{className:"w-3 h-3 sm:mr-1"}),i.jsx("span",{className:"hidden sm:inline",children:"Message"})]}),i.jsxs($,{size:"sm",onClick:()=>{p(K),m(!0),h("profile")},className:"bg-green-500 hover:bg-green-600 text-white font-bold px-2 py-1.5 rounded text-xs sm:px-3",children:[i.jsx(Vn,{className:"w-3 h-3 sm:mr-1"}),i.jsx("span",{className:"hidden sm:inline",children:"View Profile"})]})]})]})},E.id)})})]})]}),i.jsxs(re,{className:"border-2 border-yellow-500 bg-gradient-to-br from-white to-yellow-50 shadow-lg",children:[i.jsx(be,{className:"bg-gradient-to-r from-yellow-500 to-yellow-600 text-black p-3",children:i.jsxs(we,{className:"font-bebas text-lg tracking-wide flex items-center",children:[i.jsx(Sr,{className:"w-5 h-5 mr-2"}),"PENDING INVITATIONS (",F.length,")"]})}),i.jsx(ie,{className:"p-4",children:F.length===0?i.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[i.jsx(Sr,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),i.jsx("p",{className:"text-xl font-bold text-gray-600 mb-2",children:"No Pending Invitations"}),i.jsx("p",{className:"text-gray-500",children:"Send invitations to grow your team!"})]}):i.jsx("div",{className:"grid gap-4",children:F.map(E=>{var R;return i.jsx("div",{className:"bg-white rounded-lg border-2 border-yellow-200 p-4 shadow-sm hover:shadow-md transition-all duration-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(gn,{className:"w-12 h-12 border-2 border-yellow-500",children:[i.jsx(xn,{src:E.recipient.photoURL}),i.jsx(yn,{className:"bg-yellow-500 text-black font-bold",children:((R=E.recipient.displayName)==null?void 0:R.charAt(0))||E.recipient.username.charAt(0)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-gray-800",children:E.recipient.displayName||E.recipient.username}),i.jsxs("p",{className:"text-sm text-gray-600",children:["@",E.recipient.username]}),i.jsxs("p",{className:"text-xs text-yellow-600 font-medium mt-1 flex items-center",children:[i.jsx(Sr,{className:"w-3 h-3 mr-1"}),"Invitation pending"]})]})]}),i.jsx("div",{className:"flex space-x-2",children:i.jsx(ve,{variant:"outline",className:"bg-yellow-100 text-yellow-800 border-yellow-300",children:"Waiting for response"})})]})},E.id)})})})]}),i.jsxs(re,{className:"border-2 border-green-500 bg-gradient-to-br from-white to-green-50 shadow-lg",children:[i.jsx(be,{className:"bg-gradient-to-r from-green-500 to-green-600 text-black p-3",children:i.jsxs(we,{className:"font-bebas text-lg tracking-wide flex items-center",children:[i.jsx(Vn,{className:"w-5 h-5 mr-2"}),"RECRUITMENT (",q.length,")"]})}),i.jsx(ie,{className:"p-4",children:q.length===0?i.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[i.jsx(Vn,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),i.jsx("p",{className:"text-xl font-bold text-gray-600 mb-2",children:"No Pending Requests"}),i.jsx("p",{className:"text-gray-500",children:"All heroes have been recruited!"})]}):i.jsx("div",{className:"grid gap-4",children:q.map(E=>{var R;return i.jsx("div",{className:"bg-white rounded-lg border-2 border-green-200 p-4 shadow-sm hover:shadow-md transition-all duration-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(gn,{className:"w-12 h-12 border-2 border-green-500",children:[i.jsx(xn,{src:E.requester.photoURL}),i.jsx(yn,{className:"bg-green-500 text-black font-bold",children:((R=E.requester.displayName)==null?void 0:R.charAt(0))||E.requester.username.charAt(0)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-gray-800",children:E.requester.displayName||E.requester.username}),i.jsxs("p",{className:"text-sm text-gray-600",children:["@",E.requester.username]}),i.jsx("p",{className:"text-xs text-green-600 font-medium mt-1",children:"Wants to join your team"})]})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs($,{size:"sm",onClick:()=>P.mutate({friendId:E.id,status:"accepted"}),disabled:P.isPending,className:"bg-green-500 hover:bg-green-600 text-white font-bold px-4 py-2 rounded-lg",children:[i.jsx(an,{className:"w-4 h-4 mr-1"}),"Accept"]}),i.jsxs($,{size:"sm",onClick:()=>P.mutate({friendId:E.id,status:"declined"}),disabled:P.isPending,className:"bg-red-500 hover:bg-red-600 text-white font-bold px-4 py-2 rounded-lg",children:[i.jsx(Er,{className:"w-4 h-4 mr-1"}),"Decline"]})]})]})},E.id)})})})]})]})}),i.jsx(Rt,{value:"messages",className:"h-[80vh] bg-white",children:i.jsxs("div",{className:"h-full flex rounded-lg overflow-hidden border border-gray-200 shadow-sm",children:[i.jsxs("div",{className:"w-2/5 border-r border-gray-200 bg-white flex flex-col",children:[i.jsxs("div",{className:"p-4 bg-gray-50 border-b border-gray-200 flex items-center justify-between",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 hidden md:block",children:"Messages"}),i.jsx("h2",{className:"text-sm font-semibold text-gray-900 block md:hidden",children:"Chats"}),i.jsxs($,{size:"sm",onClick:()=>h("friends"),className:"bg-blue-500 hover:bg-blue-600 text-white text-xs px-2 py-1",children:[i.jsx(ll,{className:"w-3 h-3 mr-1 hidden md:block"}),i.jsx(ll,{className:"w-4 h-4 block md:hidden"}),i.jsx("span",{className:"hidden md:block",children:"New"})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto",children:z.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center px-6",children:[i.jsx(Nr,{className:"w-16 h-16 text-gray-300 mb-4"}),i.jsx("p",{className:"text-gray-500 text-sm",children:"No conversations"}),i.jsx("p",{className:"text-gray-400 text-xs",children:"Send a message to start chatting"}),i.jsx($,{onClick:()=>h("friends"),className:"mt-4 bg-blue-500 hover:bg-blue-600 text-white text-sm px-4 py-2",children:"View Friends"})]}):i.jsx("div",{className:"divide-y divide-gray-100",children:z.map(E=>{var Ne,Pe,nt;const R=E.user,U=E.lastMessage,K=E.unreadCount||0;return i.jsxs("div",{onClick:()=>e(R.id),className:`cursor-pointer transition-colors duration-150 hover:bg-gray-50 ${t===R.id?"bg-blue-50 border-r-3 border-blue-500":"bg-white"}`,children:[i.jsx("div",{className:"block md:hidden p-3",children:i.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[i.jsxs("div",{className:"relative",children:[i.jsxs(gn,{className:"w-12 h-12",children:[i.jsx(xn,{src:R.photoURL}),i.jsx(yn,{className:"bg-gray-400 text-white font-medium text-sm",children:((Ne=R.displayName)==null?void 0:Ne.charAt(0))||R.username.charAt(0)})]}),i.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-4 h-4 bg-green-500 rounded-full border-2 border-white"}),K>0&&i.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold",children:K})]}),i.jsx("p",{className:"text-xs font-medium text-gray-900 truncate w-full text-center",children:((Pe=R.displayName)==null?void 0:Pe.split(" ")[0])||R.username})]})}),i.jsx("div",{className:"hidden md:block p-5",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"relative",children:[i.jsxs(gn,{className:"w-14 h-14",children:[i.jsx(xn,{src:R.photoURL}),i.jsx(yn,{className:"bg-gray-400 text-white font-medium text-lg",children:((nt=R.displayName)==null?void 0:nt.charAt(0))||R.username.charAt(0)})]}),i.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-green-500 rounded-full border-2 border-white"}),K>0&&i.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold",children:K})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("p",{className:"font-semibold text-gray-900 truncate text-base",children:R.displayName||R.username}),i.jsx("span",{className:"text-xs text-gray-400 flex-shrink-0",children:new Date(U.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),i.jsxs("p",{className:`text-sm truncate ${K>0?"text-gray-900 font-medium":"text-gray-500"}`,children:[U.senderId===(I==null?void 0:I.id)?"You: ":"",U.content]})]})]})})]},R.id)})})})]}),i.jsx("div",{className:"flex-1 flex flex-col",children:t?i.jsxs(i.Fragment,{children:[(()=>{var U,K;const E=z.find(Ne=>Ne.user.id===t),R=E==null?void 0:E.user;return i.jsx("div",{className:"p-4 bg-gray-50 border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs(gn,{className:"w-10 h-10",children:[i.jsx(xn,{src:R==null?void 0:R.photoURL}),i.jsx(yn,{className:"bg-gray-400 text-white font-medium",children:((U=R==null?void 0:R.displayName)==null?void 0:U.charAt(0))||((K=R==null?void 0:R.username)==null?void 0:K.charAt(0))||"U"})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-gray-900",children:(R==null?void 0:R.displayName)||(R==null?void 0:R.username)||"Friend"}),i.jsx("p",{className:"text-sm text-green-600",children:"Active now"})]})]})})})(),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-white",children:ce.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[i.jsx(Nr,{className:"w-16 h-16 text-gray-300 mb-4"}),i.jsx("p",{className:"text-gray-500",children:"No messages yet"}),i.jsx("p",{className:"text-gray-400 text-sm",children:"Say hello to start the conversation!"})]}):i.jsx("div",{className:"space-y-3",children:ce.map(E=>i.jsx("div",{className:`flex ${E.senderId===(I==null?void 0:I.id)?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`max-w-xs px-4 py-2 rounded-2xl ${E.senderId===(I==null?void 0:I.id)?"bg-blue-500 text-white":"bg-gray-100 text-gray-900"}`,children:[E.imageUrl?i.jsxs("div",{className:"space-y-2",children:[i.jsx("img",{src:E.imageUrl,alt:"Shared image",className:"rounded-lg max-w-full h-auto",onError:R=>{R.currentTarget.style.display="none"}}),i.jsx("p",{className:"text-sm leading-relaxed",children:E.content})]}):i.jsx("p",{className:"text-sm leading-relaxed",children:E.content}),i.jsx("p",{className:`text-xs mt-1 ${E.senderId===(I==null?void 0:I.id)?"text-blue-100":"text-gray-500"}`,children:new Date(E.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},E.id))})}),i.jsx("div",{className:"p-4 bg-white border-t border-gray-200",children:i.jsxs("div",{className:"flex items-end space-x-3",children:[i.jsx($,{type:"button",onClick:()=>{const E=document.createElement("input");E.type="file",E.accept="image/*",E.onchange=async R=>{var K;const U=(K=R.target.files)==null?void 0:K[0];if(U&&t)try{const Ne=new FormData;Ne.append("image",U),Ne.append("recipientId",t.toString());const Pe=await fetch("/api/social/messages/image",{method:"POST",headers:{...await B()},body:Ne});if(Pe.ok){const nt=await Pe.json();Ee(),Js({title:"Image sent!",description:"Your image has been shared successfully."})}else throw new Error("Failed to send image")}catch(Ne){console.error("Image upload error:",Ne),Js({title:"Upload failed",description:"Could not send image. Please try again.",variant:"destructive"})}},E.click()},className:"w-12 h-12 rounded-full bg-gray-100 hover:bg-gray-200 text-gray-600 p-0 flex items-center justify-center flex-shrink-0",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),i.jsx("div",{className:"flex-1 relative",children:i.jsx(ws,{placeholder:"Message...",value:s,onChange:E=>n(E.target.value),className:"w-full px-5 py-3 border border-gray-300 rounded-full resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white text-gray-900 placeholder-gray-500 text-base",rows:1,style:{maxHeight:"120px"},onKeyPress:E=>{E.key==="Enter"&&!E.shiftKey&&(E.preventDefault(),s.trim()&&t&&(Z.mutate({recipientId:t,content:s.trim()}),n("")))}})}),i.jsx($,{onClick:()=>{s.trim()&&t&&(Z.mutate({recipientId:t,content:s.trim()}),n(""))},disabled:!s.trim()||Z.isPending,className:"w-12 h-12 rounded-full bg-blue-500 hover:bg-blue-600 text-white p-0 flex items-center justify-center flex-shrink-0",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})})]}):i.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Nr,{className:"w-20 h-20 text-gray-300 mx-auto mb-4"}),i.jsx("p",{className:"text-xl font-medium text-gray-600 mb-2",children:"Select a conversation"}),i.jsx("p",{className:"text-gray-500",children:"Choose from your existing conversations"})]})})})]})}),i.jsx(Rt,{value:"badges",className:"space-y-6",children:i.jsxs(re,{className:"border-2 border-yellow-500 bg-gradient-to-br from-white to-yellow-50 shadow-lg",children:[i.jsx(be,{className:"bg-gradient-to-r from-yellow-500 to-yellow-600 text-black",children:i.jsxs(we,{className:"font-bebas text-2xl tracking-wide flex items-center",children:[i.jsx(bn,{className:"w-6 h-6 mr-2"}),"HERO SUPER POWERS (",W.length,")"]})}),i.jsxs(ie,{className:"p-6",children:[W.length===0?i.jsxs("div",{className:"text-center py-16 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[i.jsx(bn,{className:"w-20 h-20 mx-auto mb-4 text-gray-400"}),i.jsx("p",{className:"text-2xl font-bold text-gray-600 mb-2",children:"No Super Powers Yet!"}),i.jsx("p",{className:"text-gray-500 mb-6",children:"Start collecting cards and making friends to earn heroic super powers!"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 max-w-2xl mx-auto",children:[i.jsxs("div",{className:"bg-white p-4 rounded-lg border-2 border-gray-200",children:[i.jsx(bn,{className:"w-8 h-8 mx-auto mb-2 text-blue-500"}),i.jsx("p",{className:"text-sm font-bold text-gray-700",children:"Collection Powers"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Collect cards to unlock"})]}),i.jsxs("div",{className:"bg-white p-4 rounded-lg border-2 border-gray-200",children:[i.jsx(ai,{className:"w-8 h-8 mx-auto mb-2 text-green-500"}),i.jsx("p",{className:"text-sm font-bold text-gray-700",children:"Social Powers"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Make friends to unlock"})]}),i.jsxs("div",{className:"bg-white p-4 rounded-lg border-2 border-gray-200",children:[i.jsx(Sr,{className:"w-8 h-8 mx-auto mb-2 text-purple-500"}),i.jsx("p",{className:"text-sm font-bold text-gray-700",children:"Activity Powers"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Stay active to unlock"})]})]})]}):i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:W.map(E=>{var R,U,K;return i.jsx(re,{className:"text-center border-2 border-gray-200 bg-white shadow-md hover:shadow-xl transition-all duration-300 transform hover:scale-105 hover:-translate-y-1",children:i.jsxs(ie,{className:"p-4 sm:p-6",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:`w-16 h-16 sm:w-24 sm:h-24 rounded-full flex items-center justify-center border-4 transition-all duration-300 ${ee(E.badge.rarity||"common")} ${ze(E.badge.rarity||"common")}`,children:E.badge.iconUrl?i.jsx("img",{src:E.badge.iconUrl,alt:E.badge.name,className:"w-12 h-12 sm:w-16 sm:h-16 object-cover rounded-full"}):i.jsx("div",{className:"text-2xl",children:Ke(E.badge.rarity||"common")})})}),i.jsxs("div",{className:"flex items-center justify-center mb-2",children:[i.jsx("h3",{className:"font-bebas text-sm sm:text-lg text-gray-800 tracking-wide",children:((R=E.badge.name)==null?void 0:R.toUpperCase())||"UNKNOWN POWER"}),i.jsx("div",{className:"ml-2 text-sm",children:Ke(E.badge.rarity||"common")})]}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-3 sm:mb-4 px-1 sm:px-2 line-clamp-2",children:E.badge.description||"No description available"}),i.jsxs("div",{className:"flex justify-center space-x-2 mb-3",children:[i.jsx(ve,{className:`${De(E.badge.category||"achievement")} font-bold px-3 py-1 text-xs`,children:((U=E.badge.category)==null?void 0:U.toUpperCase())||"ACHIEVEMENT"}),i.jsx(ve,{className:"bg-gray-200 text-gray-800 font-bold px-3 py-1 text-xs",children:((K=E.badge.rarity)==null?void 0:K.toUpperCase())||"COMMON"})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("p",{className:"text-xs text-gray-500 font-medium",children:[" EARNED ",new Date(E.earnedAt).toLocaleDateString()]}),i.jsxs("p",{className:"text-xs text-yellow-600 font-bold mt-1",children:["+",E.badge.points||0," Points"]})]})]})},E.id)})}),(()=>{const E=W.map(U=>U.badge.id),R=Ue.filter(U=>!E.includes(U.id));return R.length>0?i.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-300",children:[i.jsx("h3",{className:"font-bebas text-xl text-gray-700 mb-4 tracking-wide",children:" LOCKED SUPER POWERS"}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3 sm:gap-4",children:R.map(U=>i.jsxs("div",{className:"bg-gray-100 rounded-lg p-3 sm:p-4 text-center border-2 border-gray-200 opacity-60 hover:opacity-80 transition-opacity duration-200",children:[i.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-2 sm:mb-3 rounded-full flex items-center justify-center bg-gray-300 border-2 border-gray-400",children:U.iconUrl?i.jsx("img",{src:U.iconUrl,alt:U.name,className:"w-8 h-8 sm:w-12 sm:h-12 object-cover rounded-full opacity-50"}):i.jsx(Iv,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-500"})}),i.jsx("p",{className:"font-bold text-gray-600 text-xs sm:text-sm mb-1",children:U.name}),i.jsx("div",{className:"flex justify-center mb-2",children:i.jsx(ve,{className:"bg-gray-300 text-gray-600 text-xs px-2 py-1",children:U.rarity.toUpperCase()})}),i.jsx("p",{className:"text-xs text-gray-500",children:U.unlockHint})]},U.id))})]}):null})()]})]})}),i.jsx(Rt,{value:"profile",className:"space-y-6",children:f&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs(re,{className:"border-2 border-blue-500 bg-gradient-to-br from-white to-blue-50",children:[i.jsx(be,{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white",children:i.jsxs(we,{className:"font-bebas text-2xl tracking-wide flex items-center",children:[i.jsx(Vn,{className:"w-6 h-6 mr-2"}),f.displayName||f.username,"'s Profile"]})}),i.jsx(ie,{className:"p-6",children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-6",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsxs(gn,{className:"w-24 h-24 border-4 border-blue-300",children:[i.jsx(xn,{src:f.photoURL,alt:f.displayName}),i.jsx(yn,{className:"bg-blue-100 text-blue-800 text-xl font-bold",children:((jt=f.displayName)==null?void 0:jt.charAt(0))||((ut=f.username)==null?void 0:ut.charAt(0))})]})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-1",children:f.displayName||f.username}),i.jsxs("p",{className:"text-gray-600 mb-4",children:["@",f.username]}),f.bio&&i.jsx("p",{className:"text-gray-700 mb-4",children:f.bio}),i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg border border-green-200",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:((ft=Q==null?void 0:Q.stats)==null?void 0:ft.totalCards)||0}),i.jsx("div",{className:"text-sm text-green-800",children:"Cards"})]}),i.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg border border-purple-200",children:[i.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["$",((S=(Nt=Q==null?void 0:Q.stats)==null?void 0:Nt.totalValue)==null?void 0:S.toFixed(2))||"0.00"]}),i.jsx("div",{className:"text-sm text-purple-800",children:"Value"})]}),i.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg border border-orange-200",children:[i.jsx("div",{className:"text-2xl font-bold text-orange-600",children:((T=Q==null?void 0:Q.stats)==null?void 0:T.wishlistItems)||0}),i.jsx("div",{className:"text-sm text-orange-800",children:"Wishlist"})]}),i.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[i.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:((V=Q==null?void 0:Q.stats)==null?void 0:V.badgesCount)||0}),i.jsx("div",{className:"text-sm text-yellow-800",children:"Badges"})]})]})]})]})})]}),i.jsxs(re,{className:"border-2 border-yellow-500 bg-gradient-to-br from-white to-yellow-50",children:[i.jsx(be,{className:"bg-gradient-to-r from-yellow-500 to-yellow-600 text-black",children:i.jsxs(we,{className:"font-bebas text-2xl tracking-wide flex items-center",children:[i.jsx(bn,{className:"w-6 h-6 mr-2"}),f.displayName||f.username,"'s Super Powers"]})}),i.jsx(ie,{className:"p-6",children:Ye?i.jsxs("div",{className:"text-center py-16",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-500 mx-auto"}),i.jsx("p",{className:"text-gray-600 mt-4",children:"Loading badges..."})]}):Ae.length>0?i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:Ae.map(E=>i.jsxs("div",{className:"bg-white rounded-lg border-2 border-gray-200 p-4 text-center hover:shadow-md transition-shadow",children:[i.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-gradient-to-br from-red-400 to-red-600 rounded-full flex items-center justify-center",children:E.badge.iconUrl?i.jsx("img",{src:E.badge.iconUrl,alt:E.badge.name,className:"w-12 h-12 object-contain"}):i.jsx(bn,{className:"w-8 h-8 text-white"})}),i.jsx("h3",{className:"font-bold text-sm text-gray-800 mb-1",children:E.badge.name}),i.jsx("p",{className:"text-xs text-gray-600 mb-2",children:E.badge.description}),i.jsx("div",{className:`inline-block px-2 py-1 rounded-full text-xs font-semibold ${De(E.badge.category)}`,children:E.badge.category})]},E.id))}):i.jsxs("div",{className:"text-center py-16 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[i.jsx(bn,{className:"w-20 h-20 mx-auto mb-4 text-gray-400"}),i.jsx("p",{className:"text-2xl font-bold text-gray-600 mb-2",children:"No badges yet!"}),i.jsxs("p",{className:"text-gray-500",children:[(f==null?void 0:f.displayName)||(f==null?void 0:f.username)," hasn't earned any badges yet."]})]})})]}),i.jsxs(re,{className:"border-2 border-green-500 bg-gradient-to-br from-white to-green-50",children:[i.jsx(be,{className:"bg-gradient-to-r from-green-500 to-green-600 text-white",children:i.jsxs(we,{className:"font-bebas text-2xl tracking-wide flex items-center",children:[i.jsx(Vn,{className:"w-6 h-6 mr-2"}),f.displayName||f.username,"'s Collection",he.length>0&&i.jsxs("span",{className:"ml-2 text-sm opacity-90",children:["(",(()=>{const E=he.filter(R=>{var Ne,Pe;const U=g===""||R.card.name.toLowerCase().includes(g.toLowerCase())||R.card.cardNumber.toLowerCase().includes(g.toLowerCase())||((Ne=R.card.cardSet)==null?void 0:Ne.name.toLowerCase().includes(g.toLowerCase())),K=y==="all"||((Pe=R.card.cardSet)==null?void 0:Pe.name)===y;return U&&K}).length;return E!==he.length?`${E} of ${he.length}`:he.length})(),")"]})]})}),i.jsx(ie,{className:"p-6",children:Be?i.jsxs("div",{className:"text-center py-16",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-500 mx-auto"}),i.jsx("p",{className:"text-gray-600 mt-4",children:"Loading collection..."})]}):he.length>0?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx(ss,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(ne,{placeholder:"Search cards...",value:g,onChange:E=>v(E.target.value),className:"pl-10 w-64 bg-white text-gray-900 placeholder:text-gray-500"})]}),i.jsxs(qt,{value:y,onValueChange:w,children:[i.jsx(zt,{className:"w-48 bg-white text-gray-900",children:i.jsx(Kt,{placeholder:"Filter by set"})}),i.jsxs(Vt,{children:[i.jsx(ke,{value:"all",children:"All Sets"}),Array.from(new Set(he.map(R=>{var U;return(U=R.card.cardSet)==null?void 0:U.name}))).filter(Boolean).sort().map(R=>({value:R,label:R})).map(R=>i.jsx(ke,{value:R.value,children:R.label},R.value))]})]})]}),i.jsxs("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[i.jsxs($,{variant:j==="grid"?"default":"ghost",size:"sm",onClick:()=>N("grid"),className:`rounded-none px-3 ${j==="grid"?"text-white":"text-green-600 hover:text-green-600"}`,children:[i.jsx(jc,{className:"w-4 h-4 mr-1"}),"Grid"]}),i.jsxs($,{variant:j==="list"?"default":"ghost",size:"sm",onClick:()=>N("list"),className:`rounded-none px-3 ${j==="list"?"text-white":"text-green-600 hover:text-green-600"}`,children:[i.jsx(Gu,{className:"w-4 h-4 mr-1"}),"List"]})]})]}),(()=>{const E=he.filter(U=>{var Pe,nt;const K=g===""||U.card.name.toLowerCase().includes(g.toLowerCase())||U.card.cardNumber.toLowerCase().includes(g.toLowerCase())||((Pe=U.card.cardSet)==null?void 0:Pe.name.toLowerCase().includes(g.toLowerCase())),Ne=y==="all"||((nt=U.card.cardSet)==null?void 0:nt.name)===y;return K&&Ne}),R=U=>{const K={id:U.card.id,setId:U.card.setId,cardNumber:U.card.cardNumber,name:U.card.name,variation:U.card.variation,rarity:U.card.rarity,isInsert:U.card.isInsert,description:U.card.description,frontImageUrl:U.card.imageUrl,backImageUrl:U.card.backImageUrl,estimatedValue:U.card.estimatedValue,cardSet:U.card.cardSet||{id:0,name:"Unknown Set",slug:"",year:null,description:null,totalCards:null,imageUrl:null}};M(K),_(!0)};return E.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(ss,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),i.jsx("p",{className:"text-xl font-bold text-gray-600 mb-2",children:"No Cards Found"}),i.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filter criteria."})]}):j==="grid"?i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:E.map(U=>{var K;return i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-3 hover:shadow-md transition-shadow cursor-pointer hover:border-green-300",onClick:()=>R(U),children:[i.jsx("div",{className:"aspect-[3/4] bg-gray-100 rounded-lg mb-2 overflow-hidden",children:U.card.imageUrl?i.jsx("img",{src:U.card.imageUrl,alt:U.card.name,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200",children:i.jsx("span",{className:"text-gray-400 text-xs",children:"No Image"})})}),i.jsx("h3",{className:"font-semibold text-sm text-gray-800 mb-1 truncate",children:U.card.name}),i.jsx("p",{className:"text-xs text-gray-600 mb-1",children:(K=U.card.cardSet)==null?void 0:K.name}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("span",{className:"text-xs text-gray-500",children:["#",U.card.cardNumber]}),i.jsx("span",{className:"text-xs font-semibold text-green-600",children:U.condition||"Unknown"})]})]},U.id)})}):i.jsx("div",{className:"space-y-3",children:E.map(U=>{var K;return i.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow cursor-pointer hover:border-green-300",onClick:()=>R(U),children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"w-12 h-16 bg-gray-200 rounded flex items-center justify-center flex-shrink-0",children:U.card.imageUrl?i.jsx("img",{src:U.card.imageUrl,alt:U.card.name,className:"w-full h-full object-cover rounded"}):i.jsx("span",{className:"text-xs text-gray-500",children:"No Image"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"font-semibold text-gray-900 truncate",children:U.card.name}),U.card.estimatedValue&&i.jsxs("p",{className:"text-green-600 font-semibold",children:["$",U.card.estimatedValue.toFixed(2)]})]}),i.jsxs("p",{className:"text-sm text-gray-600",children:["#",U.card.cardNumber]}),i.jsx("p",{className:"text-sm text-gray-500 truncate",children:(K=U.card.cardSet)==null?void 0:K.name}),i.jsxs("div",{className:"flex items-center space-x-3 mt-2",children:[i.jsx(ve,{variant:"secondary",className:"text-xs",children:U.card.rarity}),i.jsx("span",{className:"text-xs text-gray-500",children:U.condition||"Unknown"})]})]})]})},U.id)})})})()]}):i.jsxs("div",{className:"text-center py-16 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[i.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gray-200 rounded-full flex items-center justify-center",children:i.jsx(Vn,{className:"w-12 h-12 text-gray-400"})}),i.jsx("p",{className:"text-2xl font-bold text-gray-600 mb-2",children:"No cards yet!"}),i.jsxs("p",{className:"text-gray-500",children:[(f==null?void 0:f.displayName)||(f==null?void 0:f.username)," hasn't added any cards to their collection yet."]})]})})]})]})})]}),i.jsx(Br,{card:k,isOpen:C,onClose:()=>{_(!1),M(null)},isInCollection:!1,isInWishlist:!1})]})}function lK(){var O;const{friendId:t}=nv(),[,e]=Ns(),[s,n]=x.useState("profile"),[r,a]=x.useState(""),[o,l]=x.useState("all"),[c,d]=x.useState("grid"),[u,h]=x.useState(null),[f,p]=x.useState(!1),{user:b}=cr(),m=async()=>b?{Authorization:`Bearer ${await b.getIdToken()}`}:{},{data:g,isLoading:v}=Ce({queryKey:["social/friends",t,"profile"],queryFn:async()=>{const I=await m(),B=await fetch(`/api/social/friends/${t}/profile`,{headers:I});if(!B.ok)throw new Error("Failed to fetch friend profile");return B.json()},enabled:!!b&&!!t}),{data:y=[],isLoading:w}=Ce({queryKey:["social/friends",t,"collection"],queryFn:async()=>{const I=await m(),B=await fetch(`/api/social/friends/${t}/collection`,{headers:I});if(!B.ok)throw new Error("Failed to fetch friend collection");return B.json()},enabled:!!b&&!!t&&(g==null?void 0:g.canViewCollection)}),{data:j=[],isLoading:N}=Ce({queryKey:["social/friends",t,"wishlist"],queryFn:async()=>{const I=await m(),B=await fetch(`/api/social/friends/${t}/wishlist`,{headers:I});if(!B.ok)throw new Error("Failed to fetch friend wishlist");return B.json()},enabled:!!b&&!!t&&(g==null?void 0:g.canViewWishlist)});if(v)return i.jsx("div",{className:"min-h-screen bg-gray-100 p-6",children:i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsxs("div",{className:"animate-pulse",children:[i.jsx("div",{className:"h-8 bg-gray-300 rounded mb-4"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsx("div",{className:"h-64 bg-gray-300 rounded"}),i.jsx("div",{className:"col-span-2 h-64 bg-gray-300 rounded"})]})]})})});if(!g)return i.jsx("div",{className:"min-h-screen bg-gray-100 p-6",children:i.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Friend Not Found"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Unable to load friend profile."}),i.jsxs($,{onClick:()=>e("/social"),children:[i.jsx(tu,{className:"w-4 h-4 mr-2"}),"Back to Social Hub"]})]})});const C=g.user,_=g.stats,k=Array.from(new Set(y.map(I=>I.setName))).sort().map(I=>({value:I,label:I})),M=y.filter(I=>{const B=r===""||I.cardName.toLowerCase().includes(r.toLowerCase())||I.cardNumber.toLowerCase().includes(r.toLowerCase())||I.setName.toLowerCase().includes(r.toLowerCase()),H=o==="all"||I.setName===o;return B&&H}),L=I=>{const B={id:I.cardId,setId:0,cardNumber:I.cardNumber,name:I.cardName,variation:null,rarity:I.rarity,isInsert:!1,description:null,frontImageUrl:I.frontImageUrl,backImageUrl:null,estimatedValue:I.estimatedValue,cardSet:{id:0,name:I.setName,slug:"",year:null,description:null,totalCards:null,imageUrl:null}};h(B),p(!0)};return i.jsxs("div",{className:"min-h-screen bg-gray-100 p-6",children:[i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs($,{variant:"ghost",onClick:()=>e("/social"),className:"mb-4",children:[i.jsx(tu,{className:"w-4 h-4 mr-2"}),"Back to Social Hub"]}),i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Friend Profile"})]}),i.jsx(re,{className:"mb-6 border-2 border-blue-500 bg-gradient-to-br from-white to-blue-50",children:i.jsx(ie,{className:"p-6",children:i.jsxs("div",{className:"flex items-center space-x-6",children:[i.jsxs(gn,{className:"w-24 h-24 border-4 border-blue-500",children:[i.jsx(xn,{src:C.photoURL}),i.jsx(yn,{className:"bg-blue-500 text-white text-2xl font-bold",children:((O=C.displayName)==null?void 0:O.charAt(0))||C.username.charAt(0)})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:C.displayName||C.username}),i.jsxs("p",{className:"text-gray-600 mb-2",children:["@",C.username]}),C.bio&&i.jsx("p",{className:"text-gray-700 mb-3",children:C.bio}),i.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[C.location&&i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ev,{className:"w-4 h-4 mr-1"}),C.location]}),C.website&&i.jsxs("div",{className:"flex items-center",children:[i.jsx(AT,{className:"w-4 h-4 mr-1"}),i.jsx("a",{href:C.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:C.website})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(Or,{className:"w-4 h-4 mr-1"}),"Joined ",new Date(C.createdAt).toLocaleDateString()]})]})]})]})})}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[i.jsx(re,{className:"border-2 border-green-500 bg-gradient-to-br from-white to-green-50",children:i.jsxs(ie,{className:"p-4 text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:_.totalCards.toLocaleString()}),i.jsx("div",{className:"text-sm text-gray-600",children:"Cards Collected"})]})}),i.jsx(re,{className:"border-2 border-purple-500 bg-gradient-to-br from-white to-purple-50",children:i.jsxs(ie,{className:"p-4 text-center",children:[i.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["$",_.totalValue.toLocaleString()]}),i.jsx("div",{className:"text-sm text-gray-600",children:"Collection Value"})]})}),i.jsx(re,{className:"border-2 border-yellow-500 bg-gradient-to-br from-white to-yellow-50",children:i.jsxs(ie,{className:"p-4 text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:_.friendsCount}),i.jsx("div",{className:"text-sm text-gray-600",children:"Friends"})]})}),i.jsx(re,{className:"border-2 border-red-500 bg-gradient-to-br from-white to-red-50",children:i.jsxs(ie,{className:"p-4 text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-red-600",children:_.badgesCount}),i.jsx("div",{className:"text-sm text-gray-600",children:"Super Powers"})]})})]}),i.jsxs(Ic,{value:s,onValueChange:n,className:"space-y-6",children:[i.jsxs(zo,{className:"grid w-full grid-cols-3",children:[i.jsx(Mt,{value:"profile",children:"Profile"}),i.jsxs(Mt,{value:"collection",disabled:!g.canViewCollection,children:["Collection ",!g.canViewCollection&&i.jsx(Ka,{className:"w-4 h-4 ml-1"})]}),i.jsxs(Mt,{value:"wishlist",disabled:!g.canViewWishlist,children:["Wishlist ",!g.canViewWishlist&&i.jsx(Ka,{className:"w-4 h-4 ml-1"})]})]}),i.jsx(Rt,{value:"profile",className:"space-y-6",children:i.jsxs(re,{className:"border-2 border-blue-500 bg-gradient-to-br from-white to-blue-50",children:[i.jsx(be,{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white",children:i.jsxs(we,{className:"flex items-center",children:[i.jsx(ui,{className:"w-5 h-5 mr-2"}),"Collection Summary"]})}),i.jsx(ie,{className:"p-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Collection Stats"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Total Cards:"}),i.jsx("span",{className:"font-bold",children:_.totalCards.toLocaleString()})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Collection Value:"}),i.jsxs("span",{className:"font-bold",children:["$",_.totalValue.toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Completed Sets:"}),i.jsx("span",{className:"font-bold",children:_.completedSets})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Wishlist Items:"}),i.jsx("span",{className:"font-bold",children:_.wishlistItems})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Activity"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Login Streak:"}),i.jsxs("span",{className:"font-bold",children:[_.loginStreak," days"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Friends:"}),i.jsx("span",{className:"font-bold",children:_.friendsCount})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Super Powers:"}),i.jsx("span",{className:"font-bold",children:_.badgesCount})]})]})]})]})})]})}),i.jsx(Rt,{value:"collection",className:"space-y-6",children:i.jsxs(re,{className:"border-2 border-green-500 bg-gradient-to-br from-white to-green-50",children:[i.jsx(be,{className:"bg-gradient-to-r from-green-500 to-green-600 text-white",children:i.jsxs(we,{className:"flex items-center",children:[i.jsx(Tn,{className:"w-5 h-5 mr-2"}),C.displayName||C.username,"'s Collection (",M.length," of ",y.length,")"]})}),i.jsx(ie,{className:"p-6",children:g.canViewCollection?w?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-500 mx-auto"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Loading collection..."})]}):y.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Tn,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),i.jsx("p",{className:"text-xl font-bold text-gray-600 mb-2",children:"No Cards Yet"}),i.jsx("p",{className:"text-gray-500",children:"This collection is empty."})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx(ss,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(ne,{placeholder:"Search cards...",value:r,onChange:I=>a(I.target.value),className:"pl-10 w-64 bg-white text-gray-900 placeholder:text-gray-500"})]}),i.jsxs(qt,{value:o,onValueChange:l,children:[i.jsx(zt,{className:"w-48",children:i.jsx(Kt,{placeholder:"Filter by set"})}),i.jsxs(Vt,{children:[i.jsx(ke,{value:"all",children:"All Sets"}),k.map(I=>i.jsx(ke,{value:I.value,children:I.label},I.value))]})]})]}),i.jsxs("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[i.jsxs($,{variant:c==="grid"?"default":"ghost",size:"sm",onClick:()=>d("grid"),className:`rounded-none px-3 ${c==="grid"?"text-white":"text-green-600 hover:text-green-600"}`,children:[i.jsx(jc,{className:"w-4 h-4 mr-1"}),"Grid"]}),i.jsxs($,{variant:c==="list"?"default":"ghost",size:"sm",onClick:()=>d("list"),className:`rounded-none px-3 ${c==="list"?"text-white":"text-green-600 hover:text-green-600"}`,children:[i.jsx(Gu,{className:"w-4 h-4 mr-1"}),"List"]})]})]}),M.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(ss,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),i.jsx("p",{className:"text-xl font-bold text-gray-600 mb-2",children:"No Cards Found"}),i.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filter criteria."})]}):c==="grid"?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:M.map(I=>i.jsx("div",{className:"bg-white rounded-lg border-2 border-gray-200 p-4 hover:shadow-lg transition-shadow cursor-pointer hover:border-green-300",onClick:()=>L(I),children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-16 h-20 bg-gray-200 rounded flex items-center justify-center flex-shrink-0",children:I.frontImageUrl?i.jsx("img",{src:I.frontImageUrl,alt:I.cardName,className:"w-full h-full object-cover rounded"}):i.jsx("span",{className:"text-xs text-gray-500",children:"No Image"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-semibold text-sm text-gray-900 truncate",children:I.cardName}),i.jsxs("p",{className:"text-xs text-gray-600",children:["#",I.cardNumber]}),i.jsx("p",{className:"text-xs text-gray-500 truncate",children:I.setName}),i.jsxs("div",{className:"flex items-center justify-between mt-2",children:[i.jsx(ve,{variant:"secondary",className:"text-xs",children:I.rarity}),i.jsx("span",{className:"text-xs text-gray-500",children:I.condition})]}),I.estimatedValue&&i.jsxs("p",{className:"text-xs text-green-600 font-semibold mt-1",children:["$",I.estimatedValue.toFixed(2)]})]})]})},I.id))}):i.jsx("div",{className:"space-y-3",children:M.map(I=>i.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow cursor-pointer hover:border-green-300",onClick:()=>L(I),children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"w-12 h-16 bg-gray-200 rounded flex items-center justify-center flex-shrink-0",children:I.frontImageUrl?i.jsx("img",{src:I.frontImageUrl,alt:I.cardName,className:"w-full h-full object-cover rounded"}):i.jsx("span",{className:"text-xs text-gray-500",children:"No Image"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"font-semibold text-gray-900 truncate",children:I.cardName}),I.estimatedValue&&i.jsxs("p",{className:"text-green-600 font-semibold",children:["$",I.estimatedValue.toFixed(2)]})]}),i.jsxs("p",{className:"text-sm text-gray-600",children:["#",I.cardNumber]}),i.jsx("p",{className:"text-sm text-gray-500 truncate",children:I.setName}),i.jsxs("div",{className:"flex items-center space-x-3 mt-2",children:[i.jsx(ve,{variant:"secondary",className:"text-xs",children:I.rarity}),i.jsx("span",{className:"text-xs text-gray-500",children:I.condition})]})]})]})},I.id))})]}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Ka,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),i.jsx("p",{className:"text-xl font-bold text-gray-600 mb-2",children:"Collection Private"}),i.jsx("p",{className:"text-gray-500",children:"This user's collection is not visible to you."})]})})]})}),i.jsx(Rt,{value:"wishlist",className:"space-y-6",children:i.jsxs(re,{className:"border-2 border-purple-500 bg-gradient-to-br from-white to-purple-50",children:[i.jsx(be,{className:"bg-gradient-to-r from-purple-500 to-purple-600 text-white",children:i.jsxs(we,{className:"flex items-center",children:[i.jsx(bn,{className:"w-5 h-5 mr-2"}),C.displayName||C.username,"'s Wishlist (",j.length,")"]})}),i.jsx(ie,{className:"p-6",children:g.canViewWishlist?N?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500 mx-auto"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Loading wishlist..."})]}):j.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(bn,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),i.jsx("p",{className:"text-xl font-bold text-gray-600 mb-2",children:"No Wishlist Items"}),i.jsx("p",{className:"text-gray-500",children:"This wishlist is empty."})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:j.slice(0,12).map(I=>i.jsx("div",{className:"bg-white rounded-lg border-2 border-gray-200 p-4 hover:shadow-lg transition-shadow cursor-pointer hover:border-purple-300",onClick:()=>L(I),children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-12 h-16 bg-gray-200 rounded flex items-center justify-center",children:I.frontImageUrl?i.jsx("img",{src:I.frontImageUrl,alt:I.cardName,className:"w-full h-full object-cover rounded"}):i.jsx("span",{className:"text-xs text-gray-500",children:"No Image"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-sm text-gray-900",children:I.cardName}),i.jsxs("p",{className:"text-xs text-gray-600",children:["#",I.cardNumber]}),i.jsx("p",{className:"text-xs text-gray-500",children:I.setName}),i.jsx(ve,{variant:"secondary",className:"text-xs mt-1",children:I.rarity})]})]})},I.id))}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Ka,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),i.jsx("p",{className:"text-xl font-bold text-gray-600 mb-2",children:"Wishlist Private"}),i.jsx("p",{className:"text-gray-500",children:"This user's wishlist is not visible to you."})]})})]})})]})]}),i.jsx(Br,{card:u,isOpen:f,onClose:()=>{p(!1),h(null)},isInCollection:!1,isInWishlist:!1})]})}function cK(){const[t,e]=x.useState("individual");Gt(),dt();const{data:s=[]}=Ce({queryKey:["/api/card-sets"],queryFn:async()=>{const n=await fetch("/api/card-sets");if(!n.ok)throw new Error("Failed to fetch card sets");return n.json()}});return i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bebas tracking-wide text-gray-900",children:"Card Management"}),i.jsx("p",{className:"text-gray-600",children:"Add individual cards, create new sets, or upload card data"})]})}),i.jsxs(Ic,{value:t,onValueChange:e,className:"w-full",children:[i.jsxs(zo,{className:"grid w-full grid-cols-4 bg-gray-100",children:[i.jsxs(Mt,{value:"individual",className:"flex items-center gap-2",children:[i.jsx(su,{className:"w-4 h-4"}),"Add Individual Card"]}),i.jsxs(Mt,{value:"set",className:"flex items-center gap-2",children:[i.jsx(Sy,{className:"w-4 h-4"}),"Create Card Set"]}),i.jsxs(Mt,{value:"upload",className:"flex items-center gap-2",children:[i.jsx(Nl,{className:"w-4 h-4"}),"Upload CSV"]}),i.jsxs(Mt,{value:"bulk",className:"flex items-center gap-2",children:[i.jsx(om,{className:"w-4 h-4"}),"Bulk Import"]})]}),i.jsx(Rt,{value:"individual",className:"space-y-6",children:i.jsxs(re,{className:"bg-white border border-gray-200",children:[i.jsx(be,{children:i.jsxs(we,{className:"flex items-center gap-2",children:[i.jsx(su,{className:"w-5 h-5 text-marvel-red"}),"Add Individual Card"]})}),i.jsx(ie,{children:i.jsx(dK,{cardSets:s})})]})}),i.jsx(Rt,{value:"set",className:"space-y-6",children:i.jsxs(re,{className:"bg-white border border-gray-200",children:[i.jsx(be,{children:i.jsxs(we,{className:"flex items-center gap-2",children:[i.jsx(Sy,{className:"w-5 h-5 text-marvel-red"}),"Create New Card Set"]})}),i.jsx(ie,{children:i.jsx(uK,{})})]})}),i.jsx(Rt,{value:"upload",className:"space-y-6",children:i.jsxs(re,{className:"bg-white border border-gray-200",children:[i.jsx(be,{children:i.jsxs(we,{className:"flex items-center gap-2",children:[i.jsx(Nl,{className:"w-5 h-5 text-marvel-red"}),"Upload Cards from CSV"]})}),i.jsx(ie,{children:i.jsx(hK,{cardSets:s})})]})}),i.jsx(Rt,{value:"bulk",className:"space-y-6",children:i.jsxs(re,{className:"bg-white border border-gray-200",children:[i.jsx(be,{children:i.jsxs(we,{className:"flex items-center gap-2",children:[i.jsx(om,{className:"w-5 h-5 text-marvel-red"}),"Bulk Import Master Spreadsheet"]})}),i.jsx(ie,{children:i.jsx(fK,{})})]})})]})]})}function dK({cardSets:t}){const[e,s]=x.useState({setId:"",name:"",cardNumber:"",rarity:"",isInsert:!1,frontImageUrl:"",backImageUrl:"",estimatedValue:"",description:""}),n=Gt(),{toast:r}=dt(),a=Me({mutationFn:async l=>_e("POST","/api/cards",{...l,setId:parseInt(l.setId),estimatedValue:l.estimatedValue||null}),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/cards"]}),r({title:"Card created successfully"}),s({setId:"",name:"",cardNumber:"",rarity:"",isInsert:!1,frontImageUrl:"",backImageUrl:"",estimatedValue:"",description:""})},onError:()=>{r({title:"Failed to create card",variant:"destructive"})}}),o=l=>{if(l.preventDefault(),!e.setId||!e.name||!e.cardNumber||!e.rarity){r({title:"Please fill in all required fields",variant:"destructive"});return}a.mutate(e)};return i.jsxs("form",{onSubmit:o,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"setId",children:"Card Set *"}),i.jsxs(qt,{value:e.setId,onValueChange:l=>s({...e,setId:l}),children:[i.jsx(zt,{className:"bg-white border-gray-200",children:i.jsx(Kt,{placeholder:"Select a card set"})}),i.jsx(Vt,{children:t.map(l=>i.jsxs(ke,{value:l.id.toString(),children:[l.name," (",l.year,")"]},l.id))})]})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"name",children:"Card Name *"}),i.jsx(ne,{id:"name",value:e.name,onChange:l=>s({...e,name:l.target.value}),placeholder:"Enter card name",className:"bg-white border-gray-200",required:!0})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"cardNumber",children:"Card Number *"}),i.jsx(ne,{id:"cardNumber",value:e.cardNumber,onChange:l=>s({...e,cardNumber:l.target.value}),placeholder:"e.g., 001, SP1",className:"bg-white border-gray-200",required:!0})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"rarity",children:"Rarity *"}),i.jsxs(qt,{value:e.rarity,onValueChange:l=>s({...e,rarity:l}),children:[i.jsx(zt,{className:"bg-white border-gray-200",children:i.jsx(Kt,{placeholder:"Select rarity"})}),i.jsxs(Vt,{children:[i.jsx(ke,{value:"Common",children:"Common"}),i.jsx(ke,{value:"Uncommon",children:"Uncommon"}),i.jsx(ke,{value:"Rare",children:"Rare"}),i.jsx(ke,{value:"Ultra Rare",children:"Ultra Rare"}),i.jsx(ke,{value:"Legendary",children:"Legendary"})]})]})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"estimatedValue",children:"Estimated Value ($)"}),i.jsx(ne,{id:"estimatedValue",type:"number",step:"0.01",value:e.estimatedValue,onChange:l=>s({...e,estimatedValue:l.target.value}),placeholder:"0.00",className:"bg-white border-gray-200"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(In,{id:"isInsert",checked:e.isInsert,onCheckedChange:l=>s({...e,isInsert:l})}),i.jsx(G,{htmlFor:"isInsert",children:"Insert Card"})]})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"frontImageUrl",children:"Front Image URL"}),i.jsx(ne,{id:"frontImageUrl",value:e.frontImageUrl,onChange:l=>s({...e,frontImageUrl:l.target.value}),placeholder:"https://example.com/card-front.jpg",className:"bg-white border-gray-200"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"backImageUrl",children:"Back Image URL"}),i.jsx(ne,{id:"backImageUrl",value:e.backImageUrl,onChange:l=>s({...e,backImageUrl:l.target.value}),placeholder:"https://example.com/card-back.jpg",className:"bg-white border-gray-200"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"description",children:"Description"}),i.jsx(ws,{id:"description",value:e.description,onChange:l=>s({...e,description:l.target.value}),placeholder:"Card description or special notes",className:"bg-white border-gray-200",rows:3})]}),i.jsxs($,{type:"submit",disabled:a.isPending,className:"bg-marvel-red hover:bg-red-700 text-white",children:[i.jsx(su,{className:"w-4 h-4 mr-2"}),a.isPending?"Creating...":"Create Card"]})]})}function uK(){const[t,e]=x.useState({name:"",year:new Date().getFullYear(),description:"",totalCards:""}),s=Gt(),{toast:n}=dt(),r=Me({mutationFn:async o=>_e("POST","/api/card-sets",{...o,year:parseInt(o.year.toString()),totalCards:parseInt(o.totalCards)||0}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/card-sets"]}),n({title:"Card set created successfully"}),e({name:"",year:new Date().getFullYear(),description:"",totalCards:""})},onError:()=>{n({title:"Failed to create card set",variant:"destructive"})}}),a=o=>{if(o.preventDefault(),!t.name){n({title:"Please enter a set name",variant:"destructive"});return}r.mutate(t)};return i.jsxs("form",{onSubmit:a,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"setName",children:"Set Name *"}),i.jsx(ne,{id:"setName",value:t.name,onChange:o=>e({...t,name:o.target.value}),placeholder:"e.g., 1992 SkyBox Marvel Masterpieces",className:"bg-white border-gray-200",required:!0})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"year",children:"Year *"}),i.jsx(ne,{id:"year",type:"number",value:t.year,onChange:o=>e({...t,year:parseInt(o.target.value)||new Date().getFullYear()}),className:"bg-white border-gray-200",required:!0})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"totalCards",children:"Total Cards"}),i.jsx(ne,{id:"totalCards",type:"number",value:t.totalCards,onChange:o=>e({...t,totalCards:o.target.value}),placeholder:"e.g., 100",className:"bg-white border-gray-200"})]})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"setDescription",children:"Description"}),i.jsx(ws,{id:"setDescription",value:t.description,onChange:o=>e({...t,description:o.target.value}),placeholder:"Description of the card set",className:"bg-white border-gray-200",rows:3})]}),i.jsxs($,{type:"submit",disabled:r.isPending,className:"bg-marvel-red hover:bg-red-700 text-white",children:[i.jsx(Sy,{className:"w-4 h-4 mr-2"}),r.isPending?"Creating...":"Create Set"]})]})}function hK({cardSets:t}){const[e,s]=x.useState(""),[n,r]=x.useState(null),[a,o]=x.useState(!1),{toast:l}=dt(),c=Gt(),d=h=>{var p;const f=(p=h.target.files)==null?void 0:p[0];f&&f.type==="text/csv"?r(f):l({title:"Please select a valid CSV file",variant:"destructive"})},u=async()=>{if(!n||!e){l({title:"Please select a set and CSV file",variant:"destructive"});return}o(!0);try{const h=new FormData;h.append("file",n),h.append("setId",e);const f=await fetch("/api/cards/upload-csv",{method:"POST",body:h}),p=await f.json();if(f.ok){c.invalidateQueries({queryKey:["/api/cards"]});let b=p.message;p.errors&&p.errors.length>0&&(b+=` ${p.errors.length} rows had errors.`),l({title:b}),r(null),s("");const m=document.getElementById("csvFile");m&&(m.value="")}else throw new Error(p.message||"Upload failed")}catch(h){l({title:"Failed to upload CSV",description:h instanceof Error?h.message:"Unknown error",variant:"destructive"})}finally{o(!1)}};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[i.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"CSV Format Requirements:"}),i.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[i.jsx("p",{children:"Your CSV file should include the following columns:"}),i.jsx("code",{className:"block bg-blue-100 p-2 rounded text-xs",children:"name,cardNumber,isInsert,rarity,frontImageUrl,backImageUrl,description,price"}),i.jsxs("p",{className:"mt-2",children:[i.jsx("strong",{children:"Required:"})," name, cardNumber, isInsert (true/false)"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Optional:"})," rarity, frontImageUrl, backImageUrl, description, price"]}),i.jsxs("p",{className:"mt-2",children:[i.jsx("strong",{children:"Price field:"})," If provided, will populate price cache and skip eBay lookup. Leave empty to fetch from eBay."]})]})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"uploadSet",children:"Target Card Set *"}),i.jsxs(qt,{value:e,onValueChange:s,children:[i.jsx(zt,{className:"bg-white border-gray-200",children:i.jsx(Kt,{placeholder:"Select a card set to add cards to"})}),i.jsx(Vt,{children:t.map(h=>i.jsxs(ke,{value:h.id.toString(),children:[h.name," (",h.year,")"]},h.id))})]})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"csvFile",children:"CSV File *"}),i.jsx(ne,{id:"csvFile",type:"file",accept:".csv",onChange:d,className:"bg-white border-gray-200"}),n&&i.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-gray-600",children:[i.jsx(om,{className:"w-4 h-4"}),n.name,i.jsx($,{type:"button",variant:"ghost",size:"sm",onClick:()=>{r(null);const h=document.getElementById("csvFile");h&&(h.value="")},children:i.jsx(Er,{className:"w-4 h-4"})})]})]}),i.jsxs($,{onClick:u,disabled:!n||!e||a,className:"bg-marvel-red hover:bg-red-700 text-white",children:[i.jsx(Nl,{className:"w-4 h-4 mr-2"}),a?"Uploading...":"Upload CSV"]})]})}function fK(){const[t,e]=x.useState(null),[s,n]=x.useState(!1),[r,a]=x.useState(null),o=Gt(),{toast:l}=dt(),c=u=>{var f;const h=(f=u.target.files)==null?void 0:f[0];h&&h.type==="text/csv"?(e(h),a(null)):l({title:"Invalid file type",description:"Please select a CSV file",variant:"destructive"})},d=async()=>{if(t){n(!0),a(null);try{const u=new FormData;u.append("file",t);const h=await fetch("/api/cards/upload-csv-enhanced",{method:"POST",body:u}),f=await h.json();if(!h.ok)throw new Error(f.message||"Upload failed");a({totalRows:f.totalRows,setsCreated:0,cardsAdded:0,errors:[]}),o.invalidateQueries({queryKey:["/api/card-sets"]}),o.invalidateQueries({queryKey:["/api/cards"]}),l({title:"Bulk Import Started!",description:`Processing ${f.totalRows} rows in background. Check server logs for progress.`}),e(null);const p=document.getElementById("bulk-csv-input");p&&(p.value="")}catch(u){l({title:"Upload Failed",description:u.message,variant:"destructive"})}finally{n(!1)}}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[i.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Enhanced Bulk Import Instructions"}),i.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[i.jsxs("p",{children:[" Upload a master CSV with ",i.jsx("strong",{children:"SET"})," and ",i.jsx("strong",{children:"Year"})," columns"]}),i.jsx("p",{children:" Sets will be auto-created from unique SET + Year combinations"}),i.jsxs("p",{children:[" ",i.jsx("strong",{children:"NEW:"})," Supports your exact CSV format with proper column mapping"]}),i.jsx("p",{children:" All cards will be grouped by set and imported in batches of 1000"}),i.jsxs("p",{children:[" ",i.jsx("strong",{children:"Required columns:"})," SET, Year, name, cardNumber"]}),i.jsxs("p",{children:[" ",i.jsx("strong",{children:"Optional:"})," IsInsert, Image, description, Price"]}),i.jsx("p",{className:"text-blue-700 font-medium mt-2",children:" Optimized for massive datasets (handles 80,000+ rows efficiently)"}),i.jsx("p",{className:"text-blue-700",children:" Background processing with immediate response and progress logging"}),i.jsx("p",{className:"text-green-700 font-medium",children:" Automatically skips duplicate cards and preserves existing sets"}),i.jsx("p",{className:"text-orange-700 font-medium",children:" Fixed column mapping - your CSV format is now fully supported!"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"bulk-csv-input",children:"Select Master CSV File"}),i.jsx(ne,{id:"bulk-csv-input",type:"file",accept:".csv",onChange:c,className:"mt-1"}),t&&i.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Selected: ",t.name," (",(t.size/1024).toFixed(1)," KB)"]})]}),r&&i.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[i.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:"Import Results"}),i.jsxs("div",{className:"text-sm text-green-800 space-y-1",children:[i.jsxs("p",{children:[" Processed ",r.totalRows," rows"]}),i.jsxs("p",{children:[" Created ",r.setsCreated," new sets"]}),i.jsxs("p",{children:[" Added ",r.cardsAdded," cards"]}),r.errors.length>0&&i.jsxs("div",{className:"mt-2",children:[i.jsx("p",{className:"text-red-700 font-medium",children:"Errors:"}),i.jsxs("ul",{className:"text-red-600 text-xs mt-1",children:[r.errors.slice(0,5).map((u,h)=>i.jsxs("li",{children:[" ",u]},h)),r.errors.length>5&&i.jsxs("li",{children:[" ... and ",r.errors.length-5," more"]})]})]})]})]})]}),i.jsxs($,{onClick:d,disabled:!t||s,className:"bg-marvel-red hover:bg-red-700 text-white",children:[i.jsx(om,{className:"w-4 h-4 mr-2"}),s?"Processing...":"Start Bulk Import"]})]})}function mK(){const[t,e]=x.useState(!1),[s,n]=x.useState(!1),[r,a]=x.useState(null),[o,l]=x.useState(""),c=Gt(),{toast:d}=dt(),{data:u=[],isLoading:h}=Ce({queryKey:["/api/admin/users"],queryFn:async()=>_e("GET","/api/admin/users").then(v=>v.json())}),f=Me({mutationFn:async v=>_e("POST","/api/admin/users",v),onSuccess:()=>{c.invalidateQueries({queryKey:["/api/admin/users"]}),d({title:"User created successfully"}),e(!1)},onError:()=>{d({title:"Failed to create user",variant:"destructive"})}}),p=Me({mutationFn:async({id:v,...y})=>_e("PATCH",`/api/admin/users/${v}`,y),onSuccess:()=>{c.invalidateQueries({queryKey:["/api/admin/users"]}),d({title:"User updated successfully"}),n(!1),a(null)},onError:()=>{d({title:"Failed to update user",variant:"destructive"})}}),b=Me({mutationFn:async v=>_e("DELETE",`/api/admin/users/${v}`),onSuccess:()=>{c.invalidateQueries({queryKey:["/api/admin/users"]}),d({title:"User deleted successfully"})},onError:()=>{d({title:"Failed to delete user",variant:"destructive"})}}),m=v=>{confirm(`Are you sure you want to delete user "${v.username}"? This action cannot be undone.`)&&b.mutate(v.id)},g=u.filter(v=>v.username.toLowerCase().includes(o.toLowerCase())||v.email.toLowerCase().includes(o.toLowerCase()));return i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bebas tracking-wide text-gray-900",children:"User Management"}),i.jsx("p",{className:"text-gray-600",children:"Manage user accounts, permissions, and plans"})]}),i.jsxs(ln,{open:t,onOpenChange:e,children:[i.jsx(ic,{asChild:!0,children:i.jsxs($,{className:"bg-marvel-red hover:bg-red-700",children:[i.jsx(ll,{className:"w-4 h-4 mr-2"}),"Add User"]})}),i.jsxs(Gs,{children:[i.jsx(Qs,{children:i.jsx(Zs,{children:"Create New User"})}),i.jsx(pK,{onSubmit:f.mutate,isLoading:f.isPending})]})]})]}),i.jsx("div",{className:"flex gap-4",children:i.jsx("div",{className:"flex-1",children:i.jsx(ne,{placeholder:"Search users by username or email...",value:o,onChange:v=>l(v.target.value),className:"bg-white"})})}),i.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Plan"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Onboarding"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h?i.jsx("tr",{children:i.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-gray-500",children:"Loading users..."})}):g.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-gray-500",children:"No users found"})}):g.map(v=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center mr-3",children:i.jsx(Vn,{className:"w-4 h-4 text-gray-500"})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.username}),i.jsx("div",{className:"text-sm text-gray-500",children:v.email})]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.isAdmin?i.jsxs(ve,{className:"bg-red-600 text-white border-red-600",children:[i.jsx(lm,{className:"w-3 h-3 mr-1"}),"Admin"]}):i.jsx(ve,{className:"bg-gray-100 text-gray-800 border-gray-300",children:"User"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx(ve,{variant:"secondary",children:v.plan})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.onboardingComplete?i.jsx(ve,{className:"bg-green-100 text-green-800 border-green-300",children:"Complete"}):i.jsx(ve,{className:"bg-yellow-100 text-yellow-800 border-yellow-300",children:"Pending"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(v.createdAt).toLocaleDateString()}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:v.lastLogin?new Date(v.lastLogin).toLocaleDateString():"Never"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx($,{variant:"outline",size:"sm",onClick:()=>{a(v),n(!0)},children:i.jsx(Uo,{className:"w-4 h-4"})}),i.jsx($,{variant:"destructive",size:"sm",onClick:()=>m(v),disabled:b.isPending,children:i.jsx(Co,{className:"w-4 h-4"})})]})})]},v.id))})]})})}),i.jsx(ln,{open:s,onOpenChange:n,children:i.jsxs(Gs,{children:[i.jsx(Qs,{children:i.jsx(Zs,{children:"Edit User"})}),r&&i.jsx(gK,{user:r,onSubmit:v=>p.mutate({id:r.id,...v}),isLoading:p.isPending})]})})]})}function pK({onSubmit:t,isLoading:e}){const[s,n]=x.useState({username:"",email:"",password:"",isAdmin:!1,plan:"free"}),r=a=>{a.preventDefault(),t(s)};return i.jsxs("form",{onSubmit:r,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"username",children:"Username"}),i.jsx(ne,{id:"username",value:s.username,onChange:a=>n({...s,username:a.target.value}),required:!0,className:"bg-white"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"email",children:"Email"}),i.jsx(ne,{id:"email",type:"email",value:s.email,onChange:a=>n({...s,email:a.target.value}),required:!0,className:"bg-white"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"password",children:"Password"}),i.jsx(ne,{id:"password",type:"password",value:s.password,onChange:a=>n({...s,password:a.target.value}),required:!0,className:"bg-white"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"plan",children:"Plan"}),i.jsxs(qt,{value:s.plan,onValueChange:a=>n({...s,plan:a}),children:[i.jsx(zt,{className:"bg-white",children:i.jsx(Kt,{})}),i.jsxs(Vt,{children:[i.jsx(ke,{value:"free",children:"Free"}),i.jsx(ke,{value:"pro",children:"Pro"}),i.jsx(ke,{value:"premium",children:"Premium"})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(In,{id:"isAdmin",checked:s.isAdmin,onCheckedChange:a=>n({...s,isAdmin:a})}),i.jsx(G,{htmlFor:"isAdmin",children:"Admin privileges"})]}),i.jsx("div",{className:"flex justify-end gap-2",children:i.jsx($,{type:"submit",disabled:e,className:"bg-marvel-red hover:bg-red-700",children:"Create User"})})]})}function gK({user:t,onSubmit:e,isLoading:s}){const[n,r]=x.useState({username:t.username,email:t.email,isAdmin:t.isAdmin,plan:t.plan}),a=o=>{o.preventDefault(),e(n)};return i.jsxs("form",{onSubmit:a,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"username",className:"text-black",children:"Username"}),i.jsx(ne,{id:"username",value:n.username,onChange:o=>r({...n,username:o.target.value}),required:!0,className:"bg-white text-black"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"email",className:"text-black",children:"Email"}),i.jsx(ne,{id:"email",type:"email",value:n.email,onChange:o=>r({...n,email:o.target.value}),required:!0,className:"bg-white text-black"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"plan",className:"text-black",children:"Plan"}),i.jsxs(qt,{value:n.plan,onValueChange:o=>r({...n,plan:o}),children:[i.jsx(zt,{className:"bg-white text-black",children:i.jsx(Kt,{})}),i.jsxs(Vt,{children:[i.jsx(ke,{value:"SIDE_KICK",children:"SIDE KICK"}),i.jsx(ke,{value:"SUPER_HERO",children:"SUPER HERO"})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(In,{id:"isAdmin",checked:n.isAdmin,onCheckedChange:o=>r({...n,isAdmin:o})}),i.jsx(G,{htmlFor:"isAdmin",className:"text-black",children:"Admin privileges"})]}),i.jsx("div",{className:"flex justify-end gap-2",children:i.jsx($,{type:"submit",disabled:s,className:"bg-marvel-red hover:bg-red-700",children:"Update User"})})]})}const ub=x.forwardRef(({className:t,...e},s)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:s,className:ye("w-full caption-bottom text-sm",t),...e})}));ub.displayName="Table";const hb=x.forwardRef(({className:t,...e},s)=>i.jsx("thead",{ref:s,className:ye("[&_tr]:border-b",t),...e}));hb.displayName="TableHeader";const fb=x.forwardRef(({className:t,...e},s)=>i.jsx("tbody",{ref:s,className:ye("[&_tr:last-child]:border-0",t),...e}));fb.displayName="TableBody";const xK=x.forwardRef(({className:t,...e},s)=>i.jsx("tfoot",{ref:s,className:ye("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));xK.displayName="TableFooter";const iu=x.forwardRef(({className:t,...e},s)=>i.jsx("tr",{ref:s,className:ye("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));iu.displayName="TableRow";const oi=x.forwardRef(({className:t,...e},s)=>i.jsx("th",{ref:s,className:ye("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));oi.displayName="TableHead";const li=x.forwardRef(({className:t,...e},s)=>i.jsx("td",{ref:s,className:ye("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));li.displayName="TableCell";const yK=x.forwardRef(({className:t,...e},s)=>i.jsx("caption",{ref:s,className:ye("mt-4 text-sm text-muted-foreground",t),...e}));yK.displayName="TableCaption";var Ju=t=>t.type==="checkbox",Ga=t=>t instanceof Date,Ps=t=>t==null;const g4=t=>typeof t=="object";var $t=t=>!Ps(t)&&!Array.isArray(t)&&g4(t)&&!Ga(t),x4=t=>$t(t)&&t.target?Ju(t.target)?t.target.checked:t.target.value:t,vK=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,y4=(t,e)=>t.has(vK(e)),bK=t=>{const e=t.constructor&&t.constructor.prototype;return $t(e)&&e.hasOwnProperty("isPrototypeOf")},mb=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function as(t){let e;const s=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(mb&&(t instanceof Blob||n))&&(s||$t(t)))if(e=s?[]:{},!s&&!bK(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=as(t[r]));else return t;return e}var Mp=t=>Array.isArray(t)?t.filter(Boolean):[],Lt=t=>t===void 0,de=(t,e,s)=>{if(!e||!$t(t))return s;const n=Mp(e.split(/[,[\].]+?/)).reduce((r,a)=>Ps(r)?r:r[a],t);return Lt(n)||n===t?Lt(t[e])?s:t[e]:n},tn=t=>typeof t=="boolean",pb=t=>/^\w*$/.test(t),v4=t=>Mp(t.replace(/["|']|\]/g,"").split(/\.|\[/)),rt=(t,e,s)=>{let n=-1;const r=pb(e)?[e]:v4(e),a=r.length,o=a-1;for(;++n<a;){const l=r[n];let c=s;if(n!==o){const d=t[l];c=$t(d)||Array.isArray(d)?d:isNaN(+r[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const ym={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Wn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Wr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},b4=Oe.createContext(null),Rp=()=>Oe.useContext(b4),wK=t=>{const{children:e,...s}=t;return Oe.createElement(b4.Provider,{value:s},e)};var w4=(t,e,s,n=!0)=>{const r={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(r,a,{get:()=>{const o=a;return e._proxyFormState[o]!==Wn.all&&(e._proxyFormState[o]=!n||Wn.all),s&&(s[o]=!0),t[o]}});return r};function jK(t){const e=Rp(),{control:s=e.control,disabled:n,name:r,exact:a}=t||{},[o,l]=Oe.useState(s._formState),c=Oe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=Oe.useRef(r);return d.current=r,Oe.useEffect(()=>s._subscribe({name:d.current,formState:c.current,exact:a,callback:u=>{!n&&l({...s._formState,...u})}}),[s,n,a]),Oe.useEffect(()=>{c.current.isValid&&s._setValid(!0)},[s]),Oe.useMemo(()=>w4(o,s,c.current,!1),[o,s])}var _r=t=>typeof t=="string",j4=(t,e,s,n,r)=>_r(t)?(n&&e.watch.add(t),de(s,t,r)):Array.isArray(t)?t.map(a=>(n&&e.watch.add(a),de(s,a))):(n&&(e.watchAll=!0),s);function NK(t){const e=Rp(),{control:s=e.control,name:n,defaultValue:r,disabled:a,exact:o}=t||{},l=Oe.useRef(n),c=Oe.useRef(r);l.current=n,Oe.useEffect(()=>s._subscribe({name:l.current,formState:{values:!0},exact:o,callback:h=>!a&&u(j4(l.current,s._names,h.values||s._formValues,!1,c.current))}),[s,a,o]);const[d,u]=Oe.useState(s._getWatch(n,r));return Oe.useEffect(()=>s._removeUnmounted()),d}function SK(t){const e=Rp(),{name:s,disabled:n,control:r=e.control,shouldUnregister:a}=t,o=y4(r._names.array,s),l=NK({control:r,name:s,defaultValue:de(r._formValues,s,de(r._defaultValues,s,t.defaultValue)),exact:!0}),c=jK({control:r,name:s,exact:!0}),d=Oe.useRef(t),u=Oe.useRef(r.register(s,{...t.rules,value:l,...tn(t.disabled)?{disabled:t.disabled}:{}})),h=Oe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!de(c.errors,s)},isDirty:{enumerable:!0,get:()=>!!de(c.dirtyFields,s)},isTouched:{enumerable:!0,get:()=>!!de(c.touchedFields,s)},isValidating:{enumerable:!0,get:()=>!!de(c.validatingFields,s)},error:{enumerable:!0,get:()=>de(c.errors,s)}}),[c,s]),f=Oe.useCallback(g=>u.current.onChange({target:{value:x4(g),name:s},type:ym.CHANGE}),[s]),p=Oe.useCallback(()=>u.current.onBlur({target:{value:de(r._formValues,s),name:s},type:ym.BLUR}),[s,r._formValues]),b=Oe.useCallback(g=>{const v=de(r._fields,s);v&&g&&(v._f.ref={focus:()=>g.focus(),select:()=>g.select(),setCustomValidity:y=>g.setCustomValidity(y),reportValidity:()=>g.reportValidity()})},[r._fields,s]),m=Oe.useMemo(()=>({name:s,value:l,...tn(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:f,onBlur:p,ref:b}),[s,n,c.disabled,f,p,b,l]);return Oe.useEffect(()=>{const g=r._options.shouldUnregister||a;r.register(s,{...d.current.rules,...tn(d.current.disabled)?{disabled:d.current.disabled}:{}});const v=(y,w)=>{const j=de(r._fields,y);j&&j._f&&(j._f.mount=w)};if(v(s,!0),g){const y=as(de(r._options.defaultValues,s));rt(r._defaultValues,s,y),Lt(de(r._formValues,s))&&rt(r._formValues,s,y)}return!o&&r.register(s),()=>{(o?g&&!r._state.action:g)?r.unregister(s):v(s,!1)}},[s,r,o,a]),Oe.useEffect(()=>{r._setDisabledField({disabled:n,name:s})},[n,s,r]),Oe.useMemo(()=>({field:m,formState:c,fieldState:h}),[m,c,h])}const _K=t=>t.render(SK(t));var N4=(t,e,s,n,r)=>e?{...s[t],types:{...s[t]&&s[t].types?s[t].types:{},[n]:r||!0}}:{},Sd=t=>Array.isArray(t)?t:[t],LN=()=>{let t=[];return{get observers(){return t},next:r=>{for(const a of t)a.next&&a.next(r)},subscribe:r=>(t.push(r),{unsubscribe:()=>{t=t.filter(a=>a!==r)}}),unsubscribe:()=>{t=[]}}},zy=t=>Ps(t)||!g4(t);function Vi(t,e){if(zy(t)||zy(e))return t===e;if(Ga(t)&&Ga(e))return t.getTime()===e.getTime();const s=Object.keys(t),n=Object.keys(e);if(s.length!==n.length)return!1;for(const r of s){const a=t[r];if(!n.includes(r))return!1;if(r!=="ref"){const o=e[r];if(Ga(a)&&Ga(o)||$t(a)&&$t(o)||Array.isArray(a)&&Array.isArray(o)?!Vi(a,o):a!==o)return!1}}return!0}var Is=t=>$t(t)&&!Object.keys(t).length,gb=t=>t.type==="file",qn=t=>typeof t=="function",vm=t=>{if(!mb)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},S4=t=>t.type==="select-multiple",xb=t=>t.type==="radio",CK=t=>xb(t)||Ju(t),Hg=t=>vm(t)&&t.isConnected;function kK(t,e){const s=e.slice(0,-1).length;let n=0;for(;n<s;)t=Lt(t)?n++:t[e[n++]];return t}function IK(t){for(const e in t)if(t.hasOwnProperty(e)&&!Lt(t[e]))return!1;return!0}function Qt(t,e){const s=Array.isArray(e)?e:pb(e)?[e]:v4(e),n=s.length===1?t:kK(t,s),r=s.length-1,a=s[r];return n&&delete n[a],r!==0&&($t(n)&&Is(n)||Array.isArray(n)&&IK(n))&&Qt(t,s.slice(0,-1)),t}var _4=t=>{for(const e in t)if(qn(t[e]))return!0;return!1};function bm(t,e={}){const s=Array.isArray(t);if($t(t)||s)for(const n in t)Array.isArray(t[n])||$t(t[n])&&!_4(t[n])?(e[n]=Array.isArray(t[n])?[]:{},bm(t[n],e[n])):Ps(t[n])||(e[n]=!0);return e}function C4(t,e,s){const n=Array.isArray(t);if($t(t)||n)for(const r in t)Array.isArray(t[r])||$t(t[r])&&!_4(t[r])?Lt(e)||zy(s[r])?s[r]=Array.isArray(t[r])?bm(t[r],[]):{...bm(t[r])}:C4(t[r],Ps(e)?{}:e[r],s[r]):s[r]=!Vi(t[r],e[r]);return s}var Wc=(t,e)=>C4(t,e,bm(e));const FN={value:!1,isValid:!1},UN={value:!0,isValid:!0};var k4=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Lt(t[0].attributes.value)?Lt(t[0].value)||t[0].value===""?UN:{value:t[0].value,isValid:!0}:UN:FN}return FN},I4=(t,{valueAsNumber:e,valueAsDate:s,setValueAs:n})=>Lt(t)?t:e?t===""?NaN:t&&+t:s&&_r(t)?new Date(t):n?n(t):t;const zN={isValid:!1,value:null};var E4=t=>Array.isArray(t)?t.reduce((e,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:e,zN):zN;function VN(t){const e=t.ref;return gb(e)?e.files:xb(e)?E4(t.refs).value:S4(e)?[...e.selectedOptions].map(({value:s})=>s):Ju(e)?k4(t.refs).value:I4(Lt(e.value)?t.ref.value:e.value,t)}var EK=(t,e,s,n)=>{const r={};for(const a of t){const o=de(e,a);o&&rt(r,a,o._f)}return{criteriaMode:s,names:[...t],fields:r,shouldUseNativeValidation:n}},wm=t=>t instanceof RegExp,qc=t=>Lt(t)?t:wm(t)?t.source:$t(t)?wm(t.value)?t.value.source:t.value:t,$N=t=>({isOnSubmit:!t||t===Wn.onSubmit,isOnBlur:t===Wn.onBlur,isOnChange:t===Wn.onChange,isOnAll:t===Wn.all,isOnTouch:t===Wn.onTouched});const BN="AsyncFunction";var PK=t=>!!t&&!!t.validate&&!!(qn(t.validate)&&t.validate.constructor.name===BN||$t(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===BN)),TK=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),HN=(t,e,s)=>!s&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const _d=(t,e,s,n)=>{for(const r of s||Object.keys(t)){const a=de(t,r);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],r)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(_d(l,e))break}else if($t(l)&&_d(l,e))break}}};function WN(t,e,s){const n=de(t,s);if(n||pb(s))return{error:n,name:s};const r=s.split(".");for(;r.length;){const a=r.join("."),o=de(e,a),l=de(t,a);if(o&&!Array.isArray(o)&&s!==a)return{name:s};if(l&&l.type)return{name:a,error:l};r.pop()}return{name:s}}var AK=(t,e,s,n)=>{s(t);const{name:r,...a}=t;return Is(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===(!n||Wn.all))},MK=(t,e,s)=>!t||!e||t===e||Sd(t).some(n=>n&&(s?n===e:n.startsWith(e)||e.startsWith(n))),RK=(t,e,s,n,r)=>r.isOnAll?!1:!s&&r.isOnTouch?!(e||t):(s?n.isOnBlur:r.isOnBlur)?!t:(s?n.isOnChange:r.isOnChange)?t:!0,DK=(t,e)=>!Mp(de(t,e)).length&&Qt(t,e),OK=(t,e,s)=>{const n=Sd(de(t,s));return rt(n,"root",e[s]),rt(t,s,n),t},wf=t=>_r(t);function qN(t,e,s="validate"){if(wf(t)||Array.isArray(t)&&t.every(wf)||tn(t)&&!t)return{type:s,message:wf(t)?t:"",ref:e}}var Ko=t=>$t(t)&&!wm(t)?t:{value:t,message:""},KN=async(t,e,s,n,r,a)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:h,max:f,pattern:p,validate:b,name:m,valueAsNumber:g,mount:v}=t._f,y=de(s,m);if(!v||e.has(m))return{};const w=l?l[0]:o,j=I=>{r&&w.reportValidity&&(w.setCustomValidity(tn(I)?"":I||""),w.reportValidity())},N={},C=xb(o),_=Ju(o),k=C||_,M=(g||gb(o))&&Lt(o.value)&&Lt(y)||vm(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,L=N4.bind(null,m,n,N),O=(I,B,H,J=Wr.maxLength,z=Wr.minLength)=>{const q=I?B:H;N[m]={type:I?J:z,message:q,ref:o,...L(I?J:z,q)}};if(a?!Array.isArray(y)||!y.length:c&&(!k&&(M||Ps(y))||tn(y)&&!y||_&&!k4(l).isValid||C&&!E4(l).isValid)){const{value:I,message:B}=wf(c)?{value:!!c,message:c}:Ko(c);if(I&&(N[m]={type:Wr.required,message:B,ref:w,...L(Wr.required,B)},!n))return j(B),N}if(!M&&(!Ps(h)||!Ps(f))){let I,B;const H=Ko(f),J=Ko(h);if(!Ps(y)&&!isNaN(y)){const z=o.valueAsNumber||y&&+y;Ps(H.value)||(I=z>H.value),Ps(J.value)||(B=z<J.value)}else{const z=o.valueAsDate||new Date(y),q=Q=>new Date(new Date().toDateString()+" "+Q),F=o.type=="time",W=o.type=="week";_r(H.value)&&y&&(I=F?q(y)>q(H.value):W?y>H.value:z>new Date(H.value)),_r(J.value)&&y&&(B=F?q(y)<q(J.value):W?y<J.value:z<new Date(J.value))}if((I||B)&&(O(!!I,H.message,J.message,Wr.max,Wr.min),!n))return j(N[m].message),N}if((d||u)&&!M&&(_r(y)||a&&Array.isArray(y))){const I=Ko(d),B=Ko(u),H=!Ps(I.value)&&y.length>+I.value,J=!Ps(B.value)&&y.length<+B.value;if((H||J)&&(O(H,I.message,B.message),!n))return j(N[m].message),N}if(p&&!M&&_r(y)){const{value:I,message:B}=Ko(p);if(wm(I)&&!y.match(I)&&(N[m]={type:Wr.pattern,message:B,ref:o,...L(Wr.pattern,B)},!n))return j(B),N}if(b){if(qn(b)){const I=await b(y,s),B=qN(I,w);if(B&&(N[m]={...B,...L(Wr.validate,B.message)},!n))return j(B.message),N}else if($t(b)){let I={};for(const B in b){if(!Is(I)&&!n)break;const H=qN(await b[B](y,s),w,B);H&&(I={...H,...L(B,H.message)},j(H.message),n&&(N[m]=I))}if(!Is(I)&&(N[m]={ref:w,...I},!n))return N}}return j(!0),N};const LK={mode:Wn.onSubmit,reValidateMode:Wn.onChange,shouldFocusError:!0};function FK(t={}){let e={...LK,...t},s={submitCount:0,isDirty:!1,isLoading:qn(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const n={};let r=$t(e.defaultValues)||$t(e.values)?as(e.values||e.defaultValues)||{}:{},a=e.shouldUnregister?{}:as(r),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...u};const f={array:LN(),state:LN()},p=$N(e.mode),b=$N(e.reValidateMode),m=e.criteriaMode===Wn.all,g=S=>T=>{clearTimeout(d),d=setTimeout(S,T)},v=async S=>{if(!e.disabled&&(u.isValid||h.isValid||S)){const T=e.resolver?Is((await M()).errors):await O(n,!0);T!==s.isValid&&f.state.next({isValid:T})}},y=(S,T)=>{!e.disabled&&(u.isValidating||u.validatingFields||h.isValidating||h.validatingFields)&&((S||Array.from(l.mount)).forEach(V=>{V&&(T?rt(s.validatingFields,V,T):Qt(s.validatingFields,V))}),f.state.next({validatingFields:s.validatingFields,isValidating:!Is(s.validatingFields)}))},w=(S,T=[],V,E,R=!0,U=!0)=>{if(E&&V&&!e.disabled){if(o.action=!0,U&&Array.isArray(de(n,S))){const K=V(de(n,S),E.argA,E.argB);R&&rt(n,S,K)}if(U&&Array.isArray(de(s.errors,S))){const K=V(de(s.errors,S),E.argA,E.argB);R&&rt(s.errors,S,K),DK(s.errors,S)}if((u.touchedFields||h.touchedFields)&&U&&Array.isArray(de(s.touchedFields,S))){const K=V(de(s.touchedFields,S),E.argA,E.argB);R&&rt(s.touchedFields,S,K)}(u.dirtyFields||h.dirtyFields)&&(s.dirtyFields=Wc(r,a)),f.state.next({name:S,isDirty:B(S,T),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else rt(a,S,T)},j=(S,T)=>{rt(s.errors,S,T),f.state.next({errors:s.errors})},N=S=>{s.errors=S,f.state.next({errors:s.errors,isValid:!1})},C=(S,T,V,E)=>{const R=de(n,S);if(R){const U=de(a,S,Lt(V)?de(r,S):V);Lt(U)||E&&E.defaultChecked||T?rt(a,S,T?U:VN(R._f)):z(S,U),o.mount&&v()}},_=(S,T,V,E,R)=>{let U=!1,K=!1;const Ne={name:S};if(!e.disabled){if(!V||E){(u.isDirty||h.isDirty)&&(K=s.isDirty,s.isDirty=Ne.isDirty=B(),U=K!==Ne.isDirty);const Pe=Vi(de(r,S),T);K=!!de(s.dirtyFields,S),Pe?Qt(s.dirtyFields,S):rt(s.dirtyFields,S,!0),Ne.dirtyFields=s.dirtyFields,U=U||(u.dirtyFields||h.dirtyFields)&&K!==!Pe}if(V){const Pe=de(s.touchedFields,S);Pe||(rt(s.touchedFields,S,V),Ne.touchedFields=s.touchedFields,U=U||(u.touchedFields||h.touchedFields)&&Pe!==V)}U&&R&&f.state.next(Ne)}return U?Ne:{}},k=(S,T,V,E)=>{const R=de(s.errors,S),U=(u.isValid||h.isValid)&&tn(T)&&s.isValid!==T;if(e.delayError&&V?(c=g(()=>j(S,V)),c(e.delayError)):(clearTimeout(d),c=null,V?rt(s.errors,S,V):Qt(s.errors,S)),(V?!Vi(R,V):R)||!Is(E)||U){const K={...E,...U&&tn(T)?{isValid:T}:{},errors:s.errors,name:S};s={...s,...K},f.state.next(K)}},M=async S=>{y(S,!0);const T=await e.resolver(a,e.context,EK(S||l.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return y(S),T},L=async S=>{const{errors:T}=await M(S);if(S)for(const V of S){const E=de(T,V);E?rt(s.errors,V,E):Qt(s.errors,V)}else s.errors=T;return T},O=async(S,T,V={valid:!0})=>{for(const E in S){const R=S[E];if(R){const{_f:U,...K}=R;if(U){const Ne=l.array.has(U.name),Pe=R._f&&PK(R._f);Pe&&u.validatingFields&&y([E],!0);const nt=await KN(R,l.disabled,a,m,e.shouldUseNativeValidation&&!T,Ne);if(Pe&&u.validatingFields&&y([E]),nt[U.name]&&(V.valid=!1,T))break;!T&&(de(nt,U.name)?Ne?OK(s.errors,nt,U.name):rt(s.errors,U.name,nt[U.name]):Qt(s.errors,U.name))}!Is(K)&&await O(K,T,V)}}return V.valid},I=()=>{for(const S of l.unMount){const T=de(n,S);T&&(T._f.refs?T._f.refs.every(V=>!Hg(V)):!Hg(T._f.ref))&&P(S)}l.unMount=new Set},B=(S,T)=>!e.disabled&&(S&&T&&rt(a,S,T),!Vi(he(),r)),H=(S,T,V)=>j4(S,l,{...o.mount?a:Lt(T)?r:_r(S)?{[S]:T}:T},V,T),J=S=>Mp(de(o.mount?a:r,S,e.shouldUnregister?de(r,S,[]):[])),z=(S,T,V={})=>{const E=de(n,S);let R=T;if(E){const U=E._f;U&&(!U.disabled&&rt(a,S,I4(T,U)),R=vm(U.ref)&&Ps(T)?"":T,S4(U.ref)?[...U.ref.options].forEach(K=>K.selected=R.includes(K.value)):U.refs?Ju(U.ref)?U.refs.length>1?U.refs.forEach(K=>(!K.defaultChecked||!K.disabled)&&(K.checked=Array.isArray(R)?!!R.find(Ne=>Ne===K.value):R===K.value)):U.refs[0]&&(U.refs[0].checked=!!R):U.refs.forEach(K=>K.checked=K.value===R):gb(U.ref)?U.ref.value="":(U.ref.value=R,U.ref.type||f.state.next({name:S,values:as(a)})))}(V.shouldDirty||V.shouldTouch)&&_(S,R,V.shouldTouch,V.shouldDirty,!0),V.shouldValidate&&ae(S)},q=(S,T,V)=>{for(const E in T){const R=T[E],U=`${S}.${E}`,K=de(n,U);(l.array.has(S)||$t(R)||K&&!K._f)&&!Ga(R)?q(U,R,V):z(U,R,V)}},F=(S,T,V={})=>{const E=de(n,S),R=l.array.has(S),U=as(T);rt(a,S,U),R?(f.array.next({name:S,values:as(a)}),(u.isDirty||u.dirtyFields||h.isDirty||h.dirtyFields)&&V.shouldDirty&&f.state.next({name:S,dirtyFields:Wc(r,a),isDirty:B(S,U)})):E&&!E._f&&!Ps(U)?q(S,U,V):z(S,U,V),HN(S,l)&&f.state.next({...s}),f.state.next({name:o.mount?S:void 0,values:as(a)})},W=async S=>{o.mount=!0;const T=S.target;let V=T.name,E=!0;const R=de(n,V),U=K=>{E=Number.isNaN(K)||Ga(K)&&isNaN(K.getTime())||Vi(K,de(a,V,K))};if(R){let K,Ne;const Pe=T.type?VN(R._f):x4(S),nt=S.type===ym.BLUR||S.type===ym.FOCUS_OUT,Tc=!TK(R._f)&&!e.resolver&&!de(s.errors,V)&&!R._f.deps||RK(nt,de(s.touchedFields,V),s.isSubmitted,b,p),_i=HN(V,l,nt);rt(a,V,Pe),nt?(R._f.onBlur&&R._f.onBlur(S),c&&c(0)):R._f.onChange&&R._f.onChange(S);const Ac=_(V,Pe,nt),Vp=!Is(Ac)||_i;if(!nt&&f.state.next({name:V,type:S.type,values:as(a)}),Tc)return(u.isValid||h.isValid)&&(e.mode==="onBlur"?nt&&v():nt||v()),Vp&&f.state.next({name:V,..._i?{}:Ac});if(!nt&&_i&&f.state.next({...s}),e.resolver){const{errors:ah}=await M([V]);if(U(Pe),E){const $p=WN(s.errors,n,V),oh=WN(ah,n,$p.name||V);K=oh.error,V=oh.name,Ne=Is(ah)}}else y([V],!0),K=(await KN(R,l.disabled,a,m,e.shouldUseNativeValidation))[V],y([V]),U(Pe),E&&(K?Ne=!1:(u.isValid||h.isValid)&&(Ne=await O(n,!0)));E&&(R._f.deps&&ae(R._f.deps),k(V,Ne,K,Ac))}},Q=(S,T)=>{if(de(s.errors,T)&&S.focus)return S.focus(),1},ae=async(S,T={})=>{let V,E;const R=Sd(S);if(e.resolver){const U=await L(Lt(S)?S:R);V=Is(U),E=S?!R.some(K=>de(U,K)):V}else S?(E=(await Promise.all(R.map(async U=>{const K=de(n,U);return await O(K&&K._f?{[U]:K}:K)}))).every(Boolean),!(!E&&!s.isValid)&&v()):E=V=await O(n);return f.state.next({...!_r(S)||(u.isValid||h.isValid)&&V!==s.isValid?{}:{name:S},...e.resolver||!S?{isValid:V}:{},errors:s.errors}),T.shouldFocus&&!E&&_d(n,Q,S?R:l.mount),E},he=S=>{const T={...o.mount?a:r};return Lt(S)?T:_r(S)?de(T,S):S.map(V=>de(T,V))},Be=(S,T)=>({invalid:!!de((T||s).errors,S),isDirty:!!de((T||s).dirtyFields,S),error:de((T||s).errors,S),isValidating:!!de(s.validatingFields,S),isTouched:!!de((T||s).touchedFields,S)}),Ae=S=>{S&&Sd(S).forEach(T=>Qt(s.errors,T)),f.state.next({errors:S?s.errors:{}})},Ye=(S,T,V)=>{const E=(de(n,S,{_f:{}})._f||{}).ref,R=de(s.errors,S)||{},{ref:U,message:K,type:Ne,...Pe}=R;rt(s.errors,S,{...Pe,...T,ref:E}),f.state.next({name:S,errors:s.errors,isValid:!1}),V&&V.shouldFocus&&E&&E.focus&&E.focus()},Ue=(S,T)=>qn(S)?f.state.subscribe({next:V=>S(H(void 0,T),V)}):H(S,T,!0),ce=S=>f.state.subscribe({next:T=>{MK(S.name,T.name,S.exact)&&AK(T,S.formState||u,ut,S.reRenderRoot)&&S.callback({values:{...a},...s,...T})}}).unsubscribe,Ee=S=>(o.mount=!0,h={...h,...S.formState},ce({...S,formState:h})),P=(S,T={})=>{for(const V of S?Sd(S):l.mount)l.mount.delete(V),l.array.delete(V),T.keepValue||(Qt(n,V),Qt(a,V)),!T.keepError&&Qt(s.errors,V),!T.keepDirty&&Qt(s.dirtyFields,V),!T.keepTouched&&Qt(s.touchedFields,V),!T.keepIsValidating&&Qt(s.validatingFields,V),!e.shouldUnregister&&!T.keepDefaultValue&&Qt(r,V);f.state.next({values:as(a)}),f.state.next({...s,...T.keepDirty?{isDirty:B()}:{}}),!T.keepIsValid&&v()},Z=({disabled:S,name:T})=>{(tn(S)&&o.mount||S||l.disabled.has(T))&&(S?l.disabled.add(T):l.disabled.delete(T))},oe=(S,T={})=>{let V=de(n,S);const E=tn(T.disabled)||tn(e.disabled);return rt(n,S,{...V||{},_f:{...V&&V._f?V._f:{ref:{name:S}},name:S,mount:!0,...T}}),l.mount.add(S),V?Z({disabled:tn(T.disabled)?T.disabled:e.disabled,name:S}):C(S,!0,T.value),{...E?{disabled:T.disabled||e.disabled}:{},...e.progressive?{required:!!T.required,min:qc(T.min),max:qc(T.max),minLength:qc(T.minLength),maxLength:qc(T.maxLength),pattern:qc(T.pattern)}:{},name:S,onChange:W,onBlur:W,ref:R=>{if(R){oe(S,T),V=de(n,S);const U=Lt(R.value)&&R.querySelectorAll&&R.querySelectorAll("input,select,textarea")[0]||R,K=CK(U),Ne=V._f.refs||[];if(K?Ne.find(Pe=>Pe===U):U===V._f.ref)return;rt(n,S,{_f:{...V._f,...K?{refs:[...Ne.filter(Hg),U,...Array.isArray(de(r,S))?[{}]:[]],ref:{type:U.type,name:S}}:{ref:U}}}),C(S,!1,void 0,U)}else V=de(n,S,{}),V._f&&(V._f.mount=!1),(e.shouldUnregister||T.shouldUnregister)&&!(y4(l.array,S)&&o.action)&&l.unMount.add(S)}}},Y=()=>e.shouldFocusError&&_d(n,Q,l.mount),Ie=S=>{tn(S)&&(f.state.next({disabled:S}),_d(n,(T,V)=>{const E=de(n,V);E&&(T.disabled=E._f.disabled||S,Array.isArray(E._f.refs)&&E._f.refs.forEach(R=>{R.disabled=E._f.disabled||S}))},0,!1))},De=(S,T)=>async V=>{let E;V&&(V.preventDefault&&V.preventDefault(),V.persist&&V.persist());let R=as(a);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:U,values:K}=await M();s.errors=U,R=K}else await O(n);if(l.disabled.size)for(const U of l.disabled)rt(R,U,void 0);if(Qt(s.errors,"root"),Is(s.errors)){f.state.next({errors:{}});try{await S(R,V)}catch(U){E=U}}else T&&await T({...s.errors},V),Y(),setTimeout(Y);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Is(s.errors)&&!E,submitCount:s.submitCount+1,errors:s.errors}),E)throw E},ee=(S,T={})=>{de(n,S)&&(Lt(T.defaultValue)?F(S,as(de(r,S))):(F(S,T.defaultValue),rt(r,S,as(T.defaultValue))),T.keepTouched||Qt(s.touchedFields,S),T.keepDirty||(Qt(s.dirtyFields,S),s.isDirty=T.defaultValue?B(S,as(de(r,S))):B()),T.keepError||(Qt(s.errors,S),u.isValid&&v()),f.state.next({...s}))},ze=(S,T={})=>{const V=S?as(S):r,E=as(V),R=Is(S),U=R?r:E;if(T.keepDefaultValues||(r=V),!T.keepValues){if(T.keepDirtyValues){const K=new Set([...l.mount,...Object.keys(Wc(r,a))]);for(const Ne of Array.from(K))de(s.dirtyFields,Ne)?rt(U,Ne,de(a,Ne)):F(Ne,de(U,Ne))}else{if(mb&&Lt(S))for(const K of l.mount){const Ne=de(n,K);if(Ne&&Ne._f){const Pe=Array.isArray(Ne._f.refs)?Ne._f.refs[0]:Ne._f.ref;if(vm(Pe)){const nt=Pe.closest("form");if(nt){nt.reset();break}}}}for(const K of l.mount)F(K,de(U,K))}a=as(U),f.array.next({values:{...U}}),f.state.next({values:{...U}})}l={mount:T.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!T.keepIsValid||!!T.keepDirtyValues,o.watch=!!e.shouldUnregister,f.state.next({submitCount:T.keepSubmitCount?s.submitCount:0,isDirty:R?!1:T.keepDirty?s.isDirty:!!(T.keepDefaultValues&&!Vi(S,r)),isSubmitted:T.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:R?{}:T.keepDirtyValues?T.keepDefaultValues&&a?Wc(r,a):s.dirtyFields:T.keepDefaultValues&&S?Wc(r,S):T.keepDirty?s.dirtyFields:{},touchedFields:T.keepTouched?s.touchedFields:{},errors:T.keepErrors?s.errors:{},isSubmitSuccessful:T.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1})},Ke=(S,T)=>ze(qn(S)?S(a):S,T),jt=(S,T={})=>{const V=de(n,S),E=V&&V._f;if(E){const R=E.refs?E.refs[0]:E.ref;R.focus&&(R.focus(),T.shouldSelect&&qn(R.select)&&R.select())}},ut=S=>{s={...s,...S}},Nt={control:{register:oe,unregister:P,getFieldState:Be,handleSubmit:De,setError:Ye,_subscribe:ce,_runSchema:M,_getWatch:H,_getDirty:B,_setValid:v,_setFieldArray:w,_setDisabledField:Z,_setErrors:N,_getFieldArray:J,_reset:ze,_resetDefaultValues:()=>qn(e.defaultValues)&&e.defaultValues().then(S=>{Ke(S,e.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:Ie,_subjects:f,_proxyFormState:u,get _fields(){return n},get _formValues(){return a},get _state(){return o},set _state(S){o=S},get _defaultValues(){return r},get _names(){return l},set _names(S){l=S},get _formState(){return s},get _options(){return e},set _options(S){e={...e,...S}}},subscribe:Ee,trigger:ae,register:oe,handleSubmit:De,watch:Ue,setValue:F,getValues:he,reset:Ke,resetField:ee,clearErrors:Ae,unregister:P,setError:Ye,setFocus:jt,getFieldState:Be};return{...Nt,formControl:Nt}}function P4(t={}){const e=Oe.useRef(void 0),s=Oe.useRef(void 0),[n,r]=Oe.useState({isDirty:!1,isValidating:!1,isLoading:qn(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:qn(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:FK(t),formState:n},t.formControl&&t.defaultValues&&!qn(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const a=e.current.control;return a._options=t,Oe.useLayoutEffect(()=>a._subscribe({formState:a._proxyFormState,callback:()=>r({...a._formState}),reRenderRoot:!0}),[a]),Oe.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),Oe.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==n.isDirty&&a._subjects.state.next({isDirty:o})}},[a,n.isDirty]),Oe.useEffect(()=>{t.values&&!Vi(t.values,s.current)?(a._reset(t.values,a._options.resetOptions),s.current=t.values,r(o=>({...o}))):a._resetDefaultValues()},[t.values,a]),Oe.useEffect(()=>{t.errors&&!Is(t.errors)&&a._setErrors(t.errors)},[t.errors,a]),Oe.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),Oe.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[t.shouldUnregister,a]),e.current.formState=w4(n,a),e.current}const GN=(t,e,s)=>{if(t&&"reportValidity"in t){const n=de(s,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},T4=(t,e)=>{for(const s in e.fields){const n=e.fields[s];n&&n.ref&&"reportValidity"in n.ref?GN(n.ref,s,t):n.refs&&n.refs.forEach(r=>GN(r,s,t))}},UK=(t,e)=>{e.shouldUseNativeValidation&&T4(t,e);const s={};for(const n in t){const r=de(e.fields,n),a=Object.assign(t[n]||{},{ref:r&&r.ref});if(zK(e.names||Object.keys(t),n)){const o=Object.assign({},de(s,n));rt(o,"root",a),rt(s,n,o)}else rt(s,n,a)}return s},zK=(t,e)=>t.some(s=>s.startsWith(e+"."));var VK=function(t,e){for(var s={};t.length;){var n=t[0],r=n.code,a=n.message,o=n.path.join(".");if(!s[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];s[o]={message:l.message,type:l.code}}else s[o]={message:a,type:r};if("unionErrors"in n&&n.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return t.push(h)})}),e){var c=s[o].types,d=c&&c[n.code];s[o]=N4(o,e,s,r,d?[].concat(d,n.message):n.message)}t.shift()}return s},A4=function(t,e,s){return s===void 0&&(s={}),function(n,r,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[s.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(d){return a.shouldUseNativeValidation&&T4({},a),{errors:{},values:s.raw?n:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:UK(VK(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}};const M4=wK,R4=x.createContext({}),kl=({...t})=>i.jsx(R4.Provider,{value:{name:t.name},children:i.jsx(_K,{...t})}),Dp=()=>{const t=x.useContext(R4),e=x.useContext(D4),{getFieldState:s,formState:n}=Rp(),r=s(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...r}},D4=x.createContext({}),lo=x.forwardRef(({className:t,...e},s)=>{const n=x.useId();return i.jsx(D4.Provider,{value:{id:n},children:i.jsx("div",{ref:s,className:ye("space-y-2",t),...e})})});lo.displayName="FormItem";const co=x.forwardRef(({className:t,...e},s)=>{const{error:n,formItemId:r}=Dp();return i.jsx(G,{ref:s,className:ye(n&&"text-destructive",t),htmlFor:r,...e})});co.displayName="FormLabel";const uo=x.forwardRef(({...t},e)=>{const{error:s,formItemId:n,formDescriptionId:r,formMessageId:a}=Dp();return i.jsx(eT,{ref:e,id:n,"aria-describedby":s?`${r} ${a}`:`${r}`,"aria-invalid":!!s,...t})});uo.displayName="FormControl";const $K=x.forwardRef(({className:t,...e},s)=>{const{formDescriptionId:n}=Dp();return i.jsx("p",{ref:s,id:n,className:ye("text-sm text-muted-foreground",t),...e})});$K.displayName="FormDescription";const ho=x.forwardRef(({className:t,children:e,...s},n)=>{const{error:r,formMessageId:a}=Dp(),o=r?String((r==null?void 0:r.message)??""):e;return o?i.jsx("p",{ref:n,id:a,className:ye("text-sm font-medium text-destructive",t),...s,children:o}):null});ho.displayName="FormMessage";const X=Symbol.for("drizzle:entityKind");function Ht(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,X))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let s=Object.getPrototypeOf(t).constructor;if(s)for(;s;){if(X in s&&s[X]===e[X])return!0;s=Object.getPrototypeOf(s)}return!1}var AS;AS=X;class lc{constructor(e,s){A(this,"name");A(this,"keyAsName");A(this,"primary");A(this,"notNull");A(this,"default");A(this,"defaultFn");A(this,"onUpdateFn");A(this,"hasDefault");A(this,"isUnique");A(this,"uniqueName");A(this,"uniqueType");A(this,"dataType");A(this,"columnType");A(this,"enumValues");A(this,"generated");A(this,"generatedIdentity");A(this,"config");this.table=e,this.config=s,this.name=s.name,this.keyAsName=s.keyAsName,this.notNull=s.notNull,this.default=s.default,this.defaultFn=s.defaultFn,this.onUpdateFn=s.onUpdateFn,this.hasDefault=s.hasDefault,this.primary=s.primaryKey,this.isUnique=s.isUnique,this.uniqueName=s.uniqueName,this.uniqueType=s.uniqueType,this.dataType=s.dataType,this.columnType=s.columnType,this.generated=s.generated,this.generatedIdentity=s.generatedIdentity}mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}A(lc,AS,"Column");var MS;MS=X;class O4{constructor(e,s,n){A(this,"config");A(this,"$default",this.$defaultFn);A(this,"$onUpdate",this.$onUpdateFn);this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:s,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}A(O4,MS,"ColumnBuilder");const Il=Symbol.for("drizzle:Name");var RS;RS=X;class L4{constructor(e,s){A(this,"reference");A(this,"_onUpdate","no action");A(this,"_onDelete","no action");this.reference=()=>{const{name:n,columns:r,foreignColumns:a}=e();return{name:n,columns:r,foreignTable:a[0].table,foreignColumns:a}},s&&(this._onUpdate=s.onUpdate,this._onDelete=s.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new F4(e,this)}}A(L4,RS,"PgForeignKeyBuilder");var DS;DS=X;class F4{constructor(e,s){A(this,"reference");A(this,"onUpdate");A(this,"onDelete");this.table=e,this.reference=s.reference,this.onUpdate=s._onUpdate,this.onDelete=s._onDelete}getName(){const{name:e,columns:s,foreignColumns:n}=this.reference(),r=s.map(l=>l.name),a=n.map(l=>l.name),o=[this.table[Il],...r,n[0].table[Il],...a];return e??`${o.join("_")}_fk`}}A(F4,DS,"PgForeignKey");function BK(t,...e){return t(...e)}function HK(t,e){return`${t[Il]}_${e.join("_")}_unique`}function QN(t,e,s){for(let n=e;n<t.length;n++){const r=t[n];if(r==="\\"){n++;continue}if(r==='"')return[t.slice(e,n).replace(/\\/g,""),n+1];if(!s&&(r===","||r==="}"))return[t.slice(e,n).replace(/\\/g,""),n]}return[t.slice(e).replace(/\\/g,""),t.length]}function U4(t,e=0){const s=[];let n=e,r=!1;for(;n<t.length;){const a=t[n];if(a===","){(r||n===e)&&s.push(""),r=!0,n++;continue}if(r=!1,a==="\\"){n+=2;continue}if(a==='"'){const[c,d]=QN(t,n+1,!0);s.push(c),n=d;continue}if(a==="}")return[s,n+1];if(a==="{"){const[c,d]=U4(t,n+1);s.push(c),n=d;continue}const[o,l]=QN(t,n,!1);s.push(o),n=l}return[s,n]}function WK(t){const[e]=U4(t,1);return e}function z4(t){return`{${t.map(e=>Array.isArray(e)?z4(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}var OS,LS;class et extends(LS=O4,OS=X,LS){constructor(){super(...arguments);A(this,"foreignKeyConfigs",[])}array(s){return new $4(this.config.name,this,s)}references(s,n={}){return this.foreignKeyConfigs.push({ref:s,actions:n}),this}unique(s,n){return this.config.isUnique=!0,this.config.uniqueName=s,this.config.uniqueType=n==null?void 0:n.nulls,this}generatedAlwaysAs(s){return this.config.generated={as:s,type:"always",mode:"stored"},this}buildForeignKeys(s,n){return this.foreignKeyConfigs.map(({ref:r,actions:a})=>BK((o,l)=>{const c=new L4(()=>{const d=o();return{columns:[s],foreignColumns:[d]}});return l.onUpdate&&c.onUpdate(l.onUpdate),l.onDelete&&c.onDelete(l.onDelete),c.build(n)},r,a))}buildExtraConfigColumn(s){return new V4(s,this.config)}}A(et,OS,"PgColumnBuilder");var FS,US;class $e extends(US=lc,FS=X,US){constructor(e,s){s.uniqueName||(s.uniqueName=HK(e,[s.name])),super(e,s),this.table=e}}A($e,FS,"PgColumn");var zS,VS;class V4 extends(VS=$e,zS=X,VS){constructor(){super(...arguments);A(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});A(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(s){return this.indexConfig.opClass=s,this}}A(V4,zS,"ExtraConfigColumn");var $S;$S=X;class jf{constructor(e,s,n,r){A(this,"name");A(this,"keyAsName");A(this,"type");A(this,"indexConfig");this.name=e,this.keyAsName=s,this.type=n,this.indexConfig=r}}A(jf,$S,"IndexedColumn");var BS,HS;class $4 extends(HS=et,BS=X,HS){constructor(e,s,n){super(e,"array","PgArray"),this.config.baseBuilder=s,this.config.size=n}build(e){const s=this.config.baseBuilder.build(e);return new Vy(e,this.config,s)}}A($4,BS,"PgArrayBuilder");var WS,qS;const Hm=class Hm extends(qS=$e,WS=X,qS){constructor(s,n,r,a){super(s,n);A(this,"size");this.baseColumn=r,this.range=a,this.size=n.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(s){return typeof s=="string"&&(s=WK(s)),s.map(n=>this.baseColumn.mapFromDriverValue(n))}mapToDriverValue(s,n=!1){const r=s.map(a=>a===null?null:Ht(this.baseColumn,Hm)?this.baseColumn.mapToDriverValue(a,!0):this.baseColumn.mapToDriverValue(a));return n?r:z4(r)}};A(Hm,WS,"PgArray");let Vy=Hm;const ZN=Symbol.for("drizzle:isPgEnum");function qK(t){return!!t&&typeof t=="function"&&ZN in t&&t[ZN]===!0}var KS;KS=X;class yb{constructor(e,s,n,r=!1){this._={brand:"Subquery",sql:e,selectedFields:s,alias:n,isWith:r}}}A(yb,KS,"Subquery");const KK={startActiveSpan(t,e){return e()}},El=Symbol.for("drizzle:ViewBaseConfig"),Wg=Symbol.for("drizzle:Schema"),YN=Symbol.for("drizzle:Columns"),XN=Symbol.for("drizzle:ExtraConfigColumns"),qg=Symbol.for("drizzle:OriginalName"),Kg=Symbol.for("drizzle:BaseName"),jm=Symbol.for("drizzle:IsAlias"),JN=Symbol.for("drizzle:ExtraConfigBuilder"),B4=Symbol.for("drizzle:IsDrizzleTable");var GS,QS,ZS,YS,XS,JS,e_,t_,s_,n_;n_=X,s_=Il,t_=qg,e_=Wg,JS=YN,XS=XN,YS=Kg,ZS=jm,QS=B4,GS=JN;class Ts{constructor(e,s,n){A(this,s_);A(this,t_);A(this,e_);A(this,JS);A(this,XS);A(this,YS);A(this,ZS,!1);A(this,QS,!0);A(this,GS);this[Il]=this[qg]=e,this[Wg]=s,this[Kg]=n}}A(Ts,n_,"Table"),A(Ts,"Symbol",{Name:Il,Schema:Wg,OriginalName:qg,Columns:YN,ExtraConfigColumns:XN,BaseName:Kg,IsAlias:jm,ExtraConfigBuilder:JN});function H4(t){return typeof t=="object"&&t!==null&&B4 in t}function GK(t){return t!=null&&typeof t.getSQL=="function"}function QK(t){var s;const e={sql:"",params:[]};for(const n of t)e.sql+=n.sql,e.params.push(...n.params),(s=n.typings)!=null&&s.length&&(e.typings||(e.typings=[]),e.typings.push(...n.typings));return e}var r_;r_=X;class vn{constructor(e){A(this,"value");this.value=Array.isArray(e)?e:[e]}getSQL(){return new Dt([this])}}A(vn,r_,"StringChunk");var i_;i_=X;const $a=class $a{constructor(e){A(this,"decoder",W4);A(this,"shouldInlineParams",!1);this.queryChunks=e}append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return KK.startActiveSpan("drizzle.buildSQL",s=>{const n=this.buildQueryFromSourceParams(this.queryChunks,e);return s==null||s.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(e,s){const n=Object.assign({},s,{inlineParams:s.inlineParams||this.shouldInlineParams,paramStartIndex:s.paramStartIndex||{value:0}}),{casing:r,escapeName:a,escapeParam:o,prepareTyping:l,inlineParams:c,paramStartIndex:d}=n;return QK(e.map(u=>{var h;if(Ht(u,vn))return{sql:u.value.join(""),params:[]};if(Ht(u,Nm))return{sql:a(u.value),params:[]};if(u===void 0)return{sql:"",params:[]};if(Array.isArray(u)){const f=[new vn("(")];for(const[p,b]of u.entries())f.push(b),p<u.length-1&&f.push(new vn(", "));return f.push(new vn(")")),this.buildQueryFromSourceParams(f,n)}if(Ht(u,$a))return this.buildQueryFromSourceParams(u.queryChunks,{...n,inlineParams:c||u.shouldInlineParams});if(Ht(u,Ts)){const f=u[Ts.Symbol.Schema],p=u[Ts.Symbol.Name];return{sql:f===void 0||u[jm]?a(p):a(f)+"."+a(p),params:[]}}if(Ht(u,lc)){const f=r.getColumnCasing(u);if(s.invokeSource==="indexes")return{sql:a(f),params:[]};const p=u.table[Ts.Symbol.Schema];return{sql:u.table[jm]||p===void 0?a(u.table[Ts.Symbol.Name])+"."+a(f):a(p)+"."+a(u.table[Ts.Symbol.Name])+"."+a(f),params:[]}}if(Ht(u,G4)){const f=u[El].schema,p=u[El].name;return{sql:f===void 0||u[El].isAlias?a(p):a(f)+"."+a(p),params:[]}}if(Ht(u,vb)){if(Ht(u.value,_m))return{sql:o(d.value++,u),params:[u],typings:["none"]};const f=u.value===null?null:u.encoder.mapToDriverValue(u.value);if(Ht(f,$a))return this.buildQueryFromSourceParams([f],n);if(c)return{sql:this.mapInlineParam(f,n),params:[]};let p=["none"];return l&&(p=[l(u.encoder)]),{sql:o(d.value++,f),params:[f],typings:p}}return Ht(u,_m)?{sql:o(d.value++,u),params:[u],typings:["none"]}:Ht(u,$a.Aliased)&&u.fieldAlias!==void 0?{sql:a(u.fieldAlias),params:[]}:Ht(u,yb)?u._.isWith?{sql:a(u._.alias),params:[]}:this.buildQueryFromSourceParams([new vn("("),u._.sql,new vn(") "),new Nm(u._.alias)],n):qK(u)?u.schema?{sql:a(u.schema)+"."+a(u.enumName),params:[]}:{sql:a(u.enumName),params:[]}:GK(u)?(h=u.shouldOmitSQLParens)!=null&&h.call(u)?this.buildQueryFromSourceParams([u.getSQL()],n):this.buildQueryFromSourceParams([new vn("("),u.getSQL(),new vn(")")],n):c?{sql:this.mapInlineParam(u,n),params:[]}:{sql:o(d.value++,u),params:[u],typings:["none"]}}))}mapInlineParam(e,{escapeString:s}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return s(e);if(typeof e=="object"){const n=e.toString();return s(n==="[object Object]"?JSON.stringify(e):n)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new $a.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}};A($a,i_,"SQL");let Dt=$a;var a_;a_=X;class Nm{constructor(e){A(this,"brand");this.value=e}getSQL(){return new Dt([this])}}A(Nm,a_,"Name");const W4={mapFromDriverValue:t=>t},q4={mapToDriverValue:t=>t};({...W4,...q4});var o_;o_=X;class vb{constructor(e,s=q4){A(this,"brand");this.value=e,this.encoder=s}getSQL(){return new Dt([this])}}A(vb,o_,"Param");function Sm(t,...e){const s=[];(e.length>0||t.length>0&&t[0]!=="")&&s.push(new vn(t[0]));for(const[n,r]of e.entries())s.push(r,new vn(t[n+1]));return new Dt(s)}(t=>{function e(){return new Dt([])}t.empty=e;function s(c){return new Dt(c)}t.fromList=s;function n(c){return new Dt([new vn(c)])}t.raw=n;function r(c,d){const u=[];for(const[h,f]of c.entries())h>0&&d!==void 0&&u.push(d),u.push(f);return new Dt(u)}t.join=r;function a(c){return new Nm(c)}t.identifier=a;function o(c){return new _m(c)}t.placeholder=o;function l(c,d){return new vb(c,d)}t.param=l})(Sm||(Sm={}));(t=>{var s;s=X;const n=class n{constructor(a,o){A(this,"isSelectionField",!1);this.sql=a,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new n(this.sql,this.fieldAlias)}};A(n,s,"SQL.Aliased");let e=n;t.Aliased=e})(Dt||(Dt={}));var l_;l_=X;class _m{constructor(e){this.name=e}getSQL(){return new Dt([this])}}A(_m,l_,"Placeholder");const K4=Symbol.for("drizzle:IsDrizzleView");var c_,d_,u_;u_=X,d_=El,c_=K4;class G4{constructor({name:e,schema:s,selectedFields:n,query:r}){A(this,d_);A(this,c_,!0);this[El]={name:e,originalName:e,schema:s,selectedFields:n,query:r,isExisting:!r,isAlias:!1}}getSQL(){return new Dt([this])}}A(G4,u_,"View");function ZK(t){return typeof t=="object"&&t!==null&&K4 in t}lc.prototype.getSQL=function(){return new Dt([this])};Ts.prototype.getSQL=function(){return new Dt([this])};yb.prototype.getSQL=function(){return new Dt([this])};function YK(t){return t[Ts.Symbol.Columns]}function XK(t){return t[El].selectedFields}function rs(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}var h_,f_;class eh extends(f_=et,h_=X,f_){generatedAlwaysAsIdentity(e){if(e){const{name:s,...n}=e;this.config.generatedIdentity={type:"always",sequenceName:s,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:s,...n}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:s,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}A(eh,h_,"PgIntColumnBaseBuilder");var m_,p_;class Q4 extends(p_=eh,m_=X,p_){constructor(e){super(e,"number","PgBigInt53")}build(e){return new Z4(e,this.config)}}A(Q4,m_,"PgBigInt53Builder");var g_,x_;class Z4 extends(x_=$e,g_=X,x_){getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}A(Z4,g_,"PgBigInt53");var y_,v_;class Y4 extends(v_=eh,y_=X,v_){constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new X4(e,this.config)}}A(Y4,y_,"PgBigInt64Builder");var b_,w_;class X4 extends(w_=$e,b_=X,w_){getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}A(X4,b_,"PgBigInt64");function JK(t,e){const{name:s,config:n}=rs(t,e);return n.mode==="number"?new Q4(s):new Y4(s)}var j_,N_;class J4 extends(N_=et,j_=X,N_){constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new eD(e,this.config)}}A(J4,j_,"PgBigSerial53Builder");var S_,__;class eD extends(__=$e,S_=X,__){getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}A(eD,S_,"PgBigSerial53");var C_,k_;class tD extends(k_=et,C_=X,k_){constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new sD(e,this.config)}}A(tD,C_,"PgBigSerial64Builder");var I_,E_;class sD extends(E_=$e,I_=X,E_){getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}A(sD,I_,"PgBigSerial64");function eG(t,e){const{name:s,config:n}=rs(t,e);return n.mode==="number"?new J4(s):new tD(s)}var P_,T_;class nD extends(T_=et,P_=X,T_){constructor(e){super(e,"boolean","PgBoolean")}build(e){return new rD(e,this.config)}}A(nD,P_,"PgBooleanBuilder");var A_,M_;class rD extends(M_=$e,A_=X,M_){getSQLType(){return"boolean"}}A(rD,A_,"PgBoolean");function ls(t){return new nD(t??"")}var R_,D_;class iD extends(D_=et,R_=X,D_){constructor(e,s){super(e,"string","PgChar"),this.config.length=s.length,this.config.enumValues=s.enum}build(e){return new aD(e,this.config)}}A(iD,R_,"PgCharBuilder");var O_,L_;class aD extends(L_=$e,O_=X,L_){constructor(){super(...arguments);A(this,"length",this.config.length);A(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}A(aD,O_,"PgChar");function tG(t,e={}){const{name:s,config:n}=rs(t,e);return new iD(s,n)}var F_,U_;class oD extends(U_=et,F_=X,U_){constructor(e){super(e,"string","PgCidr")}build(e){return new lD(e,this.config)}}A(oD,F_,"PgCidrBuilder");var z_,V_;class lD extends(V_=$e,z_=X,V_){getSQLType(){return"cidr"}}A(lD,z_,"PgCidr");function sG(t){return new oD(t??"")}var $_,B_;class cD extends(B_=et,$_=X,B_){constructor(e,s,n){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=s,this.config.customTypeParams=n}build(e){return new dD(e,this.config)}}A(cD,$_,"PgCustomColumnBuilder");var H_,W_;class dD extends(W_=$e,H_=X,W_){constructor(s,n){super(s,n);A(this,"sqlName");A(this,"mapTo");A(this,"mapFrom");this.sqlName=n.customTypeParams.dataType(n.fieldConfig),this.mapTo=n.customTypeParams.toDriver,this.mapFrom=n.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(s){return typeof this.mapFrom=="function"?this.mapFrom(s):s}mapToDriverValue(s){return typeof this.mapTo=="function"?this.mapTo(s):s}}A(dD,H_,"PgCustomColumn");function nG(t){return(e,s)=>{const{name:n,config:r}=rs(e,s);return new cD(n,r,t)}}var q_,K_;class Ec extends(K_=et,q_=X,K_){defaultNow(){return this.default(Sm`now()`)}}A(Ec,q_,"PgDateColumnBaseBuilder");var G_,Q_;class uD extends(Q_=Ec,G_=X,Q_){constructor(e){super(e,"date","PgDate")}build(e){return new hD(e,this.config)}}A(uD,G_,"PgDateBuilder");var Z_,Y_;class hD extends(Y_=$e,Z_=X,Y_){getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}A(hD,Z_,"PgDate");var X_,J_;class fD extends(J_=Ec,X_=X,J_){constructor(e){super(e,"string","PgDateString")}build(e){return new mD(e,this.config)}}A(fD,X_,"PgDateStringBuilder");var eC,tC;class mD extends(tC=$e,eC=X,tC){getSQLType(){return"date"}}A(mD,eC,"PgDateString");function rG(t,e){const{name:s,config:n}=rs(t,e);return(n==null?void 0:n.mode)==="date"?new uD(s):new fD(s)}var sC,nC;class pD extends(nC=et,sC=X,nC){constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new gD(e,this.config)}}A(pD,sC,"PgDoublePrecisionBuilder");var rC,iC;class gD extends(iC=$e,rC=X,iC){getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}A(gD,rC,"PgDoublePrecision");function iG(t){return new pD(t??"")}var aC,oC;class xD extends(oC=et,aC=X,oC){constructor(e){super(e,"string","PgInet")}build(e){return new yD(e,this.config)}}A(xD,aC,"PgInetBuilder");var lC,cC;class yD extends(cC=$e,lC=X,cC){getSQLType(){return"inet"}}A(yD,lC,"PgInet");function aG(t){return new xD(t??"")}var dC,uC;class vD extends(uC=eh,dC=X,uC){constructor(e){super(e,"number","PgInteger")}build(e){return new bD(e,this.config)}}A(vD,dC,"PgIntegerBuilder");var hC,fC;class bD extends(fC=$e,hC=X,fC){getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}A(bD,hC,"PgInteger");function at(t){return new vD(t??"")}var mC,pC;class wD extends(pC=et,mC=X,pC){constructor(e,s){super(e,"string","PgInterval"),this.config.intervalConfig=s}build(e){return new jD(e,this.config)}}A(wD,mC,"PgIntervalBuilder");var gC,xC;class jD extends(xC=$e,gC=X,xC){constructor(){super(...arguments);A(this,"fields",this.config.intervalConfig.fields);A(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const s=this.fields?` ${this.fields}`:"",n=this.precision?`(${this.precision})`:"";return`interval${s}${n}`}}A(jD,gC,"PgInterval");function oG(t,e={}){const{name:s,config:n}=rs(t,e);return new wD(s,n)}var yC,vC;class ND extends(vC=et,yC=X,vC){constructor(e){super(e,"json","PgJson")}build(e){return new SD(e,this.config)}}A(ND,yC,"PgJsonBuilder");var bC,wC;class SD extends(wC=$e,bC=X,wC){constructor(e,s){super(e,s)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}A(SD,bC,"PgJson");function lG(t){return new ND(t??"")}var jC,NC;class _D extends(NC=et,jC=X,NC){constructor(e){super(e,"json","PgJsonb")}build(e){return new CD(e,this.config)}}A(_D,jC,"PgJsonbBuilder");var SC,_C;class CD extends(_C=$e,SC=X,_C){constructor(e,s){super(e,s)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}A(CD,SC,"PgJsonb");function cG(t){return new _D(t??"")}var CC,kC;class kD extends(kC=et,CC=X,kC){constructor(e){super(e,"array","PgLine")}build(e){return new ID(e,this.config)}}A(kD,CC,"PgLineBuilder");var IC,EC;class ID extends(EC=$e,IC=X,EC){getSQLType(){return"line"}mapFromDriverValue(e){const[s,n,r]=e.slice(1,-1).split(",");return[Number.parseFloat(s),Number.parseFloat(n),Number.parseFloat(r)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}A(ID,IC,"PgLine");var PC,TC;class ED extends(TC=et,PC=X,TC){constructor(e){super(e,"json","PgLineABC")}build(e){return new PD(e,this.config)}}A(ED,PC,"PgLineABCBuilder");var AC,MC;class PD extends(MC=$e,AC=X,MC){getSQLType(){return"line"}mapFromDriverValue(e){const[s,n,r]=e.slice(1,-1).split(",");return{a:Number.parseFloat(s),b:Number.parseFloat(n),c:Number.parseFloat(r)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}A(PD,AC,"PgLineABC");function dG(t,e){const{name:s,config:n}=rs(t,e);return!(n!=null&&n.mode)||n.mode==="tuple"?new kD(s):new ED(s)}var RC,DC;class TD extends(DC=et,RC=X,DC){constructor(e){super(e,"string","PgMacaddr")}build(e){return new AD(e,this.config)}}A(TD,RC,"PgMacaddrBuilder");var OC,LC;class AD extends(LC=$e,OC=X,LC){getSQLType(){return"macaddr"}}A(AD,OC,"PgMacaddr");function uG(t){return new TD(t??"")}var FC,UC;class MD extends(UC=et,FC=X,UC){constructor(e){super(e,"string","PgMacaddr8")}build(e){return new RD(e,this.config)}}A(MD,FC,"PgMacaddr8Builder");var zC,VC;class RD extends(VC=$e,zC=X,VC){getSQLType(){return"macaddr8"}}A(RD,zC,"PgMacaddr8");function hG(t){return new MD(t??"")}var $C,BC;class DD extends(BC=et,$C=X,BC){constructor(e,s,n){super(e,"string","PgNumeric"),this.config.precision=s,this.config.scale=n}build(e){return new OD(e,this.config)}}A(DD,$C,"PgNumericBuilder");var HC,WC;class OD extends(WC=$e,HC=X,WC){constructor(s,n){super(s,n);A(this,"precision");A(this,"scale");this.precision=n.precision,this.scale=n.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}A(OD,HC,"PgNumeric");function LD(t,e){const{name:s,config:n}=rs(t,e);return new DD(s,n==null?void 0:n.precision,n==null?void 0:n.scale)}const Sn=LD;var qC,KC;class FD extends(KC=et,qC=X,KC){constructor(e){super(e,"array","PgPointTuple")}build(e){return new UD(e,this.config)}}A(FD,qC,"PgPointTupleBuilder");var GC,QC;class UD extends(QC=$e,GC=X,QC){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[s,n]=e.slice(1,-1).split(",");return[Number.parseFloat(s),Number.parseFloat(n)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}A(UD,GC,"PgPointTuple");var ZC,YC;class zD extends(YC=et,ZC=X,YC){constructor(e){super(e,"json","PgPointObject")}build(e){return new VD(e,this.config)}}A(zD,ZC,"PgPointObjectBuilder");var XC,JC;class VD extends(JC=$e,XC=X,JC){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[s,n]=e.slice(1,-1).split(",");return{x:Number.parseFloat(s),y:Number.parseFloat(n)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}A(VD,XC,"PgPointObject");function fG(t,e){const{name:s,config:n}=rs(t,e);return!(n!=null&&n.mode)||n.mode==="tuple"?new FD(s):new zD(s)}function mG(t){const e=[];for(let s=0;s<t.length;s+=2)e.push(Number.parseInt(t.slice(s,s+2),16));return new Uint8Array(e)}function e1(t,e){const s=new ArrayBuffer(8),n=new DataView(s);for(let r=0;r<8;r++)n.setUint8(r,t[e+r]);return n.getFloat64(0,!0)}function $D(t){const e=mG(t);let s=0;const n=e[s];s+=1;const r=new DataView(e.buffer),a=r.getUint32(s,n===1);if(s+=4,a&536870912&&(r.getUint32(s,n===1),s+=4),(a&65535)===1){const o=e1(e,s);s+=8;const l=e1(e,s);return s+=8,[o,l]}throw new Error("Unsupported geometry type")}var ek,tk;class BD extends(tk=et,ek=X,tk){constructor(e){super(e,"array","PgGeometry")}build(e){return new HD(e,this.config)}}A(BD,ek,"PgGeometryBuilder");var sk,nk;class HD extends(nk=$e,sk=X,nk){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return $D(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}A(HD,sk,"PgGeometry");var rk,ik;class WD extends(ik=et,rk=X,ik){constructor(e){super(e,"json","PgGeometryObject")}build(e){return new qD(e,this.config)}}A(WD,rk,"PgGeometryObjectBuilder");var ak,ok;class qD extends(ok=$e,ak=X,ok){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const s=$D(e);return{x:s[0],y:s[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}A(qD,ak,"PgGeometryObject");function pG(t,e){const{name:s,config:n}=rs(t,e);return!(n!=null&&n.mode)||n.mode==="tuple"?new BD(s):new WD(s)}var lk,ck;class KD extends(ck=et,lk=X,ck){constructor(e,s){super(e,"number","PgReal"),this.config.length=s}build(e){return new GD(e,this.config)}}A(KD,lk,"PgRealBuilder");var dk,uk;class GD extends(uk=$e,dk=X,uk){constructor(s,n){super(s,n);A(this,"mapFromDriverValue",s=>typeof s=="string"?Number.parseFloat(s):s)}getSQLType(){return"real"}}A(GD,dk,"PgReal");function gG(t){return new KD(t??"")}var hk,fk;class QD extends(fk=et,hk=X,fk){constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new ZD(e,this.config)}}A(QD,hk,"PgSerialBuilder");var mk,pk;class ZD extends(pk=$e,mk=X,pk){getSQLType(){return"serial"}}A(ZD,mk,"PgSerial");function is(t){return new QD(t??"")}var gk,xk;class YD extends(xk=eh,gk=X,xk){constructor(e){super(e,"number","PgSmallInt")}build(e){return new XD(e,this.config)}}A(YD,gk,"PgSmallIntBuilder");var yk,vk;class XD extends(vk=$e,yk=X,vk){constructor(){super(...arguments);A(this,"mapFromDriverValue",s=>typeof s=="string"?Number(s):s)}getSQLType(){return"smallint"}}A(XD,yk,"PgSmallInt");function xG(t){return new YD(t??"")}var bk,wk;class JD extends(wk=et,bk=X,wk){constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new eO(e,this.config)}}A(JD,bk,"PgSmallSerialBuilder");var jk,Nk;class eO extends(Nk=$e,jk=X,Nk){getSQLType(){return"smallserial"}}A(eO,jk,"PgSmallSerial");function yG(t){return new JD(t??"")}var Sk,_k;class tO extends(_k=et,Sk=X,_k){constructor(e,s){super(e,"string","PgText"),this.config.enumValues=s.enum}build(e){return new sO(e,this.config)}}A(tO,Sk,"PgTextBuilder");var Ck,kk;class sO extends(kk=$e,Ck=X,kk){constructor(){super(...arguments);A(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}A(sO,Ck,"PgText");function le(t,e={}){const{name:s,config:n}=rs(t,e);return new tO(s,n)}var Ik,Ek;class nO extends(Ek=Ec,Ik=X,Ek){constructor(e,s,n){super(e,"string","PgTime"),this.withTimezone=s,this.precision=n,this.config.withTimezone=s,this.config.precision=n}build(e){return new rO(e,this.config)}}A(nO,Ik,"PgTimeBuilder");var Pk,Tk;class rO extends(Tk=$e,Pk=X,Tk){constructor(s,n){super(s,n);A(this,"withTimezone");A(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}A(rO,Pk,"PgTime");function vG(t,e={}){const{name:s,config:n}=rs(t,e);return new nO(s,n.withTimezone??!1,n.precision)}var Ak,Mk;class iO extends(Mk=Ec,Ak=X,Mk){constructor(e,s,n){super(e,"date","PgTimestamp"),this.config.withTimezone=s,this.config.precision=n}build(e){return new aO(e,this.config)}}A(iO,Ak,"PgTimestampBuilder");var Rk,Dk;class aO extends(Dk=$e,Rk=X,Dk){constructor(s,n){super(s,n);A(this,"withTimezone");A(this,"precision");A(this,"mapFromDriverValue",s=>new Date(this.withTimezone?s:s+"+0000"));A(this,"mapToDriverValue",s=>s.toISOString());this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}A(aO,Rk,"PgTimestamp");var Ok,Lk;class oO extends(Lk=Ec,Ok=X,Lk){constructor(e,s,n){super(e,"string","PgTimestampString"),this.config.withTimezone=s,this.config.precision=n}build(e){return new lO(e,this.config)}}A(oO,Ok,"PgTimestampStringBuilder");var Fk,Uk;class lO extends(Uk=$e,Fk=X,Uk){constructor(s,n){super(s,n);A(this,"withTimezone");A(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}A(lO,Fk,"PgTimestampString");function ct(t,e={}){const{name:s,config:n}=rs(t,e);return(n==null?void 0:n.mode)==="string"?new oO(s,n.withTimezone??!1,n.precision):new iO(s,(n==null?void 0:n.withTimezone)??!1,n==null?void 0:n.precision)}var zk,Vk;class cO extends(Vk=et,zk=X,Vk){constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(Sm`gen_random_uuid()`)}build(e){return new dO(e,this.config)}}A(cO,zk,"PgUUIDBuilder");var $k,Bk;class dO extends(Bk=$e,$k=X,Bk){getSQLType(){return"uuid"}}A(dO,$k,"PgUUID");function bG(t){return new cO(t??"")}var Hk,Wk;class uO extends(Wk=et,Hk=X,Wk){constructor(e,s){super(e,"string","PgVarchar"),this.config.length=s.length,this.config.enumValues=s.enum}build(e){return new hO(e,this.config)}}A(uO,Hk,"PgVarcharBuilder");var qk,Kk;class hO extends(Kk=$e,qk=X,Kk){constructor(){super(...arguments);A(this,"length",this.config.length);A(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}A(hO,qk,"PgVarchar");function wG(t,e={}){const{name:s,config:n}=rs(t,e);return new uO(s,n)}var Gk,Qk;class fO extends(Qk=et,Gk=X,Qk){constructor(e,s){super(e,"string","PgBinaryVector"),this.config.dimensions=s.dimensions}build(e){return new mO(e,this.config)}}A(fO,Gk,"PgBinaryVectorBuilder");var Zk,Yk;class mO extends(Yk=$e,Zk=X,Yk){constructor(){super(...arguments);A(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}A(mO,Zk,"PgBinaryVector");function jG(t,e){const{name:s,config:n}=rs(t,e);return new fO(s,n)}var Xk,Jk;class pO extends(Jk=et,Xk=X,Jk){constructor(e,s){super(e,"array","PgHalfVector"),this.config.dimensions=s.dimensions}build(e){return new gO(e,this.config)}}A(pO,Xk,"PgHalfVectorBuilder");var e2,t2;class gO extends(t2=$e,e2=X,t2){constructor(){super(...arguments);A(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(s){return JSON.stringify(s)}mapFromDriverValue(s){return s.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}A(gO,e2,"PgHalfVector");function NG(t,e){const{name:s,config:n}=rs(t,e);return new pO(s,n)}var s2,n2;class xO extends(n2=et,s2=X,n2){constructor(e,s){super(e,"string","PgSparseVector"),this.config.dimensions=s.dimensions}build(e){return new yO(e,this.config)}}A(xO,s2,"PgSparseVectorBuilder");var r2,i2;class yO extends(i2=$e,r2=X,i2){constructor(){super(...arguments);A(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}A(yO,r2,"PgSparseVector");function SG(t,e){const{name:s,config:n}=rs(t,e);return new xO(s,n)}var a2,o2;class vO extends(o2=et,a2=X,o2){constructor(e,s){super(e,"array","PgVector"),this.config.dimensions=s.dimensions}build(e){return new bO(e,this.config)}}A(vO,a2,"PgVectorBuilder");var l2,c2;class bO extends(c2=$e,l2=X,c2){constructor(){super(...arguments);A(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(s){return JSON.stringify(s)}mapFromDriverValue(s){return s.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}A(bO,l2,"PgVector");function _G(t,e){const{name:s,config:n}=rs(t,e);return new vO(s,n)}function CG(){return{bigint:JK,bigserial:eG,boolean:ls,char:tG,cidr:sG,customType:nG,date:rG,doublePrecision:iG,inet:aG,integer:at,interval:oG,json:lG,jsonb:cG,line:dG,macaddr:uG,macaddr8:hG,numeric:LD,point:fG,geometry:pG,real:gG,serial:is,smallint:xG,smallserial:yG,text:le,time:vG,timestamp:ct,uuid:bG,varchar:wG,bit:jG,halfvec:NG,sparsevec:SG,vector:_G}}const $y=Symbol.for("drizzle:PgInlineForeignKeys"),t1=Symbol.for("drizzle:EnableRLS");var d2,u2,h2,f2,m2;class Cd extends(m2=Ts,f2=X,h2=$y,u2=t1,d2=Ts.Symbol.ExtraConfigBuilder,m2){constructor(){super(...arguments);A(this,h2,[]);A(this,u2,!1);A(this,d2)}}A(Cd,f2,"PgTable"),A(Cd,"Symbol",Object.assign({},Ts.Symbol,{InlineForeignKeys:$y,EnableRLS:t1}));function kG(t,e,s,n,r=t){const a=new Cd(t,n,r),o=typeof e=="function"?e(CG()):e,l=Object.fromEntries(Object.entries(o).map(([u,h])=>{const f=h;f.setName(u);const p=f.build(a);return a[$y].push(...f.buildForeignKeys(p,a)),[u,p]})),c=Object.fromEntries(Object.entries(o).map(([u,h])=>{const f=h;f.setName(u);const p=f.buildExtraConfigColumn(a);return[u,p]})),d=Object.assign(a,l);return d[Ts.Symbol.Columns]=l,d[Ts.Symbol.ExtraConfigColumns]=c,s&&(d[Cd.Symbol.ExtraConfigBuilder]=s),Object.assign(d,{enableRLS:()=>(d[Cd.Symbol.EnableRLS]=!0,d)})}const fs=(t,e,s)=>kG(t,e,s,void 0);var p2;p2=X;class bb{constructor(e,s){this.unique=e,this.name=s}on(...e){return new Nf(e.map(s=>{if(Ht(s,Dt))return s;s=s;const n=new jf(s.name,!!s.keyAsName,s.columnType,s.indexConfig);return s.indexConfig=JSON.parse(JSON.stringify(s.defaultConfig)),n}),this.unique,!1,this.name)}onOnly(...e){return new Nf(e.map(s=>{if(Ht(s,Dt))return s;s=s;const n=new jf(s.name,!!s.keyAsName,s.columnType,s.indexConfig);return s.indexConfig=s.defaultConfig,n}),this.unique,!0,this.name)}using(e,...s){return new Nf(s.map(n=>{if(Ht(n,Dt))return n;n=n;const r=new jf(n.name,!!n.keyAsName,n.columnType,n.indexConfig);return n.indexConfig=JSON.parse(JSON.stringify(n.defaultConfig)),r}),this.unique,!0,this.name,e)}}A(bb,p2,"PgIndexBuilderOn");var g2;g2=X;class Nf{constructor(e,s,n,r,a="btree"){A(this,"config");this.config={name:r,columns:e,unique:s,only:n,method:a}}concurrently(){return this.config.concurrently=!0,this}with(e){return this.config.with=e,this}where(e){return this.config.where=e,this}build(e){return new wO(this.config,e)}}A(Nf,g2,"PgIndexBuilder");var x2;x2=X;class wO{constructor(e,s){A(this,"config");this.config={...e,table:s}}}A(wO,x2,"PgIndex");function Cm(t){return new bb(!1,t)}function jO(t){return new bb(!0,t)}var Je;(function(t){t.assertEqual=r=>r;function e(r){}t.assertIs=e;function s(r){throw new Error}t.assertNever=s,t.arrayToEnum=r=>{const a={};for(const o of r)a[o]=o;return a},t.getValidEnumValues=r=>{const a=t.objectKeys(r).filter(l=>typeof r[r[l]]!="number"),o={};for(const l of a)o[l]=r[l];return t.objectValues(o)},t.objectValues=r=>t.objectKeys(r).map(function(a){return r[a]}),t.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const a=[];for(const o in r)Object.prototype.hasOwnProperty.call(r,o)&&a.push(o);return a},t.find=(r,a)=>{for(const o of r)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&isFinite(r)&&Math.floor(r)===r;function n(r,a=" | "){return r.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(r,a)=>typeof a=="bigint"?a.toString():a})(Je||(Je={}));var By;(function(t){t.mergeShapes=(e,s)=>({...e,...s})})(By||(By={}));const me=Je.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Jr=t=>{switch(typeof t){case"undefined":return me.undefined;case"string":return me.string;case"number":return isNaN(t)?me.nan:me.number;case"boolean":return me.boolean;case"function":return me.function;case"bigint":return me.bigint;case"symbol":return me.symbol;case"object":return Array.isArray(t)?me.array:t===null?me.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?me.promise:typeof Map<"u"&&t instanceof Map?me.map:typeof Set<"u"&&t instanceof Set?me.set:typeof Date<"u"&&t instanceof Date?me.date:me.object;default:return me.unknown}},te=Je.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),IG=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class cn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=e}format(e){const s=e||function(a){return a.message},n={_errors:[]},r=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(r);else if(o.code==="invalid_return_type")r(o.returnTypeError);else if(o.code==="invalid_arguments")r(o.argumentsError);else if(o.path.length===0)n._errors.push(s(o));else{let l=n,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(s(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return r(this),n}static assert(e){if(!(e instanceof cn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Je.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=s=>s.message){const s={},n=[];for(const r of this.issues)r.path.length>0?(s[r.path[0]]=s[r.path[0]]||[],s[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:s}}get formErrors(){return this.flatten()}}cn.create=t=>new cn(t);const cc=(t,e)=>{let s;switch(t.code){case te.invalid_type:t.received===me.undefined?s="Required":s=`Expected ${t.expected}, received ${t.received}`;break;case te.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(t.expected,Je.jsonStringifyReplacer)}`;break;case te.unrecognized_keys:s=`Unrecognized key(s) in object: ${Je.joinValues(t.keys,", ")}`;break;case te.invalid_union:s="Invalid input";break;case te.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${Je.joinValues(t.options)}`;break;case te.invalid_enum_value:s=`Invalid enum value. Expected ${Je.joinValues(t.options)}, received '${t.received}'`;break;case te.invalid_arguments:s="Invalid function arguments";break;case te.invalid_return_type:s="Invalid function return type";break;case te.invalid_date:s="Invalid date";break;case te.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(s=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?s=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?s=`Invalid input: must end with "${t.validation.endsWith}"`:Je.assertNever(t.validation):t.validation!=="regex"?s=`Invalid ${t.validation}`:s="Invalid";break;case te.too_small:t.type==="array"?s=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?s=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?s=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?s=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:s="Invalid input";break;case te.too_big:t.type==="array"?s=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?s=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?s=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?s=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?s=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:s="Invalid input";break;case te.custom:s="Invalid input";break;case te.invalid_intersection_types:s="Intersection results could not be merged";break;case te.not_multiple_of:s=`Number must be a multiple of ${t.multipleOf}`;break;case te.not_finite:s="Number must be finite";break;default:s=e.defaultError,Je.assertNever(t)}return{message:s}};let NO=cc;function EG(t){NO=t}function km(){return NO}const Im=t=>{const{data:e,path:s,errorMaps:n,issueData:r}=t,a=[...s,...r.path||[]],o={...r,path:a};if(r.message!==void 0)return{...r,path:a,message:r.message};let l="";const c=n.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:e,defaultError:l}).message;return{...r,path:a,message:l}},PG=[];function ue(t,e){const s=km(),n=Im({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,s,s===cc?void 0:cc].filter(r=>!!r)});t.common.issues.push(n)}class js{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,s){const n=[];for(const r of s){if(r.status==="aborted")return Le;r.status==="dirty"&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,s){const n=[];for(const r of s){const a=await r.key,o=await r.value;n.push({key:a,value:o})}return js.mergeObjectSync(e,n)}static mergeObjectSync(e,s){const n={};for(const r of s){const{key:a,value:o}=r;if(a.status==="aborted"||o.status==="aborted")return Le;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||r.alwaysSet)&&(n[a.value]=o.value)}return{status:e.value,value:n}}}const Le=Object.freeze({status:"aborted"}),cl=t=>({status:"dirty",value:t}),Os=t=>({status:"valid",value:t}),Hy=t=>t.status==="aborted",Wy=t=>t.status==="dirty",To=t=>t.status==="valid",au=t=>typeof Promise<"u"&&t instanceof Promise;function Em(t,e,s,n){if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function SO(t,e,s,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,s),s}var Se;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Se||(Se={}));var rd,id;class Ur{constructor(e,s,n,r){this._cachedPath=[],this.parent=e,this.data=s,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const s1=(t,e)=>{if(To(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new cn(t.common.issues);return this._error=s,this._error}}};function Ve(t){if(!t)return{};const{errorMap:e,invalid_type_error:s,required_error:n,description:r}=t;if(e&&(s||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(o,l)=>{var c,d;const{message:u}=t;return o.code==="invalid_enum_value"?{message:u??l.defaultError}:typeof l.data>"u"?{message:(c=u??n)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=u??s)!==null&&d!==void 0?d:l.defaultError}},description:r}}class qe{get description(){return this._def.description}_getType(e){return Jr(e.data)}_getOrReturnCtx(e,s){return s||{common:e.parent.common,data:e.data,parsedType:Jr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new js,ctx:{common:e.parent.common,data:e.data,parsedType:Jr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const s=this._parse(e);if(au(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(e){const s=this._parse(e);return Promise.resolve(s)}parse(e,s){const n=this.safeParse(e,s);if(n.success)return n.data;throw n.error}safeParse(e,s){var n;const r={common:{issues:[],async:(n=s==null?void 0:s.async)!==null&&n!==void 0?n:!1,contextualErrorMap:s==null?void 0:s.errorMap},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Jr(e)},a=this._parseSync({data:e,path:r.path,parent:r});return s1(r,a)}"~validate"(e){var s,n;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Jr(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:r});return To(a)?{value:a.value}:{issues:r.common.issues}}catch(a){!((n=(s=a==null?void 0:a.message)===null||s===void 0?void 0:s.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(a=>To(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(e,s){const n=await this.safeParseAsync(e,s);if(n.success)return n.data;throw n.error}async safeParseAsync(e,s){const n={common:{issues:[],contextualErrorMap:s==null?void 0:s.errorMap,async:!0},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Jr(e)},r=this._parse({data:e,path:n.path,parent:n}),a=await(au(r)?r:Promise.resolve(r));return s1(n,a)}refine(e,s){const n=r=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(r):s;return this._refinement((r,a)=>{const o=e(r),l=()=>a.addIssue({code:te.custom,...n(r)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,s){return this._refinement((n,r)=>e(n)?!0:(r.addIssue(typeof s=="function"?s(n,r):s),!1))}_refinement(e){return new or({schema:this,typeName:Re.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return Mr.create(this,this._def)}nullable(){return Sa.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return tr.create(this)}promise(){return uc.create(this,this._def)}or(e){return du.create([this,e],this._def)}and(e){return uu.create(this,e,this._def)}transform(e){return new or({...Ve(this._def),schema:this,typeName:Re.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const s=typeof e=="function"?e:()=>e;return new gu({...Ve(this._def),innerType:this,defaultValue:s,typeName:Re.ZodDefault})}brand(){return new wb({typeName:Re.ZodBranded,type:this,...Ve(this._def)})}catch(e){const s=typeof e=="function"?e:()=>e;return new xu({...Ve(this._def),innerType:this,catchValue:s,typeName:Re.ZodCatch})}describe(e){const s=this.constructor;return new s({...this._def,description:e})}pipe(e){return th.create(this,e)}readonly(){return yu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const TG=/^c[^\s-]{8,}$/i,AG=/^[0-9a-z]+$/,MG=/^[0-9A-HJKMNP-TV-Z]{26}$/i,RG=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,DG=/^[a-z0-9_-]{21}$/i,OG=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,LG=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,FG=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,UG="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Gg;const zG=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,VG=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,$G=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,BG=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,HG=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,WG=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,_O="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",qG=new RegExp(`^${_O}$`);function CO(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function KG(t){return new RegExp(`^${CO(t)}$`)}function kO(t){let e=`${_O}T${CO(t)}`;const s=[];return s.push(t.local?"Z?":"Z"),t.offset&&s.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${s.join("|")})`,new RegExp(`^${e}$`)}function GG(t,e){return!!((e==="v4"||!e)&&zG.test(t)||(e==="v6"||!e)&&$G.test(t))}function QG(t,e){if(!OG.test(t))return!1;try{const[s]=t.split("."),n=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),r=JSON.parse(atob(n));return!(typeof r!="object"||r===null||!r.typ||!r.alg||e&&r.alg!==e)}catch{return!1}}function ZG(t,e){return!!((e==="v4"||!e)&&VG.test(t)||(e==="v6"||!e)&&BG.test(t))}class Gn extends qe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==me.string){const a=this._getOrReturnCtx(e);return ue(a,{code:te.invalid_type,expected:me.string,received:a.parsedType}),Le}const n=new js;let r;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(r=this._getOrReturnCtx(e,r),ue(r,{code:te.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(r=this._getOrReturnCtx(e,r),ue(r,{code:te.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,l=e.data.length<a.value;(o||l)&&(r=this._getOrReturnCtx(e,r),o?ue(r,{code:te.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&ue(r,{code:te.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")FG.test(e.data)||(r=this._getOrReturnCtx(e,r),ue(r,{validation:"email",code:te.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")Gg||(Gg=new RegExp(UG,"u")),Gg.test(e.data)||(r=this._getOrReturnCtx(e,r),ue(r,{validation:"emoji",code:te.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")RG.test(e.data)||(r=this._getOrReturnCtx(e,r),ue(r,{validation:"uuid",code:te.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")DG.test(e.data)||(r=this._getOrReturnCtx(e,r),ue(r,{validation:"nanoid",code:te.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")TG.test(e.data)||(r=this._getOrReturnCtx(e,r),ue(r,{validation:"cuid",code:te.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")AG.test(e.data)||(r=this._getOrReturnCtx(e,r),ue(r,{validation:"cuid2",code:te.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")MG.test(e.data)||(r=this._getOrReturnCtx(e,r),ue(r,{validation:"ulid",code:te.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),ue(r,{validation:"url",code:te.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),ue(r,{validation:"regex",code:te.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(r=this._getOrReturnCtx(e,r),ue(r,{code:te.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(r=this._getOrReturnCtx(e,r),ue(r,{code:te.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(r=this._getOrReturnCtx(e,r),ue(r,{code:te.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?kO(a).test(e.data)||(r=this._getOrReturnCtx(e,r),ue(r,{code:te.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?qG.test(e.data)||(r=this._getOrReturnCtx(e,r),ue(r,{code:te.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?KG(a).test(e.data)||(r=this._getOrReturnCtx(e,r),ue(r,{code:te.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?LG.test(e.data)||(r=this._getOrReturnCtx(e,r),ue(r,{validation:"duration",code:te.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?GG(e.data,a.version)||(r=this._getOrReturnCtx(e,r),ue(r,{validation:"ip",code:te.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?QG(e.data,a.alg)||(r=this._getOrReturnCtx(e,r),ue(r,{validation:"jwt",code:te.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?ZG(e.data,a.version)||(r=this._getOrReturnCtx(e,r),ue(r,{validation:"cidr",code:te.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?HG.test(e.data)||(r=this._getOrReturnCtx(e,r),ue(r,{validation:"base64",code:te.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?WG.test(e.data)||(r=this._getOrReturnCtx(e,r),ue(r,{validation:"base64url",code:te.invalid_string,message:a.message}),n.dirty()):Je.assertNever(a);return{status:n.value,value:e.data}}_regex(e,s,n){return this.refinement(r=>e.test(r),{validation:s,code:te.invalid_string,...Se.errToObj(n)})}_addCheck(e){return new Gn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Se.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Se.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Se.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Se.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Se.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Se.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Se.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Se.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Se.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Se.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Se.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Se.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Se.errToObj(e)})}datetime(e){var s,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(s=e==null?void 0:e.offset)!==null&&s!==void 0?s:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...Se.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Se.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Se.errToObj(e)})}regex(e,s){return this._addCheck({kind:"regex",regex:e,...Se.errToObj(s)})}includes(e,s){return this._addCheck({kind:"includes",value:e,position:s==null?void 0:s.position,...Se.errToObj(s==null?void 0:s.message)})}startsWith(e,s){return this._addCheck({kind:"startsWith",value:e,...Se.errToObj(s)})}endsWith(e,s){return this._addCheck({kind:"endsWith",value:e,...Se.errToObj(s)})}min(e,s){return this._addCheck({kind:"min",value:e,...Se.errToObj(s)})}max(e,s){return this._addCheck({kind:"max",value:e,...Se.errToObj(s)})}length(e,s){return this._addCheck({kind:"length",value:e,...Se.errToObj(s)})}nonempty(e){return this.min(1,Se.errToObj(e))}trim(){return new Gn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Gn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Gn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxLength(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}}Gn.create=t=>{var e;return new Gn({checks:[],typeName:Re.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ve(t)})};function YG(t,e){const s=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,r=s>n?s:n,a=parseInt(t.toFixed(r).replace(".","")),o=parseInt(e.toFixed(r).replace(".",""));return a%o/Math.pow(10,r)}class wa extends qe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==me.number){const a=this._getOrReturnCtx(e);return ue(a,{code:te.invalid_type,expected:me.number,received:a.parsedType}),Le}let n;const r=new js;for(const a of this._def.checks)a.kind==="int"?Je.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),ue(n,{code:te.invalid_type,expected:"integer",received:"float",message:a.message}),r.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),ue(n,{code:te.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),r.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),ue(n,{code:te.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),r.dirty()):a.kind==="multipleOf"?YG(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),ue(n,{code:te.not_multiple_of,multipleOf:a.value,message:a.message}),r.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),ue(n,{code:te.not_finite,message:a.message}),r.dirty()):Je.assertNever(a);return{status:r.value,value:e.data}}gte(e,s){return this.setLimit("min",e,!0,Se.toString(s))}gt(e,s){return this.setLimit("min",e,!1,Se.toString(s))}lte(e,s){return this.setLimit("max",e,!0,Se.toString(s))}lt(e,s){return this.setLimit("max",e,!1,Se.toString(s))}setLimit(e,s,n,r){return new wa({...this._def,checks:[...this._def.checks,{kind:e,value:s,inclusive:n,message:Se.toString(r)}]})}_addCheck(e){return new wa({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Se.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Se.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:Se.toString(s)})}finite(e){return this._addCheck({kind:"finite",message:Se.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Se.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Se.toString(e)})}get minValue(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Je.isInteger(e.value))}get isFinite(){let e=null,s=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(s===null||n.value>s)&&(s=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(s)&&Number.isFinite(e)}}wa.create=t=>new wa({checks:[],typeName:Re.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ve(t)});class ja extends qe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==me.bigint)return this._getInvalidInput(e);let n;const r=new js;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),ue(n,{code:te.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),ue(n,{code:te.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),ue(n,{code:te.not_multiple_of,multipleOf:a.value,message:a.message}),r.dirty()):Je.assertNever(a);return{status:r.value,value:e.data}}_getInvalidInput(e){const s=this._getOrReturnCtx(e);return ue(s,{code:te.invalid_type,expected:me.bigint,received:s.parsedType}),Le}gte(e,s){return this.setLimit("min",e,!0,Se.toString(s))}gt(e,s){return this.setLimit("min",e,!1,Se.toString(s))}lte(e,s){return this.setLimit("max",e,!0,Se.toString(s))}lt(e,s){return this.setLimit("max",e,!1,Se.toString(s))}setLimit(e,s,n,r){return new ja({...this._def,checks:[...this._def.checks,{kind:e,value:s,inclusive:n,message:Se.toString(r)}]})}_addCheck(e){return new ja({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Se.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:Se.toString(s)})}get minValue(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}}ja.create=t=>{var e;return new ja({checks:[],typeName:Re.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ve(t)})};class ou extends qe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==me.boolean){const n=this._getOrReturnCtx(e);return ue(n,{code:te.invalid_type,expected:me.boolean,received:n.parsedType}),Le}return Os(e.data)}}ou.create=t=>new ou({typeName:Re.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ve(t)});class Ao extends qe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==me.date){const a=this._getOrReturnCtx(e);return ue(a,{code:te.invalid_type,expected:me.date,received:a.parsedType}),Le}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return ue(a,{code:te.invalid_date}),Le}const n=new js;let r;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(r=this._getOrReturnCtx(e,r),ue(r,{code:te.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(r=this._getOrReturnCtx(e,r),ue(r,{code:te.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):Je.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ao({...this._def,checks:[...this._def.checks,e]})}min(e,s){return this._addCheck({kind:"min",value:e.getTime(),message:Se.toString(s)})}max(e,s){return this._addCheck({kind:"max",value:e.getTime(),message:Se.toString(s)})}get minDate(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e!=null?new Date(e):null}}Ao.create=t=>new Ao({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Re.ZodDate,...Ve(t)});class Pm extends qe{_parse(e){if(this._getType(e)!==me.symbol){const n=this._getOrReturnCtx(e);return ue(n,{code:te.invalid_type,expected:me.symbol,received:n.parsedType}),Le}return Os(e.data)}}Pm.create=t=>new Pm({typeName:Re.ZodSymbol,...Ve(t)});class lu extends qe{_parse(e){if(this._getType(e)!==me.undefined){const n=this._getOrReturnCtx(e);return ue(n,{code:te.invalid_type,expected:me.undefined,received:n.parsedType}),Le}return Os(e.data)}}lu.create=t=>new lu({typeName:Re.ZodUndefined,...Ve(t)});class cu extends qe{_parse(e){if(this._getType(e)!==me.null){const n=this._getOrReturnCtx(e);return ue(n,{code:te.invalid_type,expected:me.null,received:n.parsedType}),Le}return Os(e.data)}}cu.create=t=>new cu({typeName:Re.ZodNull,...Ve(t)});class dc extends qe{constructor(){super(...arguments),this._any=!0}_parse(e){return Os(e.data)}}dc.create=t=>new dc({typeName:Re.ZodAny,...Ve(t)});class fo extends qe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Os(e.data)}}fo.create=t=>new fo({typeName:Re.ZodUnknown,...Ve(t)});class Ni extends qe{_parse(e){const s=this._getOrReturnCtx(e);return ue(s,{code:te.invalid_type,expected:me.never,received:s.parsedType}),Le}}Ni.create=t=>new Ni({typeName:Re.ZodNever,...Ve(t)});class Tm extends qe{_parse(e){if(this._getType(e)!==me.undefined){const n=this._getOrReturnCtx(e);return ue(n,{code:te.invalid_type,expected:me.void,received:n.parsedType}),Le}return Os(e.data)}}Tm.create=t=>new Tm({typeName:Re.ZodVoid,...Ve(t)});class tr extends qe{_parse(e){const{ctx:s,status:n}=this._processInputParams(e),r=this._def;if(s.parsedType!==me.array)return ue(s,{code:te.invalid_type,expected:me.array,received:s.parsedType}),Le;if(r.exactLength!==null){const o=s.data.length>r.exactLength.value,l=s.data.length<r.exactLength.value;(o||l)&&(ue(s,{code:o?te.too_big:te.too_small,minimum:l?r.exactLength.value:void 0,maximum:o?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(r.minLength!==null&&s.data.length<r.minLength.value&&(ue(s,{code:te.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),r.maxLength!==null&&s.data.length>r.maxLength.value&&(ue(s,{code:te.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),s.common.async)return Promise.all([...s.data].map((o,l)=>r.type._parseAsync(new Ur(s,o,s.path,l)))).then(o=>js.mergeArray(n,o));const a=[...s.data].map((o,l)=>r.type._parseSync(new Ur(s,o,s.path,l)));return js.mergeArray(n,a)}get element(){return this._def.type}min(e,s){return new tr({...this._def,minLength:{value:e,message:Se.toString(s)}})}max(e,s){return new tr({...this._def,maxLength:{value:e,message:Se.toString(s)}})}length(e,s){return new tr({...this._def,exactLength:{value:e,message:Se.toString(s)}})}nonempty(e){return this.min(1,e)}}tr.create=(t,e)=>new tr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Re.ZodArray,...Ve(e)});function Qo(t){if(t instanceof _t){const e={};for(const s in t.shape){const n=t.shape[s];e[s]=Mr.create(Qo(n))}return new _t({...t._def,shape:()=>e})}else return t instanceof tr?new tr({...t._def,type:Qo(t.element)}):t instanceof Mr?Mr.create(Qo(t.unwrap())):t instanceof Sa?Sa.create(Qo(t.unwrap())):t instanceof zr?zr.create(t.items.map(e=>Qo(e))):t}class _t extends qe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),s=Je.objectKeys(e);return this._cached={shape:e,keys:s}}_parse(e){if(this._getType(e)!==me.object){const d=this._getOrReturnCtx(e);return ue(d,{code:te.invalid_type,expected:me.object,received:d.parsedType}),Le}const{status:n,ctx:r}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ni&&this._def.unknownKeys==="strip"))for(const d in r.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=a[d],h=r.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Ur(r,h,r.path,d)),alwaysSet:d in r.data})}if(this._def.catchall instanceof Ni){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:r.data[u]}});else if(d==="strict")l.length>0&&(ue(r,{code:te.unrecognized_keys,keys:l}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const h=r.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Ur(r,h,r.path,u)),alwaysSet:u in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const h=await u.key,f=await u.value;d.push({key:h,value:f,alwaysSet:u.alwaysSet})}return d}).then(d=>js.mergeObjectSync(n,d)):js.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return Se.errToObj,new _t({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(s,n)=>{var r,a,o,l;const c=(o=(a=(r=this._def).errorMap)===null||a===void 0?void 0:a.call(r,s,n).message)!==null&&o!==void 0?o:n.defaultError;return s.code==="unrecognized_keys"?{message:(l=Se.errToObj(e).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new _t({...this._def,unknownKeys:"strip"})}passthrough(){return new _t({...this._def,unknownKeys:"passthrough"})}extend(e){return new _t({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new _t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Re.ZodObject})}setKey(e,s){return this.augment({[e]:s})}catchall(e){return new _t({...this._def,catchall:e})}pick(e){const s={};return Je.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(s[n]=this.shape[n])}),new _t({...this._def,shape:()=>s})}omit(e){const s={};return Je.objectKeys(this.shape).forEach(n=>{e[n]||(s[n]=this.shape[n])}),new _t({...this._def,shape:()=>s})}deepPartial(){return Qo(this)}partial(e){const s={};return Je.objectKeys(this.shape).forEach(n=>{const r=this.shape[n];e&&!e[n]?s[n]=r:s[n]=r.optional()}),new _t({...this._def,shape:()=>s})}required(e){const s={};return Je.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])s[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Mr;)a=a._def.innerType;s[n]=a}}),new _t({...this._def,shape:()=>s})}keyof(){return IO(Je.objectKeys(this.shape))}}_t.create=(t,e)=>new _t({shape:()=>t,unknownKeys:"strip",catchall:Ni.create(),typeName:Re.ZodObject,...Ve(e)});_t.strictCreate=(t,e)=>new _t({shape:()=>t,unknownKeys:"strict",catchall:Ni.create(),typeName:Re.ZodObject,...Ve(e)});_t.lazycreate=(t,e)=>new _t({shape:t,unknownKeys:"strip",catchall:Ni.create(),typeName:Re.ZodObject,...Ve(e)});class du extends qe{_parse(e){const{ctx:s}=this._processInputParams(e),n=this._def.options;function r(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return s.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new cn(l.ctx.common.issues));return ue(s,{code:te.invalid_union,unionErrors:o}),Le}if(s.common.async)return Promise.all(n.map(async a=>{const o={...s,common:{...s.common,issues:[]},parent:null};return{result:await a._parseAsync({data:s.data,path:s.path,parent:o}),ctx:o}})).then(r);{let a;const o=[];for(const c of n){const d={...s,common:{...s.common,issues:[]},parent:null},u=c._parseSync({data:s.data,path:s.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(a)return s.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new cn(c));return ue(s,{code:te.invalid_union,unionErrors:l}),Le}}get options(){return this._def.options}}du.create=(t,e)=>new du({options:t,typeName:Re.ZodUnion,...Ve(e)});const Gr=t=>t instanceof fu?Gr(t.schema):t instanceof or?Gr(t.innerType()):t instanceof mu?[t.value]:t instanceof Na?t.options:t instanceof pu?Je.objectValues(t.enum):t instanceof gu?Gr(t._def.innerType):t instanceof lu?[void 0]:t instanceof cu?[null]:t instanceof Mr?[void 0,...Gr(t.unwrap())]:t instanceof Sa?[null,...Gr(t.unwrap())]:t instanceof wb||t instanceof yu?Gr(t.unwrap()):t instanceof xu?Gr(t._def.innerType):[];class Op extends qe{_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==me.object)return ue(s,{code:te.invalid_type,expected:me.object,received:s.parsedType}),Le;const n=this.discriminator,r=s.data[n],a=this.optionsMap.get(r);return a?s.common.async?a._parseAsync({data:s.data,path:s.path,parent:s}):a._parseSync({data:s.data,path:s.path,parent:s}):(ue(s,{code:te.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Le)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,s,n){const r=new Map;for(const a of s){const o=Gr(a.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(r.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);r.set(l,a)}}return new Op({typeName:Re.ZodDiscriminatedUnion,discriminator:e,options:s,optionsMap:r,...Ve(n)})}}function qy(t,e){const s=Jr(t),n=Jr(e);if(t===e)return{valid:!0,data:t};if(s===me.object&&n===me.object){const r=Je.objectKeys(e),a=Je.objectKeys(t).filter(l=>r.indexOf(l)!==-1),o={...t,...e};for(const l of a){const c=qy(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(s===me.array&&n===me.array){if(t.length!==e.length)return{valid:!1};const r=[];for(let a=0;a<t.length;a++){const o=t[a],l=e[a],c=qy(o,l);if(!c.valid)return{valid:!1};r.push(c.data)}return{valid:!0,data:r}}else return s===me.date&&n===me.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class uu extends qe{_parse(e){const{status:s,ctx:n}=this._processInputParams(e),r=(a,o)=>{if(Hy(a)||Hy(o))return Le;const l=qy(a.value,o.value);return l.valid?((Wy(a)||Wy(o))&&s.dirty(),{status:s.value,value:l.data}):(ue(n,{code:te.invalid_intersection_types}),Le)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>r(a,o)):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}uu.create=(t,e,s)=>new uu({left:t,right:e,typeName:Re.ZodIntersection,...Ve(s)});class zr extends qe{_parse(e){const{status:s,ctx:n}=this._processInputParams(e);if(n.parsedType!==me.array)return ue(n,{code:te.invalid_type,expected:me.array,received:n.parsedType}),Le;if(n.data.length<this._def.items.length)return ue(n,{code:te.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Le;!this._def.rest&&n.data.length>this._def.items.length&&(ue(n,{code:te.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const a=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Ur(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>js.mergeArray(s,o)):js.mergeArray(s,a)}get items(){return this._def.items}rest(e){return new zr({...this._def,rest:e})}}zr.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new zr({items:t,typeName:Re.ZodTuple,rest:null,...Ve(e)})};class hu extends qe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:s,ctx:n}=this._processInputParams(e);if(n.parsedType!==me.object)return ue(n,{code:te.invalid_type,expected:me.object,received:n.parsedType}),Le;const r=[],a=this._def.keyType,o=this._def.valueType;for(const l in n.data)r.push({key:a._parse(new Ur(n,l,n.path,l)),value:o._parse(new Ur(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?js.mergeObjectAsync(s,r):js.mergeObjectSync(s,r)}get element(){return this._def.valueType}static create(e,s,n){return s instanceof qe?new hu({keyType:e,valueType:s,typeName:Re.ZodRecord,...Ve(n)}):new hu({keyType:Gn.create(),valueType:e,typeName:Re.ZodRecord,...Ve(s)})}}class Am extends qe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:s,ctx:n}=this._processInputParams(e);if(n.parsedType!==me.map)return ue(n,{code:te.invalid_type,expected:me.map,received:n.parsedType}),Le;const r=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([l,c],d)=>({key:r._parse(new Ur(n,l,n.path,[d,"key"])),value:a._parse(new Ur(n,c,n.path,[d,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return Le;(d.status==="dirty"||u.status==="dirty")&&s.dirty(),l.set(d.value,u.value)}return{status:s.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return Le;(d.status==="dirty"||u.status==="dirty")&&s.dirty(),l.set(d.value,u.value)}return{status:s.value,value:l}}}}Am.create=(t,e,s)=>new Am({valueType:e,keyType:t,typeName:Re.ZodMap,...Ve(s)});class Mo extends qe{_parse(e){const{status:s,ctx:n}=this._processInputParams(e);if(n.parsedType!==me.set)return ue(n,{code:te.invalid_type,expected:me.set,received:n.parsedType}),Le;const r=this._def;r.minSize!==null&&n.data.size<r.minSize.value&&(ue(n,{code:te.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),s.dirty()),r.maxSize!==null&&n.data.size>r.maxSize.value&&(ue(n,{code:te.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),s.dirty());const a=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return Le;u.status==="dirty"&&s.dirty(),d.add(u.value)}return{status:s.value,value:d}}const l=[...n.data.values()].map((c,d)=>a._parse(new Ur(n,c,n.path,d)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,s){return new Mo({...this._def,minSize:{value:e,message:Se.toString(s)}})}max(e,s){return new Mo({...this._def,maxSize:{value:e,message:Se.toString(s)}})}size(e,s){return this.min(e,s).max(e,s)}nonempty(e){return this.min(1,e)}}Mo.create=(t,e)=>new Mo({valueType:t,minSize:null,maxSize:null,typeName:Re.ZodSet,...Ve(e)});class Pl extends qe{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==me.function)return ue(s,{code:te.invalid_type,expected:me.function,received:s.parsedType}),Le;function n(l,c){return Im({data:l,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,km(),cc].filter(d=>!!d),issueData:{code:te.invalid_arguments,argumentsError:c}})}function r(l,c){return Im({data:l,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,km(),cc].filter(d=>!!d),issueData:{code:te.invalid_return_type,returnTypeError:c}})}const a={errorMap:s.common.contextualErrorMap},o=s.data;if(this._def.returns instanceof uc){const l=this;return Os(async function(...c){const d=new cn([]),u=await l._def.args.parseAsync(c,a).catch(p=>{throw d.addIssue(n(c,p)),d}),h=await Reflect.apply(o,this,u);return await l._def.returns._def.type.parseAsync(h,a).catch(p=>{throw d.addIssue(r(h,p)),d})})}else{const l=this;return Os(function(...c){const d=l._def.args.safeParse(c,a);if(!d.success)throw new cn([n(c,d.error)]);const u=Reflect.apply(o,this,d.data),h=l._def.returns.safeParse(u,a);if(!h.success)throw new cn([r(u,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Pl({...this._def,args:zr.create(e).rest(fo.create())})}returns(e){return new Pl({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,s,n){return new Pl({args:e||zr.create([]).rest(fo.create()),returns:s||fo.create(),typeName:Re.ZodFunction,...Ve(n)})}}class fu extends qe{get schema(){return this._def.getter()}_parse(e){const{ctx:s}=this._processInputParams(e);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}fu.create=(t,e)=>new fu({getter:t,typeName:Re.ZodLazy,...Ve(e)});class mu extends qe{_parse(e){if(e.data!==this._def.value){const s=this._getOrReturnCtx(e);return ue(s,{received:s.data,code:te.invalid_literal,expected:this._def.value}),Le}return{status:"valid",value:e.data}}get value(){return this._def.value}}mu.create=(t,e)=>new mu({value:t,typeName:Re.ZodLiteral,...Ve(e)});function IO(t,e){return new Na({values:t,typeName:Re.ZodEnum,...Ve(e)})}class Na extends qe{constructor(){super(...arguments),rd.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const s=this._getOrReturnCtx(e),n=this._def.values;return ue(s,{expected:Je.joinValues(n),received:s.parsedType,code:te.invalid_type}),Le}if(Em(this,rd)||SO(this,rd,new Set(this._def.values)),!Em(this,rd).has(e.data)){const s=this._getOrReturnCtx(e),n=this._def.values;return ue(s,{received:s.data,code:te.invalid_enum_value,options:n}),Le}return Os(e.data)}get options(){return this._def.values}get enum(){const e={};for(const s of this._def.values)e[s]=s;return e}get Values(){const e={};for(const s of this._def.values)e[s]=s;return e}get Enum(){const e={};for(const s of this._def.values)e[s]=s;return e}extract(e,s=this._def){return Na.create(e,{...this._def,...s})}exclude(e,s=this._def){return Na.create(this.options.filter(n=>!e.includes(n)),{...this._def,...s})}}rd=new WeakMap;Na.create=IO;class pu extends qe{constructor(){super(...arguments),id.set(this,void 0)}_parse(e){const s=Je.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==me.string&&n.parsedType!==me.number){const r=Je.objectValues(s);return ue(n,{expected:Je.joinValues(r),received:n.parsedType,code:te.invalid_type}),Le}if(Em(this,id)||SO(this,id,new Set(Je.getValidEnumValues(this._def.values))),!Em(this,id).has(e.data)){const r=Je.objectValues(s);return ue(n,{received:n.data,code:te.invalid_enum_value,options:r}),Le}return Os(e.data)}get enum(){return this._def.values}}id=new WeakMap;pu.create=(t,e)=>new pu({values:t,typeName:Re.ZodNativeEnum,...Ve(e)});class uc extends qe{unwrap(){return this._def.type}_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==me.promise&&s.common.async===!1)return ue(s,{code:te.invalid_type,expected:me.promise,received:s.parsedType}),Le;const n=s.parsedType===me.promise?s.data:Promise.resolve(s.data);return Os(n.then(r=>this._def.type.parseAsync(r,{path:s.path,errorMap:s.common.contextualErrorMap})))}}uc.create=(t,e)=>new uc({type:t,typeName:Re.ZodPromise,...Ve(e)});class or extends qe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Re.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:s,ctx:n}=this._processInputParams(e),r=this._def.effect||null,a={addIssue:o=>{ue(n,o),o.fatal?s.abort():s.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),r.type==="preprocess"){const o=r.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(async l=>{if(s.value==="aborted")return Le;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Le:c.status==="dirty"||s.value==="dirty"?cl(c.value):c});{if(s.value==="aborted")return Le;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Le:l.status==="dirty"||s.value==="dirty"?cl(l.value):l}}if(r.type==="refinement"){const o=l=>{const c=r.refinement(l,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Le:(l.status==="dirty"&&s.dirty(),o(l.value),{status:s.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Le:(l.status==="dirty"&&s.dirty(),o(l.value).then(()=>({status:s.value,value:l.value}))))}if(r.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!To(o))return o;const l=r.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>To(o)?Promise.resolve(r.transform(o.value,a)).then(l=>({status:s.value,value:l})):o);Je.assertNever(r)}}or.create=(t,e,s)=>new or({schema:t,typeName:Re.ZodEffects,effect:e,...Ve(s)});or.createWithPreprocess=(t,e,s)=>new or({schema:e,effect:{type:"preprocess",transform:t},typeName:Re.ZodEffects,...Ve(s)});class Mr extends qe{_parse(e){return this._getType(e)===me.undefined?Os(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Mr.create=(t,e)=>new Mr({innerType:t,typeName:Re.ZodOptional,...Ve(e)});class Sa extends qe{_parse(e){return this._getType(e)===me.null?Os(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Sa.create=(t,e)=>new Sa({innerType:t,typeName:Re.ZodNullable,...Ve(e)});class gu extends qe{_parse(e){const{ctx:s}=this._processInputParams(e);let n=s.data;return s.parsedType===me.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}gu.create=(t,e)=>new gu({innerType:t,typeName:Re.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ve(e)});class xu extends qe{_parse(e){const{ctx:s}=this._processInputParams(e),n={...s,common:{...s.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return au(r)?r.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new cn(n.common.issues)},input:n.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new cn(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}xu.create=(t,e)=>new xu({innerType:t,typeName:Re.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ve(e)});class Mm extends qe{_parse(e){if(this._getType(e)!==me.nan){const n=this._getOrReturnCtx(e);return ue(n,{code:te.invalid_type,expected:me.nan,received:n.parsedType}),Le}return{status:"valid",value:e.data}}}Mm.create=t=>new Mm({typeName:Re.ZodNaN,...Ve(t)});const XG=Symbol("zod_brand");class wb extends qe{_parse(e){const{ctx:s}=this._processInputParams(e),n=s.data;return this._def.type._parse({data:n,path:s.path,parent:s})}unwrap(){return this._def.type}}class th extends qe{_parse(e){const{status:s,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Le:a.status==="dirty"?(s.dirty(),cl(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const r=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return r.status==="aborted"?Le:r.status==="dirty"?(s.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:n.path,parent:n})}}static create(e,s){return new th({in:e,out:s,typeName:Re.ZodPipeline})}}class yu extends qe{_parse(e){const s=this._def.innerType._parse(e),n=r=>(To(r)&&(r.value=Object.freeze(r.value)),r);return au(s)?s.then(r=>n(r)):n(s)}unwrap(){return this._def.innerType}}yu.create=(t,e)=>new yu({innerType:t,typeName:Re.ZodReadonly,...Ve(e)});function n1(t,e){const s=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof s=="string"?{message:s}:s}function EO(t,e={},s){return t?dc.create().superRefine((n,r)=>{var a,o;const l=t(n);if(l instanceof Promise)return l.then(c=>{var d,u;if(!c){const h=n1(e,n),f=(u=(d=h.fatal)!==null&&d!==void 0?d:s)!==null&&u!==void 0?u:!0;r.addIssue({code:"custom",...h,fatal:f})}});if(!l){const c=n1(e,n),d=(o=(a=c.fatal)!==null&&a!==void 0?a:s)!==null&&o!==void 0?o:!0;r.addIssue({code:"custom",...c,fatal:d})}}):dc.create()}const JG={object:_t.lazycreate};var Re;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Re||(Re={}));const eQ=(t,e={message:`Input not instance of ${t.name}`})=>EO(s=>s instanceof t,e),PO=Gn.create,TO=wa.create,tQ=Mm.create,sQ=ja.create,AO=ou.create,nQ=Ao.create,rQ=Pm.create,iQ=lu.create,aQ=cu.create,oQ=dc.create,lQ=fo.create,cQ=Ni.create,dQ=Tm.create,uQ=tr.create,hQ=_t.create,fQ=_t.strictCreate,mQ=du.create,pQ=Op.create,gQ=uu.create,xQ=zr.create,yQ=hu.create,vQ=Am.create,bQ=Mo.create,wQ=Pl.create,jQ=fu.create,NQ=mu.create,SQ=Na.create,_Q=pu.create,CQ=uc.create,r1=or.create,kQ=Mr.create,IQ=Sa.create,EQ=or.createWithPreprocess,PQ=th.create,TQ=()=>PO().optional(),AQ=()=>TO().optional(),MQ=()=>AO().optional(),RQ={string:t=>Gn.create({...t,coerce:!0}),number:t=>wa.create({...t,coerce:!0}),boolean:t=>ou.create({...t,coerce:!0}),bigint:t=>ja.create({...t,coerce:!0}),date:t=>Ao.create({...t,coerce:!0})},DQ=Le;var As=Object.freeze({__proto__:null,defaultErrorMap:cc,setErrorMap:EG,getErrorMap:km,makeIssue:Im,EMPTY_PATH:PG,addIssueToContext:ue,ParseStatus:js,INVALID:Le,DIRTY:cl,OK:Os,isAborted:Hy,isDirty:Wy,isValid:To,isAsync:au,get util(){return Je},get objectUtil(){return By},ZodParsedType:me,getParsedType:Jr,ZodType:qe,datetimeRegex:kO,ZodString:Gn,ZodNumber:wa,ZodBigInt:ja,ZodBoolean:ou,ZodDate:Ao,ZodSymbol:Pm,ZodUndefined:lu,ZodNull:cu,ZodAny:dc,ZodUnknown:fo,ZodNever:Ni,ZodVoid:Tm,ZodArray:tr,ZodObject:_t,ZodUnion:du,ZodDiscriminatedUnion:Op,ZodIntersection:uu,ZodTuple:zr,ZodRecord:hu,ZodMap:Am,ZodSet:Mo,ZodFunction:Pl,ZodLazy:fu,ZodLiteral:mu,ZodEnum:Na,ZodNativeEnum:pu,ZodPromise:uc,ZodEffects:or,ZodTransformer:or,ZodOptional:Mr,ZodNullable:Sa,ZodDefault:gu,ZodCatch:xu,ZodNaN:Mm,BRAND:XG,ZodBranded:wb,ZodPipeline:th,ZodReadonly:yu,custom:EO,Schema:qe,ZodSchema:qe,late:JG,get ZodFirstPartyTypeKind(){return Re},coerce:RQ,any:oQ,array:uQ,bigint:sQ,boolean:AO,date:nQ,discriminatedUnion:pQ,effect:r1,enum:SQ,function:wQ,instanceof:eQ,intersection:gQ,lazy:jQ,literal:NQ,map:vQ,nan:tQ,nativeEnum:_Q,never:cQ,null:aQ,nullable:IQ,number:TO,object:hQ,oboolean:MQ,onumber:AQ,optional:kQ,ostring:TQ,pipeline:PQ,preprocess:EQ,promise:CQ,record:yQ,set:bQ,strictObject:fQ,string:PO,symbol:rQ,transformer:r1,tuple:xQ,undefined:iQ,union:mQ,unknown:lQ,void:dQ,NEVER:DQ,ZodIssueCode:te,quotelessJson:IG,ZodError:cn});const St={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function Ot(t,e){return e.includes(t.columnType)}function OQ(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const LQ=As.union([As.string(),As.number(),As.boolean(),As.null()]),FQ=As.union([LQ,As.record(As.any()),As.array(As.any())]),UQ=As.custom(t=>t instanceof Buffer);function MO(t,e){const s=(e==null?void 0:e.zodInstance)??As,n=(e==null?void 0:e.coerce)??{};let r;return OQ(t)&&(r=t.enumValues.length?s.enum(t.enumValues):s.string()),r||(Ot(t,["PgGeometry","PgPointTuple"])?r=s.tuple([s.number(),s.number()]):Ot(t,["PgGeometryObject","PgPointObject"])?r=s.object({x:s.number(),y:s.number()}):Ot(t,["PgHalfVector","PgVector"])?(r=s.array(s.number()),r=t.dimensions?r.length(t.dimensions):r):Ot(t,["PgLine"])?r=s.tuple([s.number(),s.number(),s.number()]):Ot(t,["PgLineABC"])?r=s.object({a:s.number(),b:s.number(),c:s.number()}):Ot(t,["PgArray"])?(r=s.array(MO(t.baseColumn,s)),r=t.size?r.length(t.size):r):t.dataType==="array"?r=s.array(s.any()):t.dataType==="number"?r=zQ(t,s,n):t.dataType==="bigint"?r=VQ(t,s,n):t.dataType==="boolean"?r=n===!0||n.boolean?s.coerce.boolean():s.boolean():t.dataType==="date"?r=n===!0||n.date?s.coerce.date():s.date():t.dataType==="string"?r=$Q(t,s,n):t.dataType==="json"?r=FQ:t.dataType==="custom"?r=s.any():t.dataType==="buffer"&&(r=UQ)),r||(r=s.any()),r}function zQ(t,e,s){let n=t.getSQLType().includes("unsigned"),r,a,o=!1;Ot(t,["MySqlTinyInt","SingleStoreTinyInt"])?(r=n?0:St.INT8_MIN,a=n?St.INT8_UNSIGNED_MAX:St.INT8_MAX,o=!0):Ot(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(r=n?0:St.INT16_MIN,a=n?St.INT16_UNSIGNED_MAX:St.INT16_MAX,o=!0):Ot(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(r=n?0:St.INT24_MIN,a=n?St.INT24_UNSIGNED_MAX:St.INT24_MAX,o=Ot(t,["MySqlMediumInt","SingleStoreMediumInt"])):Ot(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(r=n?0:St.INT32_MIN,a=n?St.INT32_UNSIGNED_MAX:St.INT32_MAX,o=!0):Ot(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(r=n?0:St.INT48_MIN,a=n?St.INT48_UNSIGNED_MAX:St.INT48_MAX):Ot(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(n=n||Ot(t,["MySqlSerial","SingleStoreSerial"]),r=n?0:Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER,o=!0):Ot(t,["MySqlYear","SingleStoreYear"])?(r=1901,a=2155,o=!0):(r=Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER);let l=s===!0||s!=null&&s.number?e.coerce.number():e.number();return l=l.min(r).max(a),o?l.int():l}function VQ(t,e,s){const n=t.getSQLType().includes("unsigned"),r=n?0n:St.INT64_MIN,a=n?St.INT64_UNSIGNED_MAX:St.INT64_MAX;return(s===!0||s!=null&&s.bigint?e.coerce.bigint():e.bigint()).min(r).max(a)}function $Q(t,e,s){if(Ot(t,["PgUUID"]))return e.string().uuid();let n,r,a=!1;Ot(t,["PgVarchar","SQLiteText"])?n=t.length:Ot(t,["MySqlVarChar","SingleStoreVarChar"])?n=t.length??St.INT16_UNSIGNED_MAX:Ot(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?n=St.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?n=St.INT24_UNSIGNED_MAX:t.textType==="text"?n=St.INT16_UNSIGNED_MAX:n=St.INT8_UNSIGNED_MAX),Ot(t,["PgChar","MySqlChar","SingleStoreChar"])&&(n=t.length,a=!0),Ot(t,["PgBinaryVector"])&&(r=/^[01]+$/,n=t.dimensions);let o=s===!0||s!=null&&s.string?e.coerce.string():e.string();return o=r?o.regex(r):o,n&&a?o.length(n):n?o.max(n):o}function RO(t){return H4(t)?YK(t):XK(t)}function DO(t,e,s,n){const r={};for(const[a,o]of Object.entries(t)){if(!Ht(o,lc)&&!Ht(o,Dt)&&!Ht(o,Dt.Aliased)&&typeof o=="object"){const h=H4(o)||ZK(o)?RO(o):o;r[a]=DO(h,e[a]??{},s,n);continue}const l=e[a];if(l!==void 0&&typeof l!="function"){r[a]=l;continue}const c=Ht(o,lc)?o:void 0,d=c?MO(c,n):As.any(),u=typeof l=="function"?l(d):d;s.never(c)||(r[a]=u,c&&(s.nullable(c)&&(r[a]=r[a].nullable()),s.optional(c)&&(r[a]=r[a].optional())))}return As.object(r)}const BQ={never:t=>{var e,s;return((e=t==null?void 0:t.generated)==null?void 0:e.type)==="always"||((s=t==null?void 0:t.generatedIdentity)==null?void 0:s.type)==="always"},optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},_s=(t,e)=>{const s=RO(t);return DO(s,{},BQ)},An=fs("users",{id:is("id").primaryKey(),firebaseUid:le("firebase_uid").notNull().unique(),username:le("username").notNull().unique(),email:le("email").notNull().unique(),displayName:le("display_name"),photoURL:le("photo_url"),bio:le("bio"),location:le("location"),website:le("website"),instagramUrl:le("instagram_url"),whatnotUrl:le("whatnot_url"),ebayUrl:le("ebay_url"),address:le("address"),isAdmin:ls("is_admin").default(!1).notNull(),plan:le("plan").default("SIDE_KICK").notNull(),subscriptionStatus:le("subscription_status").default("active").notNull(),stripeCustomerId:le("stripe_customer_id"),stripeSubscriptionId:le("stripe_subscription_id"),showEmail:ls("show_email").default(!1).notNull(),showCollection:ls("show_collection").default(!0).notNull(),showWishlist:ls("show_wishlist").default(!0).notNull(),emailUpdates:ls("email_updates").default(!0).notNull(),priceAlerts:ls("price_alerts").default(!0).notNull(),friendActivity:ls("friend_activity").default(!0).notNull(),profileVisibility:le("profile_visibility").default("public").notNull(),onboardingComplete:ls("onboarding_complete").default(!1).notNull(),heardAbout:le("heard_about"),favoriteSets:le("favorite_sets").array(),marketingOptIn:ls("marketing_opt_in").default(!1).notNull(),lastLogin:ct("last_login"),loginStreak:at("login_streak").default(0).notNull(),totalLogins:at("total_logins").default(0).notNull(),lastInactivityEmailSent:ct("last_inactivity_email_sent"),lastWeeklyDigestSent:ct("last_weekly_digest_sent"),createdAt:ct("created_at").defaultNow().notNull()}),HQ=fs("email_logs",{id:is("id").primaryKey(),userId:at("user_id").references(()=>An.id),email:le("email").notNull(),template:le("template").notNull(),subject:le("subject").notNull(),jobName:le("job_name"),sentAt:ct("sent_at").defaultNow().notNull()}),OO=fs("main_sets",{id:is("id").primaryKey(),name:le("name").notNull(),slug:le("slug").notNull().unique(),notes:le("notes"),thumbnailImageUrl:le("thumbnail_image_url"),createdAt:ct("created_at").defaultNow().notNull()}),LO=fs("card_sets",{id:is("id").primaryKey(),name:le("name").notNull(),slug:le("slug").notNull().unique(),year:at("year").notNull(),description:le("description"),imageUrl:le("image_url"),totalCards:at("total_cards").default(0).notNull(),mainSetId:at("main_set_id").references(()=>OO.id),createdAt:ct("created_at").defaultNow().notNull()}),sh=fs("cards",{id:is("id").primaryKey(),setId:at("set_id").references(()=>LO.id).notNull(),cardNumber:le("card_number").notNull(),name:le("name").notNull(),variation:le("variation"),isInsert:ls("is_insert").default(!1).notNull(),frontImageUrl:le("front_image_url"),backImageUrl:le("back_image_url"),alternateImages:le("alternate_images").array(),description:le("description"),rarity:le("rarity").notNull(),estimatedValue:Sn("estimated_value",{precision:10,scale:2}),lastImageSearchAttempt:ct("last_image_search_attempt"),createdAt:ct("created_at").defaultNow().notNull()}),WQ=fs("user_collections",{id:is("id").primaryKey(),userId:at("user_id").references(()=>An.id).notNull(),cardId:at("card_id").references(()=>sh.id).notNull(),condition:le("condition").default("Near Mint").notNull(),acquiredDate:ct("acquired_date").defaultNow().notNull(),acquiredVia:le("acquired_via").default("manual").notNull(),personalValue:Sn("personal_value",{precision:10,scale:2}),salePrice:Sn("sale_price",{precision:10,scale:2}),isForSale:ls("is_for_sale").default(!1).notNull(),serialNumber:le("serial_number"),quantity:at("quantity").default(1).notNull(),isFavorite:ls("is_favorite").default(!1).notNull(),notes:le("notes")},t=>({userIdIdx:Cm("user_collections_user_id_idx").on(t.userId),cardIdIdx:Cm("user_collections_card_id_idx").on(t.cardId),userCardIdx:jO("user_collections_user_card_idx").on(t.userId,t.cardId)})),qQ=fs("user_wishlists",{id:is("id").primaryKey(),userId:at("user_id").references(()=>An.id).notNull(),cardId:at("card_id").references(()=>sh.id).notNull(),priority:at("priority").default(1).notNull(),maxPrice:Sn("max_price",{precision:10,scale:2}),addedDate:ct("added_date").defaultNow().notNull()},t=>({userIdIdx:Cm("user_wishlists_user_id_idx").on(t.userId),cardIdIdx:Cm("user_wishlists_card_id_idx").on(t.cardId),userCardIdx:jO("user_wishlists_user_card_idx").on(t.userId,t.cardId)})),KQ=fs("card_price_cache",{id:is("id").primaryKey(),cardId:at("card_id").notNull().references(()=>sh.id,{onDelete:"cascade"}),avgPrice:Sn("avg_price",{precision:10,scale:2}),recentSales:le("recent_sales").array(),salesCount:at("sales_count").default(0),lastFetched:ct("last_fetched").defaultNow().notNull(),createdAt:ct("created_at").defaultNow().notNull()}),GQ=fs("pending_card_images",{id:is("id").primaryKey(),userId:at("user_id").references(()=>An.id).notNull(),cardId:at("card_id").references(()=>sh.id).notNull(),frontImageUrl:le("front_image_url"),backImageUrl:le("back_image_url"),status:le("status").default("pending").notNull(),rejectionReason:le("rejection_reason"),reviewedBy:at("reviewed_by").references(()=>An.id),reviewedAt:ct("reviewed_at"),createdAt:ct("created_at").defaultNow().notNull()}),QQ=fs("friends",{id:is("id").primaryKey(),requesterId:at("requester_id").references(()=>An.id).notNull(),recipientId:at("recipient_id").references(()=>An.id).notNull(),status:le("status").default("pending").notNull(),createdAt:ct("created_at").defaultNow().notNull(),updatedAt:ct("updated_at").defaultNow().notNull()}),ZQ=fs("messages",{id:is("id").primaryKey(),senderId:at("sender_id").references(()=>An.id).notNull(),recipientId:at("recipient_id").references(()=>An.id).notNull(),content:le("content").notNull(),imageUrl:le("image_url"),isRead:ls("is_read").default(!1).notNull(),createdAt:ct("created_at").defaultNow().notNull()});fs("notifications",{id:is("id").primaryKey(),userId:at("user_id").references(()=>An.id).notNull(),type:le("type").notNull(),title:le("title").notNull(),message:le("message").notNull(),data:le("data"),isRead:ls("is_read").default(!1).notNull(),createdAt:ct("created_at").defaultNow().notNull()});const FO=fs("badges",{id:is("id").primaryKey(),name:le("name").notNull().unique(),description:le("description").notNull(),iconUrl:le("icon_url"),category:le("category").notNull(),requirement:le("requirement").notNull(),rarity:le("rarity").default("bronze").notNull(),points:at("points").default(10).notNull(),unlockHint:le("unlock_hint"),isActive:ls("is_active").default(!0).notNull(),createdAt:ct("created_at").defaultNow().notNull()}),YQ=fs("user_badges",{id:is("id").primaryKey(),userId:at("user_id").references(()=>An.id).notNull(),badgeId:at("badge_id").references(()=>FO.id).notNull(),earnedAt:ct("earned_at").defaultNow().notNull()});_s(An).omit({id:!0,createdAt:!0});_s(HQ).omit({id:!0,sentAt:!0});const XQ=_s(OO).omit({id:!0,slug:!0,createdAt:!0});_s(LO).omit({id:!0,slug:!0,createdAt:!0,totalCards:!0});_s(sh).omit({id:!0,createdAt:!0});_s(WQ).omit({id:!0,acquiredDate:!0});_s(qQ).omit({id:!0,addedDate:!0});_s(KQ).omit({id:!0,createdAt:!0,lastFetched:!0});_s(GQ).omit({id:!0,createdAt:!0,status:!0,reviewedAt:!0,reviewedBy:!0,rejectionReason:!0});_s(QQ).omit({id:!0,createdAt:!0,updatedAt:!0});_s(ZQ).omit({id:!0,createdAt:!0});_s(FO).omit({id:!0,createdAt:!0});_s(YQ).omit({id:!0,earnedAt:!0});const UO=fs("market_trends",{id:is("id").primaryKey(),date:le("date").notNull().unique(),averagePrice:Sn("average_price",{precision:10,scale:2}).notNull(),totalSold:at("total_sold").notNull(),highestSale:Sn("highest_sale",{precision:10,scale:2}).notNull(),lowestSale:Sn("lowest_sale",{precision:10,scale:2}).notNull(),percentChange:Sn("percent_change",{precision:5,scale:2}),createdAt:ct("created_at").defaultNow().notNull()}),JQ=fs("market_trend_items",{id:is("id").primaryKey(),trendId:at("trend_id").references(()=>UO.id).notNull(),title:le("title").notNull(),price:Sn("price",{precision:10,scale:2}).notNull(),currency:le("currency").notNull(),imageUrl:le("image_url"),itemWebUrl:le("item_web_url"),category:le("category"),dayOverDayChange:Sn("day_over_day_change",{precision:5,scale:2}),createdAt:ct("created_at").defaultNow().notNull()});_s(UO).omit({id:!0,createdAt:!0});_s(JQ).omit({id:!0,createdAt:!0});const eZ=fs("upcoming_sets",{id:is("id").primaryKey(),setName:le("set_name").notNull(),manufacturer:le("manufacturer"),productLine:le("product_line"),releaseDateEstimated:ct("release_date_estimated"),dateConfidence:le("date_confidence",{enum:["estimated","confirmed"]}),status:le("status",{enum:["upcoming","delayed","released"]}).default("upcoming").notNull(),format:le("format"),configuration:le("configuration"),msrp:Sn("msrp",{precision:10,scale:2}),keyHighlights:le("key_highlights"),checklistUrl:le("checklist_url"),sourceUrl:le("source_url").notNull(),thumbnailUrl:le("thumbnail_url"),interestCount:at("interest_count").default(0).notNull(),lastVerifiedAt:ct("last_verified_at").defaultNow(),isActive:ls("is_active").default(!0).notNull(),createdAt:ct("created_at").defaultNow().notNull(),updatedAt:ct("updated_at").defaultNow().notNull()});_s(eZ).omit({id:!0,createdAt:!0,updatedAt:!0,interestCount:!0});const zO=XQ.extend({name:As.string().min(1,"Name is required")});function tZ(){const[t,e]=x.useState(!1),{toast:s}=dt(),n=P4({resolver:A4(zO),defaultValues:{name:"",notes:"",thumbnailImageUrl:""}}),r=Me({mutationFn:o=>_e("POST","/api/main-sets",o),onSuccess:o=>{var c,d,u;Rs.invalidateQueries({queryKey:["/api/main-sets"]}),Rs.invalidateQueries({queryKey:["/api/card-sets"]});let l="Main set created successfully";((c=o.suggestedAssignments)==null?void 0:c.length)>0&&(l+=`. Auto-assigned ${o.suggestedAssignments.length} matching base set(s).`),((d=o.conflictingSets)==null?void 0:d.length)>0&&(l+=` Warning: ${o.conflictingSets.length} exact name match(es) already assigned to other main sets.`),((u=o.matchingBaseSets)==null?void 0:u.length)>0&&(l+=` Found ${o.matchingBaseSets.length} similar set(s) already assigned elsewhere.`),s({title:"Success",description:l}),e(!1),n.reset()},onError:o=>{s({variant:"destructive",title:"Error",description:o.message||"Failed to create main set"})}}),a=o=>{r.mutate(o)};return i.jsxs(ln,{open:t,onOpenChange:e,children:[i.jsx(ic,{asChild:!0,children:i.jsxs($,{children:[i.jsx(xa,{className:"h-4 w-4 mr-2"}),"Add Main Set"]})}),i.jsxs(Gs,{className:"sm:max-w-[425px]",children:[i.jsx(Qs,{children:i.jsx(Zs,{children:"Create New Main Set"})}),i.jsx(M4,{...n,children:i.jsxs("form",{onSubmit:n.handleSubmit(a),className:"space-y-4",children:[i.jsx(kl,{control:n.control,name:"name",render:({field:o})=>i.jsxs(lo,{children:[i.jsx(co,{children:"Name *"}),i.jsx(uo,{children:i.jsx(ne,{placeholder:"Enter main set name",...o})}),i.jsx(ho,{})]})}),i.jsx(kl,{control:n.control,name:"notes",render:({field:o})=>i.jsxs(lo,{children:[i.jsx(co,{children:"Notes"}),i.jsx(uo,{children:i.jsx(ws,{placeholder:"Optional notes about this main set",className:"resize-none",...o,value:o.value||""})}),i.jsx(ho,{})]})}),i.jsx(kl,{control:n.control,name:"thumbnailImageUrl",render:({field:o})=>i.jsxs(lo,{children:[i.jsx(co,{children:"Thumbnail Image URL"}),i.jsx(uo,{children:i.jsx(ne,{placeholder:"https://example.com/image.jpg",...o,value:o.value||""})}),i.jsx(ho,{})]})}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx($,{type:"button",variant:"outline",onClick:()=>e(!1),children:"Cancel"}),i.jsx($,{type:"submit",disabled:r.isPending,children:r.isPending?"Creating...":"Create Main Set"})]})]})})]})]})}function sZ({mainSet:t}){const[e,s]=x.useState(!1),[n,r]=x.useState(""),[a,o]=x.useState([]),{toast:l}=dt(),c=P4({resolver:A4(zO),defaultValues:{name:t.name,notes:t.notes||"",thumbnailImageUrl:t.thumbnailImageUrl||""}}),{data:d=[]}=Ce({queryKey:["/api/card-sets"],enabled:e});Oe.useEffect(()=>{if(e&&d.length>0){const g=d.filter(v=>v.mainSetId===t.id).map(v=>v.id);o(g)}},[e,d,t.id]);const u=Oe.useMemo(()=>{if(!d.length)return[];const g=d.filter(w=>{const j=!n||w.name.toLowerCase().includes(n.toLowerCase())||w.year.toString().includes(n);return!j&&n&&console.debug(`Set excluded from assignment - Search filter: ${w.name} (ID: ${w.id})`),j}),v=t.name.toLowerCase().trim(),y=g.filter(w=>w.name.toLowerCase().trim()===v);return y.length>0?y.forEach(w=>{const j=w.mainSetId?w.mainSetId===t.id?"ALREADY_ASSIGNED_TO_THIS":"ASSIGNED_TO_OTHER_MAIN_SET":"AVAILABLE_FOR_ASSIGNMENT";console.log(`Base set candidate: ${w.name} (ID: ${w.id}) - Status: ${j}`)}):console.log(`No exact name matches found for main set: ${t.name}`),g},[d,n,t.name,t.id]),h=Me({mutationFn:g=>_e("PATCH",`/api/main-sets/${t.id}`,g),onSuccess:()=>{Rs.invalidateQueries({queryKey:["/api/main-sets"]}),l({title:"Success",description:"Main set updated successfully"})},onError:g=>{l({variant:"destructive",title:"Error",description:g.message||"Failed to update main set"})}}),f=Me({mutationFn:g=>_e("PATCH",`/api/main-sets/${t.id}/assign-sets`,{cardSetIds:g}),onSuccess:()=>{Rs.invalidateQueries({queryKey:["/api/card-sets"]}),l({title:"Success",description:"Sets assigned successfully"})}}),p=Me({mutationFn:g=>_e("PATCH",`/api/main-sets/${t.id}/unassign-sets`,{cardSetIds:g}),onSuccess:()=>{Rs.invalidateQueries({queryKey:["/api/card-sets"]}),l({title:"Success",description:"Sets unassigned successfully"})}}),b=async g=>{await h.mutateAsync(g);const v=d.filter(j=>j.mainSetId===t.id).map(j=>j.id),y=a.filter(j=>!v.includes(j)),w=v.filter(j=>!a.includes(j));y.length>0&&await f.mutateAsync(y),w.length>0&&await p.mutateAsync(w),s(!1)},m=g=>{o(v=>v.includes(g)?v.filter(y=>y!==g):[...v,g])};return i.jsxs(ln,{open:e,onOpenChange:s,children:[i.jsx(ic,{asChild:!0,children:i.jsxs($,{variant:"outline",size:"sm",className:"bg-white text-gray-700 border-gray-300 hover:bg-gray-50",children:[i.jsx(Uo,{className:"h-4 w-4 mr-1"}),"Edit"]})}),i.jsxs(Gs,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[i.jsx(Qs,{children:i.jsxs(Zs,{children:["Edit Main Set: ",t.name]})}),i.jsx(M4,{...c,children:i.jsxs("form",{onSubmit:c.handleSubmit(b),className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx(kl,{control:c.control,name:"name",render:({field:g})=>i.jsxs(lo,{children:[i.jsx(co,{children:"Name *"}),i.jsx(uo,{children:i.jsx(ne,{placeholder:"Enter main set name",...g})}),i.jsx(ho,{})]})}),i.jsx(kl,{control:c.control,name:"notes",render:({field:g})=>i.jsxs(lo,{children:[i.jsx(co,{children:"Notes"}),i.jsx(uo,{children:i.jsx(ws,{placeholder:"Optional notes about this main set",className:"resize-none",...g})}),i.jsx(ho,{})]})}),i.jsx(kl,{control:c.control,name:"thumbnailImageUrl",render:({field:g})=>i.jsxs(lo,{children:[i.jsx(co,{children:"Thumbnail Image URL"}),i.jsx(uo,{children:i.jsx(ne,{placeholder:"https://example.com/image.jpg",...g})}),i.jsx(ho,{})]})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Assign Card Sets"}),i.jsxs("div",{className:"relative",children:[i.jsx(ss,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(ne,{placeholder:"Search sets by name or year...",value:n,onChange:g=>r(g.target.value),className:"pl-10"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("span",{className:"text-sm text-gray-600",children:[a.length," sets assigned"]}),a.length>0&&i.jsx($,{type:"button",variant:"outline",size:"sm",onClick:()=>o([]),children:"Clear All"})]}),i.jsx("div",{className:"border rounded-md max-h-60 overflow-y-auto",children:u.length===0?i.jsx("div",{className:"p-4 text-center text-gray-500",children:n?"No sets match your search":"No sets available"}):i.jsx("div",{className:"p-2 space-y-2",children:u.map(g=>i.jsxs("div",{className:"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded",children:[i.jsx(Eo,{checked:a.includes(g.id),onCheckedChange:()=>m(g.id)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium truncate",children:g.name}),i.jsxs("div",{className:"text-sm text-gray-500",children:[g.year,"  ",g.totalCards," cards",g.mainSetId&&g.mainSetId!==t.id&&i.jsx(ve,{variant:"secondary",className:"ml-2",children:"Assigned to other main set"})]})]})]},g.id))})})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx($,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancel"}),i.jsxs($,{type:"submit",disabled:h.isPending||f.isPending||p.isPending,children:[i.jsx(Pv,{className:"h-4 w-4 mr-2"}),h.isPending?"Saving...":"Save Changes"]})]})]})})]})]})}function nZ({mainSet:t}){const[e,s]=x.useState(!1),{toast:n}=dt(),r=Me({mutationFn:()=>_e("DELETE",`/api/main-sets/${t.id}`),onSuccess:()=>{Rs.invalidateQueries({queryKey:["/api/main-sets"]}),n({title:"Success",description:"Main set deleted successfully"}),s(!1)},onError:a=>{n({variant:"destructive",title:"Error",description:a.message||"Failed to delete main set"})}});return i.jsxs(ln,{open:e,onOpenChange:s,children:[i.jsx(ic,{asChild:!0,children:i.jsxs($,{variant:"outline",size:"sm",className:"bg-white text-red-600 border-red-300 hover:bg-red-50",children:[i.jsx(Co,{className:"h-4 w-4 mr-1"}),"Delete"]})}),i.jsxs(Gs,{children:[i.jsx(Qs,{children:i.jsx(Zs,{children:"Delete Main Set"})}),i.jsxs("p",{children:['Are you sure you want to delete "',t.name,'"? This action cannot be undone.']}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx($,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),i.jsx($,{variant:"destructive",onClick:()=>r.mutate(),disabled:r.isPending,children:r.isPending?"Deleting...":"Delete"})]})]})]})}function rZ(){const{data:t=[],isLoading:e,error:s}=Ce({queryKey:["/api/main-sets"]});return e?i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"animate-pulse space-y-4",children:[i.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),i.jsx("div",{className:"h-32 bg-gray-200 rounded"})]})}):s?i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"text-red-600",children:["Error loading main sets: ",s.message]})}):i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Manage Main Sets"}),i.jsx(tZ,{})]}),i.jsxs(re,{children:[i.jsx(be,{children:i.jsxs(we,{children:["Main Sets (",t.length,")"]})}),i.jsx(ie,{children:t.length===0?i.jsx("div",{className:"text-center py-8",children:i.jsx("p",{className:"text-gray-500",children:"No main sets found. Create your first main set to get started."})}):i.jsxs(ub,{children:[i.jsx(hb,{children:i.jsxs(iu,{children:[i.jsx(oi,{className:"text-gray-900 font-semibold",children:"Name"}),i.jsx(oi,{className:"text-gray-900 font-semibold",children:"Notes"}),i.jsx(oi,{className:"text-gray-900 font-semibold",children:"Created"}),i.jsx(oi,{className:"text-gray-900 font-semibold",children:"Actions"})]})}),i.jsx(fb,{children:t.map(n=>i.jsxs(iu,{children:[i.jsx(li,{className:"font-medium",children:n.name}),i.jsx(li,{className:"max-w-xs truncate",children:n.notes||"No notes"}),i.jsx(li,{children:new Date(n.createdAt).toLocaleDateString()}),i.jsx(li,{children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(sZ,{mainSet:n}),i.jsx(nZ,{mainSet:n})]})})]},n.id))})]})})]})]})}function iZ(){const[t,e]=x.useState(""),{toast:s}=dt(),{data:n=[],isLoading:r,error:a}=Ce({queryKey:["/api/card-sets/unassigned"]}),{data:o=[]}=Ce({queryKey:["/api/main-sets"]}),l=Me({mutationFn:async({mainSetId:u,cardSetIds:h})=>{await _e(`/api/main-sets/${u}/assign-sets`,"PATCH",{cardSetIds:h})},onSuccess:()=>{Rs.invalidateQueries({queryKey:["/api/card-sets/unassigned"]}),Rs.invalidateQueries({queryKey:["/api/card-sets"]}),s({title:"Success",description:"Set assigned to main set successfully"})},onError:u=>{s({title:"Error",description:u.message||"Failed to assign set",variant:"destructive"})}}),c=n.filter(u=>u.name.toLowerCase().includes(t.toLowerCase())||u.year.toString().includes(t)),d=(u,h)=>{l.mutate({mainSetId:h,cardSetIds:[u]})};return r?i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"animate-pulse space-y-4",children:[i.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),i.jsx("div",{className:"h-32 bg-gray-200 rounded"})]})}):a?i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"text-red-600",children:["Error loading unassigned sets: ",a.message]})}):i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Unassigned Sets"}),i.jsxs(ve,{variant:"secondary",children:[c.length," sets"]})]}),i.jsxs(re,{children:[i.jsxs(be,{children:[i.jsx(we,{children:"Sets Not Assigned to Main Sets"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ss,{className:"h-4 w-4 text-gray-400"}),i.jsx(ne,{placeholder:"Search by name or year...",value:t,onChange:u=>e(u.target.value),className:"max-w-sm"})]})]}),i.jsx(ie,{children:c.length===0?i.jsx("div",{className:"text-center py-8",children:i.jsx("p",{className:"text-gray-500",children:t?"No sets found matching your search.":"All sets are assigned to main sets!"})}):i.jsxs(ub,{children:[i.jsx(hb,{children:i.jsxs(iu,{children:[i.jsx(oi,{className:"text-gray-900 font-semibold",children:"Name"}),i.jsx(oi,{className:"text-gray-900 font-semibold",children:"Year"}),i.jsx(oi,{className:"text-gray-900 font-semibold",children:"Cards"}),i.jsx(oi,{className:"text-gray-900 font-semibold",children:"Actions"})]})}),i.jsx(fb,{children:c.map(u=>i.jsxs(iu,{children:[i.jsx(li,{className:"font-medium",children:u.name}),i.jsx(li,{children:u.year}),i.jsx(li,{children:i.jsxs(ve,{variant:"outline",children:[u.totalCards," cards"]})}),i.jsx(li,{children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(Ji,{href:`/sets/${u.id}`,children:i.jsxs($,{variant:"outline",size:"sm",className:"bg-white text-gray-700 border-gray-300 hover:bg-gray-50",children:[i.jsx(ET,{className:"h-4 w-4 mr-1"}),"View Set"]})}),o.length>0&&i.jsxs("select",{className:"px-3 py-1 text-sm border border-gray-300 rounded-md bg-white hover:bg-gray-50",onChange:h=>{h.target.value&&(d(u.id,parseInt(h.target.value)),h.target.value="")},disabled:l.isPending,children:[i.jsx("option",{value:"",children:"Assign to Main Set..."}),o.map(h=>i.jsx("option",{value:h.id,children:h.name},h.id))]})]})})]},u.id))})]})})]})]})}function aZ(){const t=[{title:"Manage Users",description:"Add, edit, and manage user accounts and permissions",href:"/admin/users",icon:ai,color:"bg-blue-500"},{title:"Manage Main Sets",description:"Create and organize main card set categories",href:"/admin/main-sets",icon:TT,color:"bg-green-500"},{title:"Unassigned Sets",description:"Assign individual card sets to main set categories",href:"/admin/unassigned-sets",icon:Uo,color:"bg-orange-500"},{title:"Add Cards",description:"Import new cards and manage card database",href:"/admin/cards",icon:su,color:"bg-purple-500"},{title:"Image Automation",description:"Process card images and manage automation tools",href:"/admin/automation",icon:fp,color:"bg-gray-500"},{title:"Upcoming Sets Tracker",description:"Manage upcoming Marvel card set releases",href:"/admin/upcoming-sets",icon:Or,color:"bg-red-500"},{title:"Image Approvals",description:"Review and approve user-submitted card images",href:"/admin/image-approvals",icon:wl,color:"bg-pink-500"}];return i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsx("div",{className:"flex justify-between items-center",children:i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>{const s=e.icon;return i.jsx(Ji,{href:e.href,children:i.jsxs(re,{className:"hover:shadow-lg transition-shadow cursor-pointer border border-gray-200 bg-white",children:[i.jsx(be,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:`p-2 rounded-lg ${e.color}`,children:i.jsx(s,{className:"h-6 w-6 text-white"})}),i.jsx(we,{className:"text-lg text-gray-900",children:e.title})]})}),i.jsxs(ie,{children:[i.jsx("p",{className:"text-gray-600 text-sm",children:e.description}),i.jsx($,{variant:"outline",className:"mt-4 w-full bg-white text-gray-700 border-gray-300 hover:bg-gray-50",children:"Access Tool"})]})]})},e.href)})}),i.jsxs("div",{className:"mt-8 p-6 bg-gray-50 rounded-lg border border-gray-200",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Admin Quick Stats"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"1,103"}),i.jsx("div",{className:"text-sm text-gray-600",children:"Total Sets"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"60,000+"}),i.jsx("div",{className:"text-sm text-gray-600",children:"Total Cards"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"Active"}),i.jsx("div",{className:"text-sm text-gray-600",children:"System Status"})]})]})]})]})}var jb="Progress",Nb=100,[oZ,Gte]=hs(jb),[lZ,cZ]=oZ(jb),VO=x.forwardRef((t,e)=>{const{__scopeProgress:s,value:n=null,max:r,getValueLabel:a=dZ,...o}=t;(r||r===0)&&!i1(r)&&console.error(uZ(`${r}`,"Progress"));const l=i1(r)?r:Nb;n!==null&&!a1(n,l)&&console.error(hZ(`${n}`,"Progress"));const c=a1(n,l)?n:null,d=Rm(c)?a(c,l):void 0;return i.jsx(lZ,{scope:s,value:c,max:l,children:i.jsx(je.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Rm(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":HO(c,l),"data-value":c??void 0,"data-max":l,...o,ref:e})})});VO.displayName=jb;var $O="ProgressIndicator",BO=x.forwardRef((t,e)=>{const{__scopeProgress:s,...n}=t,r=cZ($O,s);return i.jsx(je.div,{"data-state":HO(r.value,r.max),"data-value":r.value??void 0,"data-max":r.max,...n,ref:e})});BO.displayName=$O;function dZ(t,e){return`${Math.round(t/e*100)}%`}function HO(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Rm(t){return typeof t=="number"}function i1(t){return Rm(t)&&!isNaN(t)&&t>0}function a1(t,e){return Rm(t)&&!isNaN(t)&&t<=e&&t>=0}function uZ(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Nb}\`.`}function hZ(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Nb} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var WO=VO,fZ=BO;const Sb=x.forwardRef(({className:t,value:e,...s},n)=>i.jsx(WO,{ref:n,className:ye("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...s,children:i.jsx(fZ,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Sb.displayName=WO.displayName;const mZ=Ku("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),hi=x.forwardRef(({className:t,variant:e,...s},n)=>i.jsx("div",{ref:n,role:"alert",className:ye(mZ({variant:e}),t),...s}));hi.displayName="Alert";const pZ=x.forwardRef(({className:t,...e},s)=>i.jsx("h5",{ref:s,className:ye("mb-1 font-medium leading-none tracking-tight",t),...e}));pZ.displayName="AlertTitle";const fi=x.forwardRef(({className:t,...e},s)=>i.jsx("div",{ref:s,className:ye("text-sm [&_p]:leading-relaxed",t),...e}));fi.displayName="AlertDescription";function gZ(){var C;const[t,e]=x.useState(null),[s,n]=x.useState(!1),[r,a]=x.useState(!1),[o,l]=x.useState(null),[c,d]=x.useState("50"),[u,h]=x.useState("1000"),[f,p]=x.useState(!0),[b,m]=x.useState(!1),[g,v]=x.useState([]),{toast:y}=dt(),w=async()=>{n(!0);try{const k=await(await _e("GET","/api/admin/missing-images-count")).json();e(k)}catch(_){console.error("Error fetching missing images info:",_),y({title:"Error",description:"Failed to load missing images information",variant:"destructive"})}finally{n(!1)}},j=async()=>{if(!(t!=null&&t.configReady)){y({title:"Configuration Error",description:"Missing required configuration. Please check environment variables.",variant:"destructive"});return}a(!0),l(null),v([]);try{console.log("[DEBUG] Frontend: Starting bulk update request...");const _=await _e("POST","/api/admin/update-missing-images",{limit:parseInt(c),rateLimitMs:parseInt(u),skipRecentlyFailed:f,randomOrder:b});console.log("[DEBUG] Frontend: Got response, parsing JSON...");const k=await _.json();console.log("[DEBUG] Frontend: Parsed result:",k),l({type:"complete",current:k.totalProcessed||0,total:k.totalProcessed||0,totalProcessed:k.totalProcessed||0,successCount:k.successCount||0,failureCount:k.failureCount||0,successes:k.successes||[],failures:k.failures||[]}),k.successCount>0&&v(M=>[...M,` Successfully updated ${k.successCount} card images`]),k.failureCount>0&&v(M=>[...M,` Failed to update ${k.failureCount} cards`]),console.log("[DEBUG] Frontend: Update completed successfully"),await w(),y({title:"Bulk Update Complete",description:`Updated ${k.successCount} images successfully. Missing images count refreshed.`})}catch(_){console.error("Bulk update error:",_),y({title:"Error",description:"Failed to perform bulk image update",variant:"destructive"})}finally{a(!1),setTimeout(()=>{w()},1e3)}};x.useEffect(()=>{w()},[]);const N=o!=null&&o.total?Math.round(o.current/o.total*100):0;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(wl,{className:"h-5 w-5 text-blue-500"}),i.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"eBay Browse API - Bulk Image Processing"})]}),i.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:[i.jsx("strong",{children:"API Function:"})," Searches eBay for missing card images using Browse API, processes in batches with rate limiting"]}),i.jsxs(re,{children:[i.jsx(be,{children:i.jsxs(we,{className:"flex items-center gap-2 text-gray-900 dark:text-white",children:[i.jsx(wl,{className:"h-5 w-5"}),"Image Processing Status & Controls"]})}),i.jsxs(ie,{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Missing Images"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Cv,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"}),i.jsx("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s?"...":(t==null?void 0:t.count)||0}),i.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"cards"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Configuration Status"}),i.jsxs("div",{className:"flex items-center gap-2",children:[s?i.jsx(ha,{className:"h-4 w-4 animate-spin"}):t!=null&&t.configReady?i.jsx(Lr,{className:"h-4 w-4 text-green-500"}):i.jsx(_o,{className:"h-4 w-4 text-red-500"}),i.jsx(ve,{variant:t!=null&&t.configReady?"default":"destructive",children:s?"Checking...":t!=null&&t.configReady?"Ready":"Error"})]})]})]}),t&&!t.configReady&&i.jsxs(hi,{variant:"destructive",children:[i.jsx(Jn,{className:"h-4 w-4"}),i.jsxs(fi,{children:["Missing configuration: ",((C=t.missingConfig)==null?void 0:C.join(", "))||"Unknown configuration error"]})]}),(t==null?void 0:t.sampleCards)&&t.sampleCards.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{className:"text-sm font-medium",children:"Sample Cards Missing Images"}),i.jsx("div",{className:"text-sm text-muted-foreground space-y-1",children:t.sampleCards.map(_=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-mono text-xs bg-muted px-2 py-1 rounded",children:_.id}),i.jsxs("span",{children:[_.setName," - ",_.name," #",_.cardNumber]})]},_.id))})]}),i.jsx(Ar,{}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"limit",className:"text-gray-900 dark:text-white",children:"Limit (max cards to process)"}),i.jsx(ne,{id:"limit",type:"number",min:"1",max:"1000",value:c,onChange:_=>d(_.target.value),disabled:r,className:"bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"rateLimitMs",className:"text-gray-900 dark:text-white",children:"Rate Limit (ms between requests)"}),i.jsx(ne,{id:"rateLimitMs",type:"number",min:"500",max:"5000",value:u,onChange:_=>h(_.target.value),disabled:r,className:"bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(G,{className:"text-gray-900 dark:text-white font-medium",children:"Smart Processing Options"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Eo,{id:"skipRecentlyFailed",checked:f,onCheckedChange:_=>p(!!_),disabled:r}),i.jsx(G,{htmlFor:"skipRecentlyFailed",className:"text-sm text-gray-700 dark:text-gray-300",children:"Skip recently failed cards (avoids reprocessing old failures first)"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Eo,{id:"randomOrder",checked:b,onCheckedChange:_=>m(!!_),disabled:r}),i.jsx(G,{htmlFor:"randomOrder",className:"text-sm text-gray-700 dark:text-gray-300",children:"Random order processing (prevents processing failed card clusters)"})]}),i.jsxs(hi,{children:[i.jsx(Jn,{className:"h-4 w-4"}),i.jsxs(fi,{className:"text-sm",children:[i.jsx("strong",{children:"Recommended:"}),' Keep "Skip recently failed" enabled to prioritize unprocessed cards. Use random order if you notice the system repeatedly processing the same failed cards.']})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx($,{onClick:j,disabled:r||!(t!=null&&t.configReady)||((t==null?void 0:t.count)||0)===0,className:"flex-1 bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white",children:r?i.jsxs(i.Fragment,{children:[i.jsx(ha,{className:"h-4 w-4 animate-spin mr-2"}),"Processing Images via eBay Browse API..."]}):i.jsxs(i.Fragment,{children:[i.jsx(wl,{className:"h-4 w-4 mr-2"}),"Start Bulk Update (API: GET /v1/browse/search)"]})}),i.jsx($,{variant:"outline",onClick:w,disabled:s||r,children:i.jsx(ha,{className:`h-4 w-4 ${s?"animate-spin":""}`})})]}),o&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Progress"}),i.jsxs("span",{children:[o.current,"/",o.total," (",N,"%)"]})]}),i.jsx(Sb,{value:N,className:"h-2"})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-green-600 font-semibold",children:o.successCount}),i.jsx("div",{className:"text-muted-foreground",children:"Success"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-red-600 font-semibold",children:o.failureCount}),i.jsx("div",{className:"text-muted-foreground",children:"Failed"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-blue-600 font-semibold",children:o.totalProcessed}),i.jsx("div",{className:"text-muted-foreground",children:"Total"})]})]})]}),g.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{className:"text-sm font-medium",children:"Live Progress"}),i.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-md p-3 max-h-40 overflow-y-auto border",children:i.jsx("pre",{className:"text-xs whitespace-pre-wrap text-gray-900 dark:text-gray-100",children:g.slice(-10).join(`
`)})})]})]})]})]})}function xZ(){var b,m,g,v,y,w,j;const[t,e]=x.useState(!1),[s,n]=x.useState(null),{toast:r}=dt(),{data:a,isLoading:o,refetch:l}=Ce({queryKey:["/api/admin/scheduler/status"],queryFn:()=>_e("GET","/api/admin/scheduler/status").then(N=>N.json())}),c=Me({mutationFn:N=>_e("POST","/api/admin/scheduler/config",N).then(C=>C.json()),onSuccess:()=>{r({title:"Success",description:"Scheduler configuration updated successfully"}),e(!1),n(null),Rs.invalidateQueries({queryKey:["/api/admin/scheduler/status"]})},onError:N=>{r({title:"Error",description:N.message||"Failed to update scheduler configuration",variant:"destructive"})}}),d=Me({mutationFn:()=>_e("POST","/api/admin/scheduler/stop").then(N=>N.json()),onSuccess:()=>{r({title:"Success",description:"All scheduled jobs stopped"}),Rs.invalidateQueries({queryKey:["/api/admin/scheduler/status"]})},onError:N=>{r({title:"Error",description:N.message||"Failed to stop scheduler",variant:"destructive"})}}),u=()=>{a&&(n({...a.config}),e(!0))},h=()=>{s&&c.mutate(s)},f=()=>{e(!1),n(null)};if(o)return i.jsxs(re,{children:[i.jsx(be,{children:i.jsxs(we,{className:"flex items-center gap-2",children:[i.jsx(Sr,{className:"h-5 w-5"}),"Background Scheduler"]})}),i.jsx(ie,{children:i.jsxs("div",{className:"animate-pulse space-y-4",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]})})]});if(!a)return i.jsxs(re,{children:[i.jsx(be,{children:i.jsxs(we,{className:"flex items-center gap-2",children:[i.jsx(Sr,{className:"h-5 w-5"}),"Background Scheduler"]})}),i.jsx(ie,{children:i.jsxs(hi,{variant:"destructive",children:[i.jsx(Jn,{className:"h-4 w-4"}),i.jsx(fi,{children:"Failed to load scheduler status. Please check your connection and try again."})]})})]});const p=t?s:a.config;return i.jsxs(re,{className:"w-full",children:[i.jsx(be,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(we,{className:"flex items-center gap-2",children:[i.jsx(Sr,{className:"h-5 w-5"}),"Background Scheduler"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ve,{variant:a.enabled?"default":"secondary",children:a.enabled?"Active":"Inactive"}),!t&&i.jsxs($,{onClick:u,variant:"outline",size:"sm",className:"flex items-center gap-1",children:[i.jsx(fp,{className:"h-3 w-3"}),"Configure"]})]})]})}),i.jsxs(ie,{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx(G,{className:"text-sm font-medium",children:"Active Jobs"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:a.activeJobs.length>0?a.activeJobs.map(N=>i.jsx(ve,{variant:"outline",className:"text-xs",children:N},N)):i.jsx("span",{className:"text-sm text-gray-500",children:"None running"})})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(G,{className:"text-sm font-medium",children:"Daily Progress"}),i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"font-mono",children:a.dailyProcessedCount})," cards processed today"]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(G,{className:"text-sm font-medium",children:"Last Reset"}),i.jsx("div",{className:"text-sm text-gray-600",children:a.lastResetDate})]})]}),i.jsx(Ar,{}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Configuration"}),t&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx($,{onClick:f,variant:"outline",size:"sm",children:"Cancel"}),i.jsx($,{onClick:h,size:"sm",disabled:c.isPending,children:c.isPending?"Saving...":"Save"})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(In,{id:"scheduler-enabled",checked:(p==null?void 0:p.enabled)||!1,onCheckedChange:N=>{t&&s&&n({...s,enabled:N})},disabled:!t}),i.jsx(G,{htmlFor:"scheduler-enabled",className:"text-sm font-medium",children:"Enable Background Scheduler"})]}),i.jsxs(re,{className:"border-l-4 border-l-blue-500",children:[i.jsx(be,{className:"pb-3",children:i.jsxs(we,{className:"text-base flex items-center gap-2",children:[i.jsx(Or,{className:"h-4 w-4"}),"Daily Image Updates"]})}),i.jsxs(ie,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(In,{id:"daily-enabled",checked:((b=p==null?void 0:p.dailyImageUpdates)==null?void 0:b.enabled)||!1,onCheckedChange:N=>{t&&s&&n({...s,dailyImageUpdates:{...s.dailyImageUpdates,enabled:N}})},disabled:!t}),i.jsx(G,{htmlFor:"daily-enabled",className:"text-sm",children:"Enable daily processing"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"daily-schedule",className:"text-sm",children:"Schedule (Cron)"}),i.jsx(ne,{id:"daily-schedule",value:((m=p==null?void 0:p.dailyImageUpdates)==null?void 0:m.schedule)||"",onChange:N=>{t&&s&&n({...s,dailyImageUpdates:{...s.dailyImageUpdates,schedule:N.target.value}})},disabled:!t,placeholder:"0 2 * * *",className:"font-mono text-sm"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"daily-batch-size",className:"text-sm",children:"Batch Size"}),i.jsx(ne,{id:"daily-batch-size",type:"number",value:((g=p==null?void 0:p.dailyImageUpdates)==null?void 0:g.batchSize)||0,onChange:N=>{t&&s&&n({...s,dailyImageUpdates:{...s.dailyImageUpdates,batchSize:parseInt(N.target.value)}})},disabled:!t,min:"1",max:"5000"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"daily-max-per-day",className:"text-sm",children:"Max Per Day"}),i.jsx(ne,{id:"daily-max-per-day",type:"number",value:((v=p==null?void 0:p.dailyImageUpdates)==null?void 0:v.maxPerDay)||0,onChange:N=>{t&&s&&n({...s,dailyImageUpdates:{...s.dailyImageUpdates,maxPerDay:parseInt(N.target.value)}})},disabled:!t,min:"100",max:"10000"})]})]})]})]}),i.jsxs(re,{className:"border-l-4 border-l-green-500",children:[i.jsx(be,{className:"pb-3",children:i.jsxs(we,{className:"text-base flex items-center gap-2",children:[i.jsx(Or,{className:"h-4 w-4"}),"Weekly Maintenance"]})}),i.jsxs(ie,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(In,{id:"weekly-enabled",checked:((y=p==null?void 0:p.weeklyMaintenance)==null?void 0:y.enabled)||!1,onCheckedChange:N=>{t&&s&&n({...s,weeklyMaintenance:{...s.weeklyMaintenance,enabled:N}})},disabled:!t}),i.jsx(G,{htmlFor:"weekly-enabled",className:"text-sm",children:"Enable weekly maintenance"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"weekly-schedule",className:"text-sm",children:"Schedule (Cron)"}),i.jsx(ne,{id:"weekly-schedule",value:((w=p==null?void 0:p.weeklyMaintenance)==null?void 0:w.schedule)||"",onChange:N=>{t&&s&&n({...s,weeklyMaintenance:{...s.weeklyMaintenance,schedule:N.target.value}})},disabled:!t,placeholder:"0 3 * * 0",className:"font-mono text-sm"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"weekly-batch-size",className:"text-sm",children:"Batch Size"}),i.jsx(ne,{id:"weekly-batch-size",type:"number",value:((j=p==null?void 0:p.weeklyMaintenance)==null?void 0:j.batchSize)||0,onChange:N=>{t&&s&&n({...s,weeklyMaintenance:{...s.weeklyMaintenance,batchSize:parseInt(N.target.value)}})},disabled:!t,min:"1",max:"2000"})]})]})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[i.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Schedule format: minute hour day month day-of-week"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx($,{onClick:()=>l(),variant:"outline",size:"sm",className:"border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white",children:"Refresh"}),i.jsx($,{onClick:()=>d.mutate(),variant:"destructive",size:"sm",disabled:d.isPending,className:"bg-red-600 hover:bg-red-700 text-white",children:d.isPending?"Stopping...":"Stop All"})]})]})]})]})}function yZ(){const[t,e]=x.useState(null);x.useState(null);const[s,n]=x.useState(!1),[r,a]=x.useState(null),[o,l]=x.useState(0),[c,d]=x.useState(100),[u,h]=x.useState(3e4),{toast:f}=dt();x.useEffect(()=>{p()},[]);const p=async()=>{try{const y=await(await _e("GET","/api/admin/pricecharting-config")).json();e(y)}catch(v){console.error("Failed to check PriceCharting config:",v),f({title:"Configuration Error",description:"Failed to check PriceCharting configuration",variant:"destructive"})}},b=async()=>{if(!(t!=null&&t.ready)){f({title:"Configuration Error",description:"PriceCharting configuration is not ready",variant:"destructive"});return}n(!0),a(null),l(0);try{const y=await(await _e("POST","/api/admin/import-pricecharting",{limit:c,rateLimitMs:u})).json();a(y.result),l(100),f({title:"Import Complete",description:`Successfully imported ${y.result.cardsInserted} cards from ${y.result.setsInserted} sets`,variant:"default"})}catch(v){console.error("Import failed:",v),f({title:"Import Failed",description:v.message||"Failed to import PriceCharting data",variant:"destructive"}),a({setsProcessed:0,setsInserted:0,setsSkipped:0,cardsProcessed:0,cardsInserted:0,cardsSkipped:0,errors:[v.message||"Unknown error occurred"],skippedItems:[]})}finally{n(!1)}},m=v=>v?i.jsx(Lr,{className:"h-4 w-4 text-green-500"}):i.jsx(_o,{className:"h-4 w-4 text-red-500"}),g=v=>v?"default":"destructive";return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ny,{className:"h-5 w-5 text-blue-500"}),i.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"PriceCharting API - Marvel Card Data Import"})]}),i.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:[i.jsx("strong",{children:"API Function:"})," Searches PriceCharting for each existing card set by name to find and import missing cards only"]}),i.jsxs(re,{children:[i.jsxs(be,{children:[i.jsxs(we,{className:"flex items-center gap-2 text-gray-900 dark:text-white",children:[i.jsx(Cv,{className:"h-4 w-4"}),"Configuration Status"]}),i.jsx(mm,{className:"text-gray-600 dark:text-gray-300",children:"Check API credentials and system readiness"})]}),i.jsx(ie,{className:"space-y-4",children:t?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[m(t.ready),i.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:"Overall Status"}),i.jsx(ve,{variant:g(t.ready),children:t.ready?"Ready":"Not Ready"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[m(t.hasToken),i.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:"API Token"}),i.jsx(ve,{variant:g(t.hasToken),children:t.hasToken?"Configured":"Missing"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[m(t.hasCloudinary),i.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:"Cloudinary"}),i.jsx(ve,{variant:g(t.hasCloudinary),children:t.hasCloudinary?"Configured":"Missing"})]})]}),t.missingConfig.length>0&&i.jsxs(hi,{children:[i.jsx(Jn,{className:"h-4 w-4"}),i.jsxs(fi,{children:["Missing configuration: ",t.missingConfig.join(", ")]})]})]}):i.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-gray-400",children:[i.jsx(Sr,{className:"h-4 w-4"}),i.jsx("span",{children:"Loading configuration..."})]})})]}),i.jsxs(re,{children:[i.jsxs(be,{children:[i.jsxs(we,{className:"flex items-center gap-2 text-gray-900 dark:text-white",children:[i.jsx(oo,{className:"h-4 w-4"}),"Import Settings & API Controls"]}),i.jsx(mm,{className:"text-gray-600 dark:text-gray-300",children:"Configure parameters for searching existing sets and importing missing cards"})]}),i.jsxs(ie,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"limit",className:"text-gray-900 dark:text-white",children:"Set Limit"}),i.jsx(ne,{id:"limit",type:"number",value:c,onChange:v=>d(Number(v.target.value)),min:"1",max:"100",disabled:s,className:"bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100"}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Maximum sets to process per run"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"rateLimit",className:"text-gray-900 dark:text-white",children:"Rate Limit (ms)"}),i.jsx(ne,{id:"rateLimit",type:"number",value:u,onChange:v=>h(Number(v.target.value)),min:"1000",max:"10000",disabled:s,className:"bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100"}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Delay between API requests"})]})]}),i.jsx($,{onClick:b,disabled:!(t!=null&&t.ready)||s,className:"w-full bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white",children:s?i.jsxs(i.Fragment,{children:[i.jsx(Sr,{className:"mr-2 h-4 w-4 animate-spin"}),"Importing Marvel Cards from PriceCharting..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Ny,{className:"mr-2 h-4 w-4"}),"Import Missing Cards from Existing Sets"]})})]})]}),s&&i.jsxs(re,{children:[i.jsx(be,{children:i.jsx(we,{className:"text-gray-900 dark:text-white",children:"Import Progress"})}),i.jsxs(ie,{children:[i.jsx(Sb,{value:o,className:"w-full"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:"Searching existing sets for missing cards..."})]})]}),r&&i.jsxs(re,{children:[i.jsx(be,{children:i.jsxs(we,{className:"flex items-center gap-2 text-gray-900 dark:text-white",children:[i.jsx(Lr,{className:"h-4 w-4 text-green-500"}),"Import Results"]})}),i.jsxs(ie,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-semibold text-sm text-gray-900 dark:text-white",children:"Sets"}),i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Processed:"}),i.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:r.setsProcessed})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Inserted:"}),i.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:r.setsInserted})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Skipped:"}),i.jsx("span",{className:"font-medium text-yellow-600 dark:text-yellow-400",children:r.setsSkipped})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-semibold text-sm text-gray-900 dark:text-white",children:"Cards"}),i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Processed:"}),i.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:r.cardsProcessed})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Inserted:"}),i.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:r.cardsInserted})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Skipped:"}),i.jsx("span",{className:"font-medium text-yellow-600 dark:text-yellow-400",children:r.cardsSkipped})]})]})]})]}),r.errors&&r.errors.length>0&&i.jsxs(i.Fragment,{children:[i.jsx(Ar,{}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-semibold text-sm text-red-600",children:"Errors"}),i.jsx("div",{className:"space-y-1",children:r.errors.map((v,y)=>i.jsxs(hi,{variant:"destructive",children:[i.jsx(Jn,{className:"h-4 w-4"}),i.jsx(fi,{className:"text-xs",children:v})]},y))})]})]}),r.skippedItems&&r.skippedItems.length>0&&i.jsxs(i.Fragment,{children:[i.jsx(Ar,{}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-semibold text-sm text-yellow-600",children:"Skipped Items"}),i.jsxs("div",{className:"max-h-32 overflow-y-auto",children:[r.skippedItems.slice(0,10).map((v,y)=>i.jsxs("div",{className:"text-xs text-gray-600 flex justify-between",children:[i.jsx("span",{children:v.name}),i.jsx("span",{className:"text-yellow-600",children:v.reason})]},y)),r.skippedItems.length>10&&i.jsxs("div",{className:"text-xs text-gray-500",children:["... and ",r.skippedItems.length-10," more items"]})]})]})]})]})]})]})}function vZ(){return i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bebas tracking-wide text-gray-900 dark:text-white",children:"Data & Image Automation"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Manage automated card data import, image processing, and bulk operations"})]}),i.jsxs(ve,{variant:"secondary",className:"flex items-center gap-2",children:[i.jsx(oo,{className:"h-3 w-3"}),"Admin Tools"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs(re,{children:[i.jsx(be,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"p-2 rounded-lg bg-purple-500",children:i.jsx(Ny,{className:"h-4 w-4 text-white"})}),i.jsx(we,{className:"text-sm text-gray-900 dark:text-white",children:"Data Import"})]})}),i.jsx(ie,{children:i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:"PriceCharting API integration for Marvel card data population"})})]}),i.jsxs(re,{children:[i.jsx(be,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"p-2 rounded-lg bg-blue-500",children:i.jsx(wl,{className:"h-4 w-4 text-white"})}),i.jsx(we,{className:"text-sm text-gray-900 dark:text-white",children:"Image Processing"})]})}),i.jsx(ie,{children:i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:"Automated image finding and processing using eBay Browse API"})})]}),i.jsxs(re,{children:[i.jsx(be,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"p-2 rounded-lg bg-green-500",children:i.jsx(fp,{className:"h-4 w-4 text-white"})}),i.jsx(we,{className:"text-sm text-gray-900 dark:text-white",children:"Rate Limiting"})]})}),i.jsx(ie,{children:i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:"Configurable delays to respect API limits and prevent rate limiting"})})]}),i.jsxs(re,{children:[i.jsx(be,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"p-2 rounded-lg bg-purple-500",children:i.jsx(oo,{className:"h-4 w-4 text-white"})}),i.jsx(we,{className:"text-sm text-gray-900 dark:text-white",children:"Bulk Operations"})]})}),i.jsx(ie,{children:i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:"Process hundreds of cards with progress tracking and error reporting"})})]})]}),i.jsx(Ar,{}),i.jsx(yZ,{}),i.jsx(Ar,{}),i.jsx(xZ,{}),i.jsx(Ar,{}),i.jsx(gZ,{})]})}function bZ(){const[t,e]=x.useState(!1),[s,n]=x.useState(!1),[r,a]=x.useState(!1),[o,l]=x.useState(null),c=Gt(),{toast:d}=dt(),{data:u=[],isLoading:h}=Ce({queryKey:["/api/admin/upcoming-sets"],queryFn:async()=>_e("GET","/api/admin/upcoming-sets").then(y=>y.json())}),f=Me({mutationFn:async y=>_e("POST","/api/admin/upcoming-sets",y),onSuccess:()=>{c.invalidateQueries({queryKey:["/api/admin/upcoming-sets"]}),d({title:"Upcoming set created successfully"}),e(!1)},onError:()=>{d({title:"Failed to create upcoming set",variant:"destructive"})}}),p=Me({mutationFn:async({id:y,...w})=>_e("PATCH",`/api/admin/upcoming-sets/${y}`,w),onSuccess:()=>{c.invalidateQueries({queryKey:["/api/admin/upcoming-sets"]}),d({title:"Upcoming set updated successfully"}),n(!1),l(null)},onError:()=>{d({title:"Failed to update upcoming set",variant:"destructive"})}}),b=Me({mutationFn:async y=>_e("DELETE",`/api/admin/upcoming-sets/${y}`),onSuccess:()=>{c.invalidateQueries({queryKey:["/api/admin/upcoming-sets"]}),d({title:"Upcoming set deleted successfully"})},onError:()=>{d({title:"Failed to delete upcoming set",variant:"destructive"})}}),m=Me({mutationFn:async y=>_e("POST",`/api/admin/upcoming-sets/${y}/mark-released`),onSuccess:()=>{c.invalidateQueries({queryKey:["/api/admin/upcoming-sets"]}),d({title:"Set marked as released"})},onError:()=>{d({title:"Failed to mark set as released",variant:"destructive"})}}),g=y=>{confirm(`Are you sure you want to delete "${y.name}"? This action cannot be undone.`)&&b.mutate(y.id)},v=y=>{confirm(`Mark "${y.name}" as released? This will update its status and remove it from upcoming displays.`)&&m.mutate(y.id)};return i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bebas tracking-wide text-gray-900",children:"Upcoming Sets Tracker"}),i.jsx("p",{className:"text-gray-600",children:"Manage upcoming Marvel card set releases"})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(ln,{open:r,onOpenChange:a,children:[i.jsx(ic,{asChild:!0,children:i.jsxs($,{variant:"outline",className:"border-marvel-red text-marvel-red hover:bg-red-50","data-testid":"button-import-url",children:[i.jsx(y8,{className:"w-4 h-4 mr-2"}),"Import from URL"]})}),i.jsxs(Gs,{className:"max-w-2xl",children:[i.jsx(Qs,{children:i.jsx(Zs,{children:"Import Set from URL"})}),i.jsx(wZ,{onSuccess:y=>{f.mutate(y),a(!1)}})]})]}),i.jsxs(ln,{open:t,onOpenChange:e,children:[i.jsx(ic,{asChild:!0,children:i.jsxs($,{className:"bg-marvel-red hover:bg-red-700","data-testid":"button-create-set",children:[i.jsx(xa,{className:"w-4 h-4 mr-2"}),"Add Manually"]})}),i.jsxs(Gs,{className:"max-w-3xl max-h-[85vh] overflow-y-auto",children:[i.jsx(Qs,{children:i.jsx(Zs,{children:"Create Upcoming Set"})}),i.jsx(jZ,{onSubmit:f.mutate,isLoading:f.isPending})]})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h?i.jsx("div",{className:"col-span-full text-center py-12 text-gray-500",children:"Loading upcoming sets..."}):u.length===0?i.jsx("div",{className:"col-span-full text-center py-12 text-gray-500",children:"No upcoming sets found. Create one to get started!"}):u.map(y=>i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow","data-testid":`card-set-${y.id}`,children:[y.thumbnailUrl&&i.jsx("div",{className:"aspect-video bg-gray-100 overflow-hidden",children:i.jsx("img",{src:y.thumbnailUrl,alt:y.name,className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"p-4 space-y-3",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900","data-testid":`text-setname-${y.id}`,children:y.name}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx(ve,{className:y.status==="upcoming"?"bg-blue-100 text-blue-800 border-blue-300":y.status==="delayed"?"bg-yellow-100 text-yellow-800 border-yellow-300":"bg-gray-100 text-gray-800 border-gray-300",children:y.status}),!y.isActive&&i.jsxs(ve,{className:"bg-gray-100 text-gray-800 border-gray-300",children:[i.jsx(Ka,{className:"w-3 h-3 mr-1"}),"Hidden"]})]})]}),y.manufacturer&&i.jsxs("p",{className:"text-sm text-gray-600",children:[i.jsx("span",{className:"font-medium",children:"Manufacturer:"})," ",y.manufacturer]}),y.productLine&&i.jsxs("p",{className:"text-sm text-gray-600",children:[i.jsx("span",{className:"font-medium",children:"Product Line:"})," ",y.productLine]}),y.releaseDateEstimated&&i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("div",{className:"flex items-center text-gray-600",children:[i.jsx(Or,{className:"w-4 h-4 mr-1"}),new Date(y.releaseDateEstimated).toLocaleDateString()]}),y.dateConfidence&&i.jsx(ve,{variant:"outline",className:"text-xs",children:y.dateConfidence})]}),y.msrp&&i.jsxs("p",{className:"text-sm font-medium text-green-700",children:["MSRP: $",y.msrp]}),y.interestCount>0&&i.jsxs("p",{className:"text-sm text-marvel-red font-medium",children:[y.interestCount," ",y.interestCount===1?"collector":"collectors"," interested"]}),y.description&&i.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:y.description}),i.jsxs("div",{className:"flex gap-2 pt-2",children:[i.jsxs($,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>{l(y),n(!0)},"data-testid":`button-edit-${y.id}`,children:[i.jsx(Uo,{className:"w-4 h-4 mr-1"}),"Edit"]}),y.status!=="released"&&i.jsx($,{variant:"outline",size:"sm",onClick:()=>v(y),disabled:m.isPending,"data-testid":`button-mark-released-${y.id}`,children:i.jsx(Lr,{className:"w-4 h-4"})}),i.jsx($,{variant:"destructive",size:"sm",onClick:()=>g(y),disabled:b.isPending,"data-testid":`button-delete-${y.id}`,children:i.jsx(Co,{className:"w-4 h-4"})})]})]})]},y.id))}),i.jsx(ln,{open:s,onOpenChange:n,children:i.jsxs(Gs,{className:"max-w-3xl max-h-[85vh] overflow-y-auto",children:[i.jsx(Qs,{children:i.jsx(Zs,{children:"Edit Upcoming Set"})}),o&&i.jsx(NZ,{set:o,onSubmit:y=>p.mutate({id:o.id,...y}),isLoading:p.isPending})]})})]})}function wZ({onSuccess:t}){const[e,s]=x.useState(""),[n,r]=x.useState(null),[a,o]=x.useState(!1),{toast:l}=dt(),c=async()=>{if(!e.trim()){l({title:"Please enter a URL",variant:"destructive"});return}o(!0);try{const h=await(await _e("POST","/api/admin/upcoming-sets/import",{sourceUrl:e})).json();h.preview&&(r(h.preview),l({title:"Metadata imported successfully! Please review and confirm."}))}catch(u){l({title:"Failed to import from URL",description:u instanceof Error?u.message:"Unknown error",variant:"destructive"})}finally{o(!1)}},d=()=>{n&&(t(n),s(""),r(null))};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"sourceUrl",children:"Source URL"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ne,{id:"sourceUrl",type:"url",value:e,onChange:u=>s(u.target.value),placeholder:"https://example.com/article-about-new-set",className:"bg-white flex-1","data-testid":"input-import-url",disabled:a||!!n}),!n&&i.jsx($,{onClick:c,disabled:a,"data-testid":"button-import-scrape",children:a?i.jsxs(i.Fragment,{children:[i.jsx(jl,{className:"w-4 h-4 mr-2 animate-spin"}),"Importing..."]}):"Import"})]}),i.jsx("p",{className:"text-sm text-gray-500",children:"Paste a URL to an article or page about the upcoming set. We'll automatically extract the title, image, and description."})]}),n&&i.jsx("div",{className:"border border-green-200 bg-green-50 rounded-lg p-4 space-y-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Lr,{className:"w-5 h-5 text-green-600 mt-0.5"}),i.jsxs("div",{className:"flex-1 space-y-3",children:[i.jsx("h4",{className:"font-semibold text-green-900",children:"Preview Imported Data"}),n.thumbnailUrl&&i.jsx("div",{className:"aspect-video bg-gray-100 rounded overflow-hidden max-w-sm",children:i.jsx("img",{src:n.thumbnailUrl,alt:"Preview",className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"space-y-2 text-sm",children:[n.name&&i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Name:"})," ",n.name]}),n.description&&i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Description:"})," ",n.description]}),n.sourceUrl&&i.jsxs("p",{className:"truncate",children:[i.jsx("span",{className:"font-medium",children:"Source:"})," ",i.jsx("a",{href:n.sourceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:n.sourceUrl})]})]}),i.jsxs("div",{className:"flex gap-2 pt-2",children:[i.jsx($,{onClick:d,className:"bg-green-600 hover:bg-green-700","data-testid":"button-confirm-import",children:"Confirm & Create"}),i.jsx($,{variant:"outline",onClick:()=>{r(null),s("")},"data-testid":"button-cancel-import",children:"Start Over"})]})]})]})})]})}function jZ({onSubmit:t,isLoading:e}){const[s,n]=x.useState({name:"",manufacturer:"",productLine:"",publisher:"",releaseDateEstimated:"",dateConfidence:"estimated",status:"upcoming",format:"",configuration:"",msrp:"",description:"",keyHighlights:"",checklistUrl:"",sourceUrl:"",thumbnailUrl:"",isActive:!0}),r=a=>{a.preventDefault();const o={name:s.name,isActive:s.isActive};s.manufacturer&&(o.manufacturer=s.manufacturer),s.productLine&&(o.productLine=s.productLine),s.publisher&&(o.publisher=s.publisher),s.releaseDateEstimated&&(o.releaseDateEstimated=s.releaseDateEstimated),s.dateConfidence&&(o.dateConfidence=s.dateConfidence),o.status=s.status,s.format&&(o.format=s.format),s.configuration&&(o.configuration=s.configuration),s.msrp&&(o.msrp=s.msrp),s.description&&(o.description=s.description),s.keyHighlights&&(o.keyHighlights=s.keyHighlights),s.checklistUrl&&(o.checklistUrl=s.checklistUrl),s.sourceUrl&&(o.sourceUrl=s.sourceUrl),s.thumbnailUrl&&(o.thumbnailUrl=s.thumbnailUrl),t(o)};return i.jsxs("form",{onSubmit:r,className:"space-y-4",children:[i.jsxs(Ic,{defaultValue:"basic",className:"w-full",children:[i.jsxs(zo,{className:"grid w-full grid-cols-3",children:[i.jsx(Mt,{value:"basic",children:"Basic Info"}),i.jsx(Mt,{value:"details",children:"Details"}),i.jsx(Mt,{value:"media",children:"Media & Links"})]}),i.jsxs(Rt,{value:"basic",className:"space-y-4 mt-4",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"name",children:"Set Name *"}),i.jsx(ne,{id:"name",value:s.name,onChange:a=>n({...s,name:a.target.value}),required:!0,className:"bg-white","data-testid":"input-setname"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"manufacturer",children:"Manufacturer"}),i.jsx(ne,{id:"manufacturer",value:s.manufacturer,onChange:a=>n({...s,manufacturer:a.target.value}),placeholder:"e.g., Upper Deck",className:"bg-white","data-testid":"input-manufacturer"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"productLine",children:"Product Line"}),i.jsx(ne,{id:"productLine",value:s.productLine,onChange:a=>n({...s,productLine:a.target.value}),placeholder:"e.g., Marvel Masterpieces",className:"bg-white","data-testid":"input-productline"})]})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"publisher",children:"Publisher"}),i.jsx(ne,{id:"publisher",value:s.publisher,onChange:a=>n({...s,publisher:a.target.value}),placeholder:"e.g., Marvel Comics",className:"bg-white","data-testid":"input-publisher"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"releaseDateEstimated",children:"Release Date"}),i.jsx(ne,{id:"releaseDateEstimated",type:"date",value:s.releaseDateEstimated,onChange:a=>n({...s,releaseDateEstimated:a.target.value}),className:"bg-white","data-testid":"input-releasedate"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"dateConfidence",children:"Date Confidence"}),i.jsxs(qt,{value:s.dateConfidence,onValueChange:a=>n({...s,dateConfidence:a}),children:[i.jsx(zt,{className:"bg-white","data-testid":"select-dateconfidence",children:i.jsx(Kt,{})}),i.jsxs(Vt,{children:[i.jsx(ke,{value:"estimated",children:"Estimated"}),i.jsx(ke,{value:"confirmed",children:"Confirmed"})]})]})]})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"status",children:"Status"}),i.jsxs(qt,{value:s.status,onValueChange:a=>n({...s,status:a}),children:[i.jsx(zt,{className:"bg-white","data-testid":"select-status",children:i.jsx(Kt,{})}),i.jsxs(Vt,{children:[i.jsx(ke,{value:"upcoming",children:"Upcoming"}),i.jsx(ke,{value:"delayed",children:"Delayed"}),i.jsx(ke,{value:"released",children:"Released"})]})]})]})]}),i.jsxs(Rt,{value:"details",className:"space-y-4 mt-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"format",children:"Format"}),i.jsx(ne,{id:"format",value:s.format,onChange:a=>n({...s,format:a.target.value}),placeholder:"e.g., Hobby Box",className:"bg-white","data-testid":"input-format"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"configuration",children:"Configuration"}),i.jsx(ne,{id:"configuration",value:s.configuration,onChange:a=>n({...s,configuration:a.target.value}),placeholder:"e.g., 24 packs/box",className:"bg-white","data-testid":"input-configuration"})]})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"msrp",children:"MSRP (USD)"}),i.jsx(ne,{id:"msrp",type:"number",step:"0.01",value:s.msrp,onChange:a=>n({...s,msrp:a.target.value}),placeholder:"99.99",className:"bg-white","data-testid":"input-msrp"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"description",children:"Description"}),i.jsx(ws,{id:"description",value:s.description,onChange:a=>n({...s,description:a.target.value}),rows:4,className:"bg-white","data-testid":"input-description"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"keyHighlights",children:"Key Highlights (Markdown)"}),i.jsx(ws,{id:"keyHighlights",value:s.keyHighlights,onChange:a=>n({...s,keyHighlights:a.target.value}),rows:6,placeholder:`- Exclusive variant covers
- Limited edition chase cards
- Artist signatures`,className:"bg-white font-mono text-sm","data-testid":"input-keyhighlights"})]})]}),i.jsxs(Rt,{value:"media",className:"space-y-4 mt-4",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"thumbnailUrl",children:"Thumbnail Image URL"}),i.jsx(ne,{id:"thumbnailUrl",type:"url",value:s.thumbnailUrl,onChange:a=>n({...s,thumbnailUrl:a.target.value}),placeholder:"https://example.com/image.jpg",className:"bg-white","data-testid":"input-thumbnailurl"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"checklistUrl",children:"Checklist URL"}),i.jsx(ne,{id:"checklistUrl",type:"url",value:s.checklistUrl,onChange:a=>n({...s,checklistUrl:a.target.value}),placeholder:"https://example.com/checklist",className:"bg-white","data-testid":"input-checklisturl"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"sourceUrl",children:"Source URL"}),i.jsx(ne,{id:"sourceUrl",type:"url",value:s.sourceUrl,onChange:a=>n({...s,sourceUrl:a.target.value}),placeholder:"https://example.com/announcement",className:"bg-white","data-testid":"input-sourceurl"})]}),i.jsxs("div",{className:"flex items-center space-x-2 pt-4",children:[i.jsx(In,{id:"isActive",checked:s.isActive,onCheckedChange:a=>n({...s,isActive:a}),"data-testid":"switch-active"}),i.jsx(G,{htmlFor:"isActive",children:"Make visible to public"})]})]})]}),i.jsx("div",{className:"flex justify-end gap-2 pt-4 border-t",children:i.jsx($,{type:"submit",disabled:e,className:"bg-marvel-red hover:bg-red-700","data-testid":"button-submit",children:"Create Set"})})]})}function NZ({set:t,onSubmit:e,isLoading:s}){const[n,r]=x.useState({name:t.name,manufacturer:t.manufacturer||"",productLine:t.productLine||"",publisher:t.publisher||"",releaseDateEstimated:t.releaseDateEstimated?new Date(t.releaseDateEstimated).toISOString().split("T")[0]:"",dateConfidence:t.dateConfidence||"estimated",status:t.status,format:t.format||"",configuration:t.configuration||"",msrp:t.msrp||"",description:t.description||"",keyHighlights:t.keyHighlights||"",checklistUrl:t.checklistUrl||"",sourceUrl:t.sourceUrl||"",thumbnailUrl:t.thumbnailUrl||"",isActive:t.isActive}),a=o=>{o.preventDefault();const l={name:n.name,isActive:n.isActive};n.manufacturer&&(l.manufacturer=n.manufacturer),n.productLine&&(l.productLine=n.productLine),n.publisher&&(l.publisher=n.publisher),n.releaseDateEstimated&&(l.releaseDateEstimated=n.releaseDateEstimated),n.dateConfidence&&(l.dateConfidence=n.dateConfidence),l.status=n.status,n.format&&(l.format=n.format),n.configuration&&(l.configuration=n.configuration),n.msrp&&(l.msrp=n.msrp),n.description&&(l.description=n.description),n.keyHighlights&&(l.keyHighlights=n.keyHighlights),n.checklistUrl&&(l.checklistUrl=n.checklistUrl),n.sourceUrl&&(l.sourceUrl=n.sourceUrl),n.thumbnailUrl&&(l.thumbnailUrl=n.thumbnailUrl),e(l)};return i.jsxs("form",{onSubmit:a,className:"space-y-4",children:[i.jsxs(Ic,{defaultValue:"basic",className:"w-full",children:[i.jsxs(zo,{className:"grid w-full grid-cols-3",children:[i.jsx(Mt,{value:"basic",children:"Basic Info"}),i.jsx(Mt,{value:"details",children:"Details"}),i.jsx(Mt,{value:"media",children:"Media & Links"})]}),i.jsxs(Rt,{value:"basic",className:"space-y-4 mt-4",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"name",className:"text-black",children:"Set Name *"}),i.jsx(ne,{id:"name",value:n.name,onChange:o=>r({...n,name:o.target.value}),required:!0,className:"bg-white text-black"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"manufacturer",className:"text-black",children:"Manufacturer"}),i.jsx(ne,{id:"manufacturer",value:n.manufacturer,onChange:o=>r({...n,manufacturer:o.target.value}),className:"bg-white text-black"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"productLine",className:"text-black",children:"Product Line"}),i.jsx(ne,{id:"productLine",value:n.productLine,onChange:o=>r({...n,productLine:o.target.value}),className:"bg-white text-black"})]})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"publisher",className:"text-black",children:"Publisher"}),i.jsx(ne,{id:"publisher",value:n.publisher,onChange:o=>r({...n,publisher:o.target.value}),className:"bg-white text-black"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"releaseDateEstimated",className:"text-black",children:"Release Date"}),i.jsx(ne,{id:"releaseDateEstimated",type:"date",value:n.releaseDateEstimated,onChange:o=>r({...n,releaseDateEstimated:o.target.value}),className:"bg-white text-black"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"dateConfidence",className:"text-black",children:"Date Confidence"}),i.jsxs(qt,{value:n.dateConfidence,onValueChange:o=>r({...n,dateConfidence:o}),children:[i.jsx(zt,{className:"bg-white text-black",children:i.jsx(Kt,{})}),i.jsxs(Vt,{children:[i.jsx(ke,{value:"estimated",children:"Estimated"}),i.jsx(ke,{value:"confirmed",children:"Confirmed"})]})]})]})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"status",className:"text-black",children:"Status"}),i.jsxs(qt,{value:n.status,onValueChange:o=>r({...n,status:o}),children:[i.jsx(zt,{className:"bg-white text-black",children:i.jsx(Kt,{})}),i.jsxs(Vt,{children:[i.jsx(ke,{value:"upcoming",children:"Upcoming"}),i.jsx(ke,{value:"delayed",children:"Delayed"}),i.jsx(ke,{value:"released",children:"Released"})]})]})]})]}),i.jsxs(Rt,{value:"details",className:"space-y-4 mt-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"format",className:"text-black",children:"Format"}),i.jsx(ne,{id:"format",value:n.format,onChange:o=>r({...n,format:o.target.value}),className:"bg-white text-black"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"configuration",className:"text-black",children:"Configuration"}),i.jsx(ne,{id:"configuration",value:n.configuration,onChange:o=>r({...n,configuration:o.target.value}),className:"bg-white text-black"})]})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"msrp",className:"text-black",children:"MSRP (USD)"}),i.jsx(ne,{id:"msrp",type:"number",step:"0.01",value:n.msrp,onChange:o=>r({...n,msrp:o.target.value}),className:"bg-white text-black"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"description",className:"text-black",children:"Description"}),i.jsx(ws,{id:"description",value:n.description,onChange:o=>r({...n,description:o.target.value}),rows:4,className:"bg-white text-black"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"keyHighlights",className:"text-black",children:"Key Highlights (Markdown)"}),i.jsx(ws,{id:"keyHighlights",value:n.keyHighlights,onChange:o=>r({...n,keyHighlights:o.target.value}),rows:6,className:"bg-white text-black font-mono text-sm"})]})]}),i.jsxs(Rt,{value:"media",className:"space-y-4 mt-4",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"thumbnailUrl",className:"text-black",children:"Thumbnail Image URL"}),i.jsx(ne,{id:"thumbnailUrl",type:"url",value:n.thumbnailUrl,onChange:o=>r({...n,thumbnailUrl:o.target.value}),className:"bg-white text-black"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"checklistUrl",className:"text-black",children:"Checklist URL"}),i.jsx(ne,{id:"checklistUrl",type:"url",value:n.checklistUrl,onChange:o=>r({...n,checklistUrl:o.target.value}),className:"bg-white text-black"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"sourceUrl",className:"text-black",children:"Source URL"}),i.jsx(ne,{id:"sourceUrl",type:"url",value:n.sourceUrl,onChange:o=>r({...n,sourceUrl:o.target.value}),className:"bg-white text-black"})]}),i.jsxs("div",{className:"flex items-center space-x-2 pt-4",children:[i.jsx(In,{id:"isActive",checked:n.isActive,onCheckedChange:o=>r({...n,isActive:o})}),i.jsx(G,{htmlFor:"isActive",className:"text-black",children:"Make visible to public"})]})]})]}),i.jsx("div",{className:"flex justify-end gap-2 pt-4 border-t",children:i.jsx($,{type:"submit",disabled:s,className:"bg-marvel-red hover:bg-red-700",children:"Update Set"})})]})}function SZ(){const[t,e]=x.useState(null),[s,n]=x.useState(""),[r,a]=x.useState(!1),o=Gt(),{toast:l}=dt(),{data:c=[],isLoading:d}=Ce({queryKey:["/api/admin/pending-images"],queryFn:async()=>{const v=await(await _e("GET","/api/admin/pending-images")).json();return v.items||v}}),u=Me({mutationFn:async g=>_e("POST",`/api/admin/pending-images/${g}/approve`),onSuccess:()=>{o.invalidateQueries({queryKey:["/api/admin/pending-images"]}),o.invalidateQueries({queryKey:["/api/cards"]}),l({title:"Image approved!",description:"The image has been added to the card database."}),e(null)},onError:g=>{l({title:"Approval failed",description:g.message,variant:"destructive"})}}),h=Me({mutationFn:async({submissionId:g,reason:v})=>_e("POST",`/api/admin/pending-images/${g}/reject`,{reason:v}),onSuccess:()=>{o.invalidateQueries({queryKey:["/api/admin/pending-images"]}),l({title:"Image rejected",description:"The submitter has been notified."}),a(!1),e(null),n("")},onError:g=>{l({title:"Rejection failed",description:g.message,variant:"destructive"})}}),f=g=>{u.mutate(g.id)},p=()=>{if(t){if(!s.trim()){l({title:"Rejection reason required",description:"Please provide a reason for rejection",variant:"destructive"});return}h.mutate({submissionId:t.id,reason:s})}},b=c.filter(g=>g.status==="pending"),m=c.filter(g=>g.status!=="pending");return d?i.jsx("div",{className:"p-6",children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx(jl,{className:"w-8 h-8 animate-spin text-gray-400"})})}):i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bebas tracking-wide text-gray-900 dark:text-white",children:"User Image Submissions"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Review and approve community-contributed card images"})]}),i.jsx("div",{className:"flex gap-2",children:i.jsxs(ve,{variant:"secondary",className:"text-lg px-4 py-2",children:[b.length," Pending"]})})]}),b.length===0?i.jsx(re,{children:i.jsxs(ie,{className:"flex flex-col items-center justify-center py-12",children:[i.jsx(Lr,{className:"w-16 h-16 text-green-500 mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"All caught up!"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"No pending image submissions to review"})]})}):i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:b.map(g=>i.jsxs(re,{className:"border-2 border-orange-200 bg-orange-50/50 dark:bg-orange-950/20","data-testid":`submission-${g.id}`,children:[i.jsx(be,{children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs(we,{className:"text-lg text-gray-900 dark:text-white",children:[g.card.name," #",g.card.cardNumber]}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[g.card.set.name," (",g.card.set.year,")"]})]}),i.jsx(ve,{className:"bg-orange-500",children:"Pending"})]})}),i.jsxs(ie,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white dark:bg-gray-900 rounded-lg border",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-marvel-red flex items-center justify-center text-white font-bold",children:g.user.photoURL?i.jsx("img",{src:g.user.photoURL,alt:g.user.username,className:"w-full h-full rounded-full"}):i.jsx(Vn,{className:"w-5 h-5"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:g.user.username}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1",children:[i.jsx(Or,{className:"w-3 h-3"}),new Date(g.createdAt).toLocaleDateString()]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{className:"text-xs text-gray-600 dark:text-gray-300",children:"Current Front"}),i.jsx("div",{className:"aspect-[2.5/3.5] rounded border bg-gray-100 dark:bg-gray-800 overflow-hidden",children:g.card.frontImageUrl?i.jsx("img",{src:sc(g.card.frontImageUrl),alt:"Current front",className:"w-full h-full object-contain"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:i.jsx(Jn,{className:"w-8 h-8"})})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{className:"text-xs font-medium text-green-600 dark:text-green-400",children:"Submitted Front"}),i.jsx("div",{className:"aspect-[2.5/3.5] rounded border-2 border-green-500 bg-gray-100 dark:bg-gray-800 overflow-hidden",children:g.frontImageUrl?i.jsx("img",{src:g.frontImageUrl,alt:"Submitted front",className:"w-full h-full object-contain","data-testid":"img-submitted-front"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:i.jsx(Jn,{className:"w-8 h-8"})})})]}),g.card.backImageUrl&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{className:"text-xs text-gray-600 dark:text-gray-300",children:"Current Back"}),i.jsx("div",{className:"aspect-[2.5/3.5] rounded border bg-gray-100 dark:bg-gray-800 overflow-hidden",children:i.jsx("img",{src:sc(g.card.backImageUrl),alt:"Current back",className:"w-full h-full object-contain"})})]}),g.backImageUrl&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{className:"text-xs font-medium text-green-600 dark:text-green-400",children:"Submitted Back"}),i.jsx("div",{className:"aspect-[2.5/3.5] rounded border-2 border-green-500 bg-gray-100 dark:bg-gray-800 overflow-hidden",children:i.jsx("img",{src:g.backImageUrl,alt:"Submitted back",className:"w-full h-full object-contain","data-testid":"img-submitted-back"})})]})]}),i.jsxs("div",{className:"flex gap-2 pt-2",children:[i.jsxs($,{onClick:()=>f(g),disabled:u.isPending,className:"flex-1 bg-green-600 hover:bg-green-700","data-testid":"button-approve",children:[u.isPending?i.jsx(jl,{className:"w-4 h-4 mr-2 animate-spin"}):i.jsx(Lr,{className:"w-4 h-4 mr-2"}),"Approve"]}),i.jsxs($,{onClick:()=>{e(g),a(!0)},disabled:h.isPending,variant:"destructive",className:"flex-1","data-testid":"button-reject",children:[i.jsx(_o,{className:"w-4 h-4 mr-2"}),"Reject"]})]})]})]},g.id))}),m.length>0&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Recently Reviewed"}),i.jsx("div",{className:"space-y-2",children:m.slice(0,10).map(g=>i.jsx(re,{className:g.status==="approved"?"bg-green-50 dark:bg-green-950/20":"bg-red-50 dark:bg-red-950/20",children:i.jsxs(ie,{className:"py-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[g.card.name," #",g.card.cardNumber]}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Submitted by ",g.user.username]})]}),i.jsx(ve,{className:g.status==="approved"?"bg-green-600":"bg-red-600",children:g.status==="approved"?"Approved":"Rejected"})]}),g.rejectionReason&&i.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400 mt-2",children:["Reason: ",g.rejectionReason]})]})},g.id))})]}),i.jsx(ln,{open:r,onOpenChange:a,children:i.jsxs(Gs,{children:[i.jsx(Qs,{children:i.jsx(Zs,{children:"Reject Image Submission"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"rejectionReason",children:"Rejection Reason"}),i.jsx(ws,{id:"rejectionReason",value:s,onChange:g=>n(g.target.value),placeholder:"Please explain why this image is being rejected (e.g., 'Image is blurry', 'Wrong card', 'Poor lighting')",rows:4,className:"mt-2","data-testid":"input-rejection-reason"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This reason will be shown to the user"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx($,{onClick:p,disabled:h.isPending||!s.trim(),variant:"destructive",className:"flex-1","data-testid":"button-confirm-reject",children:h.isPending?i.jsxs(i.Fragment,{children:[i.jsx(jl,{className:"w-4 h-4 mr-2 animate-spin"}),"Rejecting..."]}):i.jsxs(i.Fragment,{children:[i.jsx(_o,{className:"w-4 h-4 mr-2"}),"Confirm Rejection"]})}),i.jsx($,{onClick:()=>{a(!1),n("")},variant:"outline",className:"flex-1",children:"Cancel"})]})]})]})})]})}var _b="Collapsible",[_Z,Qte]=hs(_b),[CZ,Cb]=_Z(_b),qO=x.forwardRef((t,e)=>{const{__scopeCollapsible:s,open:n,defaultOpen:r,disabled:a,onOpenChange:o,...l}=t,[c=!1,d]=rr({prop:n,defaultProp:r,onChange:o});return i.jsx(CZ,{scope:s,disabled:a,contentId:Pr(),open:c,onOpenToggle:x.useCallback(()=>d(u=>!u),[d]),children:i.jsx(je.div,{"data-state":Ib(c),"data-disabled":a?"":void 0,...l,ref:e})})});qO.displayName=_b;var KO="CollapsibleTrigger",GO=x.forwardRef((t,e)=>{const{__scopeCollapsible:s,...n}=t,r=Cb(KO,s);return i.jsx(je.button,{type:"button","aria-controls":r.contentId,"aria-expanded":r.open||!1,"data-state":Ib(r.open),"data-disabled":r.disabled?"":void 0,disabled:r.disabled,...n,ref:e,onClick:pe(t.onClick,r.onOpenToggle)})});GO.displayName=KO;var kb="CollapsibleContent",QO=x.forwardRef((t,e)=>{const{forceMount:s,...n}=t,r=Cb(kb,t.__scopeCollapsible);return i.jsx(Ss,{present:s||r.open,children:({present:a})=>i.jsx(kZ,{...n,ref:e,present:a})})});QO.displayName=kb;var kZ=x.forwardRef((t,e)=>{const{__scopeCollapsible:s,present:n,children:r,...a}=t,o=Cb(kb,s),[l,c]=x.useState(n),d=x.useRef(null),u=Ge(e,d),h=x.useRef(0),f=h.current,p=x.useRef(0),b=p.current,m=o.open||l,g=x.useRef(m),v=x.useRef(void 0);return x.useEffect(()=>{const y=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(y)},[]),Bt(()=>{const y=d.current;if(y){v.current=v.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const w=y.getBoundingClientRect();h.current=w.height,p.current=w.width,g.current||(y.style.transitionDuration=v.current.transitionDuration,y.style.animationName=v.current.animationName),c(n)}},[o.open,n]),i.jsx(je.div,{"data-state":Ib(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!m,...a,ref:u,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...t.style},children:m&&r})});function Ib(t){return t?"open":"closed"}var IZ=qO;const EZ=IZ,PZ=GO,TZ=QO;function AZ(){const[t]=Ns(),[e,s]=x.useState(""),[n,r]=x.useState("all"),[a,o]=x.useState(""),[l,c]=x.useState(""),[d,u]=x.useState("all"),[h,f]=x.useState("all"),[p,b]=x.useState({min:"",max:""}),[m,g]=x.useState(!1),[v,y]=x.useState({});x.useEffect(()=>{const _=new URLSearchParams(t.split("?")[1]||"").get("search");_&&(s(_),y({search:_}))},[t]);const{data:w}=Ce({queryKey:["/api/card-sets"]}),j=()=>{const C={};e&&(C.search=e),n!=="all"&&(C.setId=parseInt(n)),d!=="all"&&(C.isInsert=d==="insert"),y(C)},N=()=>{s(""),r("all"),o(""),c(""),u("all"),f("all"),b({min:"",max:""}),y({})};return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 px-6 py-4",children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bebas text-gray-900 tracking-wide",children:"CARD SEARCH"}),i.jsx("p",{className:"text-sm text-gray-600 font-roboto",children:"Find specific cards in the database."})]})})}),i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Card Name"}),i.jsx(ne,{placeholder:"e.g. Spider-Man, Hulk",value:e,onChange:C=>s(C.target.value),className:"bg-white border-gray-200 text-gray-900 placeholder:text-gray-500 focus:ring-2 focus:ring-red-500 focus:border-red-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Card Set"}),i.jsxs(qt,{value:n,onValueChange:r,children:[i.jsx(zt,{className:"bg-white border-gray-200 text-gray-900",children:i.jsx(Kt,{placeholder:"All Sets"})}),i.jsxs(Vt,{children:[i.jsx(ke,{value:"all",children:"All Sets"}),w==null?void 0:w.map(C=>i.jsx(ke,{value:C.id.toString(),children:C.name},C.id))]})]})]})]}),i.jsxs(EZ,{open:m,onOpenChange:g,children:[i.jsx(PZ,{asChild:!0,children:i.jsxs($,{variant:"outline",className:"mb-4 bg-white hover:bg-gray-50 text-gray-700 border-gray-300",children:["Advanced Search Options",m?i.jsx(IT,{className:"w-4 h-4 ml-2"}):i.jsx(_v,{className:"w-4 h-4 ml-2"})]})}),i.jsx(TZ,{className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Min Price"}),i.jsx(ne,{type:"number",placeholder:"0.00",value:a,onChange:C=>o(C.target.value),className:"bg-white border-gray-200 text-gray-900 placeholder:text-gray-500 focus:ring-2 focus:ring-red-500 focus:border-red-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Price"}),i.jsx(ne,{type:"number",placeholder:"999.99",value:l,onChange:C=>c(C.target.value),className:"bg-white border-gray-200 text-gray-900 placeholder:text-gray-500 focus:ring-2 focus:ring-red-500 focus:border-red-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Card Type"}),i.jsxs(qt,{value:d,onValueChange:u,children:[i.jsx(zt,{className:"bg-white border-gray-200 text-gray-900",children:i.jsx(Kt,{placeholder:"All Types"})}),i.jsxs(Vt,{children:[i.jsx(ke,{value:"all",children:"All Types"}),i.jsx(ke,{value:"base",children:"Base Cards"}),i.jsx(ke,{value:"insert",children:"Insert Cards"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Condition"}),i.jsxs(qt,{value:h,onValueChange:f,children:[i.jsx(zt,{className:"bg-white border-gray-200 text-gray-900",children:i.jsx(Kt,{placeholder:"Any Condition"})}),i.jsxs(Vt,{children:[i.jsx(ke,{value:"all",children:"Any Condition"}),i.jsx(ke,{value:"mint",children:"Mint"}),i.jsx(ke,{value:"near-mint",children:"Near Mint"}),i.jsx(ke,{value:"excellent",children:"Excellent"}),i.jsx(ke,{value:"very-good",children:"Very Good"}),i.jsx(ke,{value:"good",children:"Good"}),i.jsx(ke,{value:"fair",children:"Fair"}),i.jsx(ke,{value:"poor",children:"Poor"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Min Year"}),i.jsx(ne,{type:"number",placeholder:"1990",value:p.min,onChange:C=>b(_=>({..._,min:C.target.value})),className:"bg-white border-gray-200 text-gray-900 placeholder:text-gray-500 focus:ring-2 focus:ring-red-500 focus:border-red-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Year"}),i.jsx(ne,{type:"number",placeholder:"2024",value:p.max,onChange:C=>b(_=>({..._,max:C.target.value})),className:"bg-white border-gray-200 text-gray-900 placeholder:text-gray-500 focus:ring-2 focus:ring-red-500 focus:border-red-500"})]})]})})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs($,{onClick:j,className:"bg-marvel-red hover:bg-red-700 text-white",children:[i.jsx(ss,{className:"w-4 h-4 mr-2"}),"Search Cards"]}),i.jsx($,{variant:"outline",onClick:N,className:"bg-white hover:bg-gray-50 text-gray-700 border-gray-300",children:"Clear All Filters"})]})]}),i.jsx(WR,{filters:v})]})})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function nh(t){return t+.5|0}const ea=(t,e,s)=>Math.max(Math.min(t,s),e);function ad(t){return ea(nh(t*2.55),0,255)}function ma(t){return ea(nh(t*255),0,255)}function ei(t){return ea(nh(t/2.55)/100,0,1)}function o1(t){return ea(nh(t*100),0,100)}const fn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ky=[..."0123456789ABCDEF"],MZ=t=>Ky[t&15],RZ=t=>Ky[(t&240)>>4]+Ky[t&15],Oh=t=>(t&240)>>4===(t&15),DZ=t=>Oh(t.r)&&Oh(t.g)&&Oh(t.b)&&Oh(t.a);function OZ(t){var e=t.length,s;return t[0]==="#"&&(e===4||e===5?s={r:255&fn[t[1]]*17,g:255&fn[t[2]]*17,b:255&fn[t[3]]*17,a:e===5?fn[t[4]]*17:255}:(e===7||e===9)&&(s={r:fn[t[1]]<<4|fn[t[2]],g:fn[t[3]]<<4|fn[t[4]],b:fn[t[5]]<<4|fn[t[6]],a:e===9?fn[t[7]]<<4|fn[t[8]]:255})),s}const LZ=(t,e)=>t<255?e(t):"";function FZ(t){var e=DZ(t)?MZ:RZ;return t?"#"+e(t.r)+e(t.g)+e(t.b)+LZ(t.a,e):void 0}const UZ=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ZO(t,e,s){const n=e*Math.min(s,1-s),r=(a,o=(a+t/30)%12)=>s-n*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function zZ(t,e,s){const n=(r,a=(r+t/60)%6)=>s-s*e*Math.max(Math.min(a,4-a,1),0);return[n(5),n(3),n(1)]}function VZ(t,e,s){const n=ZO(t,1,.5);let r;for(e+s>1&&(r=1/(e+s),e*=r,s*=r),r=0;r<3;r++)n[r]*=1-e-s,n[r]+=e;return n}function $Z(t,e,s,n,r){return t===r?(e-s)/n+(e<s?6:0):e===r?(s-t)/n+2:(t-e)/n+4}function Eb(t){const s=t.r/255,n=t.g/255,r=t.b/255,a=Math.max(s,n,r),o=Math.min(s,n,r),l=(a+o)/2;let c,d,u;return a!==o&&(u=a-o,d=l>.5?u/(2-a-o):u/(a+o),c=$Z(s,n,r,u,a),c=c*60+.5),[c|0,d||0,l]}function Pb(t,e,s,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,s,n)).map(ma)}function Tb(t,e,s){return Pb(ZO,t,e,s)}function BZ(t,e,s){return Pb(VZ,t,e,s)}function HZ(t,e,s){return Pb(zZ,t,e,s)}function YO(t){return(t%360+360)%360}function WZ(t){const e=UZ.exec(t);let s=255,n;if(!e)return;e[5]!==n&&(s=e[6]?ad(+e[5]):ma(+e[5]));const r=YO(+e[2]),a=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?n=BZ(r,a,o):e[1]==="hsv"?n=HZ(r,a,o):n=Tb(r,a,o),{r:n[0],g:n[1],b:n[2],a:s}}function qZ(t,e){var s=Eb(t);s[0]=YO(s[0]+e),s=Tb(s),t.r=s[0],t.g=s[1],t.b=s[2]}function KZ(t){if(!t)return;const e=Eb(t),s=e[0],n=o1(e[1]),r=o1(e[2]);return t.a<255?`hsla(${s}, ${n}%, ${r}%, ${ei(t.a)})`:`hsl(${s}, ${n}%, ${r}%)`}const l1={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},c1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function GZ(){const t={},e=Object.keys(c1),s=Object.keys(l1);let n,r,a,o,l;for(n=0;n<e.length;n++){for(o=l=e[n],r=0;r<s.length;r++)a=s[r],l=l.replace(a,l1[a]);a=parseInt(c1[o],16),t[l]=[a>>16&255,a>>8&255,a&255]}return t}let Lh;function QZ(t){Lh||(Lh=GZ(),Lh.transparent=[0,0,0,0]);const e=Lh[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const ZZ=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function YZ(t){const e=ZZ.exec(t);let s=255,n,r,a;if(e){if(e[7]!==n){const o=+e[7];s=e[8]?ad(o):ea(o*255,0,255)}return n=+e[1],r=+e[3],a=+e[5],n=255&(e[2]?ad(n):ea(n,0,255)),r=255&(e[4]?ad(r):ea(r,0,255)),a=255&(e[6]?ad(a):ea(a,0,255)),{r:n,g:r,b:a,a:s}}}function XZ(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ei(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Qg=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Go=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function JZ(t,e,s){const n=Go(ei(t.r)),r=Go(ei(t.g)),a=Go(ei(t.b));return{r:ma(Qg(n+s*(Go(ei(e.r))-n))),g:ma(Qg(r+s*(Go(ei(e.g))-r))),b:ma(Qg(a+s*(Go(ei(e.b))-a))),a:t.a+s*(e.a-t.a)}}function Fh(t,e,s){if(t){let n=Eb(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*s,e===0?360:1)),n=Tb(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function XO(t,e){return t&&Object.assign(e||{},t)}function d1(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=ma(t[3]))):(e=XO(t,{r:0,g:0,b:0,a:1}),e.a=ma(e.a)),e}function eY(t){return t.charAt(0)==="r"?YZ(t):WZ(t)}class vu{constructor(e){if(e instanceof vu)return e;const s=typeof e;let n;s==="object"?n=d1(e):s==="string"&&(n=OZ(e)||QZ(e)||eY(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=XO(this._rgb);return e&&(e.a=ei(e.a)),e}set rgb(e){this._rgb=d1(e)}rgbString(){return this._valid?XZ(this._rgb):void 0}hexString(){return this._valid?FZ(this._rgb):void 0}hslString(){return this._valid?KZ(this._rgb):void 0}mix(e,s){if(e){const n=this.rgb,r=e.rgb;let a;const o=s===a?.5:s,l=2*o-1,c=n.a-r.a,d=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;a=1-d,n.r=255&d*n.r+a*r.r+.5,n.g=255&d*n.g+a*r.g+.5,n.b=255&d*n.b+a*r.b+.5,n.a=o*n.a+(1-o)*r.a,this.rgb=n}return this}interpolate(e,s){return e&&(this._rgb=JZ(this._rgb,e._rgb,s)),this}clone(){return new vu(this.rgb)}alpha(e){return this._rgb.a=ma(e),this}clearer(e){const s=this._rgb;return s.a*=1-e,this}greyscale(){const e=this._rgb,s=nh(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=s,this}opaquer(e){const s=this._rgb;return s.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Fh(this._rgb,2,e),this}darken(e){return Fh(this._rgb,2,-e),this}saturate(e){return Fh(this._rgb,1,e),this}desaturate(e){return Fh(this._rgb,1,-e),this}rotate(e){return qZ(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function qr(){}const tY=(()=>{let t=0;return()=>t++})();function pt(t){return t==null}function es(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function st(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Mn(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function ur(t,e){return Mn(t)?t:e}function Xe(t,e){return typeof t>"u"?e:t}const sY=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function vt(t,e,s){if(t&&typeof t.call=="function")return t.apply(s,e)}function ot(t,e,s,n){let r,a,o;if(es(t))for(a=t.length,r=0;r<a;r++)e.call(s,t[r],r);else if(st(t))for(o=Object.keys(t),a=o.length,r=0;r<a;r++)e.call(s,t[o[r]],o[r])}function Dm(t,e){let s,n,r,a;if(!t||!e||t.length!==e.length)return!1;for(s=0,n=t.length;s<n;++s)if(r=t[s],a=e[s],r.datasetIndex!==a.datasetIndex||r.index!==a.index)return!1;return!0}function Om(t){if(es(t))return t.map(Om);if(st(t)){const e=Object.create(null),s=Object.keys(t),n=s.length;let r=0;for(;r<n;++r)e[s[r]]=Om(t[s[r]]);return e}return t}function JO(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function nY(t,e,s,n){if(!JO(t))return;const r=e[t],a=s[t];st(r)&&st(a)?bu(r,a,n):e[t]=Om(a)}function bu(t,e,s){const n=es(e)?e:[e],r=n.length;if(!st(t))return t;s=s||{};const a=s.merger||nY;let o;for(let l=0;l<r;++l){if(o=n[l],!st(o))continue;const c=Object.keys(o);for(let d=0,u=c.length;d<u;++d)a(c[d],t,o,s)}return t}function kd(t,e){return bu(t,e,{merger:rY})}function rY(t,e,s){if(!JO(t))return;const n=e[t],r=s[t];st(n)&&st(r)?kd(n,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Om(r))}const u1={"":t=>t,x:t=>t.x,y:t=>t.y};function iY(t){const e=t.split("."),s=[];let n="";for(const r of e)n+=r,n.endsWith("\\")?n=n.slice(0,-1)+".":(s.push(n),n="");return s}function aY(t){const e=iY(t);return s=>{for(const n of e){if(n==="")break;s=s&&s[n]}return s}}function Lm(t,e){return(u1[e]||(u1[e]=aY(e)))(t)}function Ab(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Fm=t=>typeof t<"u",_a=t=>typeof t=="function",h1=(t,e)=>{if(t.size!==e.size)return!1;for(const s of t)if(!e.has(s))return!1;return!0};function oY(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ns=Math.PI,Rr=2*ns,lY=Rr+ns,Um=Number.POSITIVE_INFINITY,cY=ns/180,Qn=ns/2,Ra=ns/4,f1=ns*2/3,Gy=Math.log10,hc=Math.sign;function Id(t,e,s){return Math.abs(t-e)<s}function m1(t){const e=Math.round(t);t=Id(t,e,t/1e3)?e:t;const s=Math.pow(10,Math.floor(Gy(t))),n=t/s;return(n<=1?1:n<=2?2:n<=5?5:10)*s}function dY(t){const e=[],s=Math.sqrt(t);let n;for(n=1;n<s;n++)t%n===0&&(e.push(n),e.push(t/n));return s===(s|0)&&e.push(s),e.sort((r,a)=>r-a).pop(),e}function uY(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function wu(t){return!uY(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function hY(t,e){const s=Math.round(t);return s-e<=t&&s+e>=t}function fY(t,e,s){let n,r,a;for(n=0,r=t.length;n<r;n++)a=t[n][s],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function Qa(t){return t*(ns/180)}function mY(t){return t*(180/ns)}function p1(t){if(!Mn(t))return;let e=1,s=0;for(;Math.round(t*e)/e!==t;)e*=10,s++;return s}function pY(t,e){const s=e.x-t.x,n=e.y-t.y,r=Math.sqrt(s*s+n*n);let a=Math.atan2(n,s);return a<-.5*ns&&(a+=Rr),{angle:a,distance:r}}function Qy(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function gY(t,e){return(t-e+lY)%Rr-ns}function Mi(t){return(t%Rr+Rr)%Rr}function eL(t,e,s,n){const r=Mi(t),a=Mi(e),o=Mi(s),l=Mi(a-r),c=Mi(o-r),d=Mi(r-a),u=Mi(r-o);return r===a||r===o||n&&a===o||l>c&&d<u}function _n(t,e,s){return Math.max(e,Math.min(s,t))}function xY(t){return _n(t,-32768,32767)}function od(t,e,s,n=1e-6){return t>=Math.min(e,s)-n&&t<=Math.max(e,s)+n}function Mb(t,e,s){s=s||(o=>t[o]<e);let n=t.length-1,r=0,a;for(;n-r>1;)a=r+n>>1,s(a)?r=a:n=a;return{lo:r,hi:n}}const Za=(t,e,s,n)=>Mb(t,s,n?r=>{const a=t[r][e];return a<s||a===s&&t[r+1][e]===s}:r=>t[r][e]<s),yY=(t,e,s)=>Mb(t,s,n=>t[n][e]>=s);function vY(t,e,s){let n=0,r=t.length;for(;n<r&&t[n]<e;)n++;for(;r>n&&t[r-1]>s;)r--;return n>0||r<t.length?t.slice(n,r):t}const tL=["push","pop","shift","splice","unshift"];function bY(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),tL.forEach(s=>{const n="_onData"+Ab(s),r=t[s];Object.defineProperty(t,s,{configurable:!0,enumerable:!1,value(...a){const o=r.apply(this,a);return t._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...a)}),o}})})}function g1(t,e){const s=t._chartjs;if(!s)return;const n=s.listeners,r=n.indexOf(e);r!==-1&&n.splice(r,1),!(n.length>0)&&(tL.forEach(a=>{delete t[a]}),delete t._chartjs)}function wY(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const sL=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function nL(t,e){let s=[],n=!1;return function(...r){s=r,n||(n=!0,sL.call(window,()=>{n=!1,t.apply(e,s)}))}}function jY(t,e){let s;return function(...n){return e?(clearTimeout(s),s=setTimeout(t,e,n)):t.apply(this,n),e}}const Rb=t=>t==="start"?"left":t==="end"?"right":"center",xs=(t,e,s)=>t==="start"?e:t==="end"?s:(e+s)/2,NY=(t,e,s,n)=>t===(n?"left":"right")?s:t==="center"?(e+s)/2:e;function SY(t,e,s){const n=e.length;let r=0,a=n;if(t._sorted){const{iScale:o,vScale:l,_parsed:c}=t,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=o.axis,{min:h,max:f,minDefined:p,maxDefined:b}=o.getUserBounds();if(p){if(r=Math.min(Za(c,u,h).lo,s?n:Za(e,u,o.getPixelForValue(h)).lo),d){const m=c.slice(0,r+1).reverse().findIndex(g=>!pt(g[l.axis]));r-=Math.max(0,m)}r=_n(r,0,n-1)}if(b){let m=Math.max(Za(c,o.axis,f,!0).hi+1,s?0:Za(e,u,o.getPixelForValue(f),!0).hi+1);if(d){const g=c.slice(m-1).findIndex(v=>!pt(v[l.axis]));m+=Math.max(0,g)}a=_n(m,r,n)-r}else a=n-r}return{start:r,count:a}}function _Y(t){const{xScale:e,yScale:s,_scaleRanges:n}=t,r={xmin:e.min,xmax:e.max,ymin:s.min,ymax:s.max};if(!n)return t._scaleRanges=r,!0;const a=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==s.min||n.ymax!==s.max;return Object.assign(n,r),a}const Uh=t=>t===0||t===1,x1=(t,e,s)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Rr/s)),y1=(t,e,s)=>Math.pow(2,-10*t)*Math.sin((t-e)*Rr/s)+1,Ed={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Qn)+1,easeOutSine:t=>Math.sin(t*Qn),easeInOutSine:t=>-.5*(Math.cos(ns*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Uh(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Uh(t)?t:x1(t,.075,.3),easeOutElastic:t=>Uh(t)?t:y1(t,.075,.3),easeInOutElastic(t){return Uh(t)?t:t<.5?.5*x1(t*2,.1125,.45):.5+.5*y1(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Ed.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Ed.easeInBounce(t*2)*.5:Ed.easeOutBounce(t*2-1)*.5+.5};function Db(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function v1(t){return Db(t)?t:new vu(t)}function Zg(t){return Db(t)?t:new vu(t).saturate(.5).darken(.1).hexString()}const CY=["x","y","borderWidth","radius","tension"],kY=["color","borderColor","backgroundColor"];function IY(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:kY},numbers:{type:"number",properties:CY}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function EY(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const b1=new Map;function PY(t,e){e=e||{};const s=t+JSON.stringify(e);let n=b1.get(s);return n||(n=new Intl.NumberFormat(t,e),b1.set(s,n)),n}function rL(t,e,s){return PY(e,s).format(t)}const iL={values(t){return es(t)?t:""+t},numeric(t,e,s){if(t===0)return"0";const n=this.chart.options.locale;let r,a=t;if(s.length>1){const d=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(d<1e-4||d>1e15)&&(r="scientific"),a=TY(t,s)}const o=Gy(Math.abs(a)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:r,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),rL(t,n,c)},logarithmic(t,e,s){if(t===0)return"0";const n=s[e].significand||t/Math.pow(10,Math.floor(Gy(t)));return[1,2,3,5,10,15].includes(n)||e>.8*s.length?iL.numeric.call(this,t,e,s):""}};function TY(t,e){let s=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(s)>=1&&t!==Math.floor(t)&&(s=t-Math.floor(t)),s}var aL={formatters:iL};function AY(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,s)=>s.lineWidth,tickColor:(e,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:aL.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Ro=Object.create(null),Zy=Object.create(null);function Pd(t,e){if(!e)return t;const s=e.split(".");for(let n=0,r=s.length;n<r;++n){const a=s[n];t=t[a]||(t[a]=Object.create(null))}return t}function Yg(t,e,s){return typeof e=="string"?bu(Pd(t,e),s):bu(Pd(t,""),e)}class MY{constructor(e,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,r)=>Zg(r.backgroundColor),this.hoverBorderColor=(n,r)=>Zg(r.borderColor),this.hoverColor=(n,r)=>Zg(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(s)}set(e,s){return Yg(this,e,s)}get(e){return Pd(this,e)}describe(e,s){return Yg(Zy,e,s)}override(e,s){return Yg(Ro,e,s)}route(e,s,n,r){const a=Pd(this,e),o=Pd(this,n),l="_"+s;Object.defineProperties(a,{[l]:{value:a[s],writable:!0},[s]:{enumerable:!0,get(){const c=this[l],d=o[r];return st(c)?Object.assign({},d,c):Xe(c,d)},set(c){this[l]=c}}})}apply(e){e.forEach(s=>s(this))}}var Ut=new MY({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[IY,EY,AY]);function RY(t){return!t||pt(t.size)||pt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function w1(t,e,s,n,r){let a=e[r];return a||(a=e[r]=t.measureText(r).width,s.push(r)),a>n&&(n=a),n}function Da(t,e,s){const n=t.currentDevicePixelRatio,r=s!==0?Math.max(s/2,.5):0;return Math.round((e-r)*n)/n+r}function j1(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Yy(t,e,s,n){oL(t,e,s,n,null)}function oL(t,e,s,n,r){let a,o,l,c,d,u,h,f;const p=e.pointStyle,b=e.rotation,m=e.radius;let g=(b||0)*cY;if(p&&typeof p=="object"&&(a=p.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){t.save(),t.translate(s,n),t.rotate(g),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(m)||m<=0)){switch(t.beginPath(),p){default:r?t.ellipse(s,n,r/2,m,0,0,Rr):t.arc(s,n,m,0,Rr),t.closePath();break;case"triangle":u=r?r/2:m,t.moveTo(s+Math.sin(g)*u,n-Math.cos(g)*m),g+=f1,t.lineTo(s+Math.sin(g)*u,n-Math.cos(g)*m),g+=f1,t.lineTo(s+Math.sin(g)*u,n-Math.cos(g)*m),t.closePath();break;case"rectRounded":d=m*.516,c=m-d,o=Math.cos(g+Ra)*c,h=Math.cos(g+Ra)*(r?r/2-d:c),l=Math.sin(g+Ra)*c,f=Math.sin(g+Ra)*(r?r/2-d:c),t.arc(s-h,n-l,d,g-ns,g-Qn),t.arc(s+f,n-o,d,g-Qn,g),t.arc(s+h,n+l,d,g,g+Qn),t.arc(s-f,n+o,d,g+Qn,g+ns),t.closePath();break;case"rect":if(!b){c=Math.SQRT1_2*m,u=r?r/2:c,t.rect(s-u,n-c,2*u,2*c);break}g+=Ra;case"rectRot":h=Math.cos(g)*(r?r/2:m),o=Math.cos(g)*m,l=Math.sin(g)*m,f=Math.sin(g)*(r?r/2:m),t.moveTo(s-h,n-l),t.lineTo(s+f,n-o),t.lineTo(s+h,n+l),t.lineTo(s-f,n+o),t.closePath();break;case"crossRot":g+=Ra;case"cross":h=Math.cos(g)*(r?r/2:m),o=Math.cos(g)*m,l=Math.sin(g)*m,f=Math.sin(g)*(r?r/2:m),t.moveTo(s-h,n-l),t.lineTo(s+h,n+l),t.moveTo(s+f,n-o),t.lineTo(s-f,n+o);break;case"star":h=Math.cos(g)*(r?r/2:m),o=Math.cos(g)*m,l=Math.sin(g)*m,f=Math.sin(g)*(r?r/2:m),t.moveTo(s-h,n-l),t.lineTo(s+h,n+l),t.moveTo(s+f,n-o),t.lineTo(s-f,n+o),g+=Ra,h=Math.cos(g)*(r?r/2:m),o=Math.cos(g)*m,l=Math.sin(g)*m,f=Math.sin(g)*(r?r/2:m),t.moveTo(s-h,n-l),t.lineTo(s+h,n+l),t.moveTo(s+f,n-o),t.lineTo(s-f,n+o);break;case"line":o=r?r/2:Math.cos(g)*m,l=Math.sin(g)*m,t.moveTo(s-o,n-l),t.lineTo(s+o,n+l);break;case"dash":t.moveTo(s,n),t.lineTo(s+Math.cos(g)*(r?r/2:m),n+Math.sin(g)*m);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function ju(t,e,s){return s=s||.5,!e||t&&t.x>e.left-s&&t.x<e.right+s&&t.y>e.top-s&&t.y<e.bottom+s}function Ob(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Lb(t){t.restore()}function DY(t,e,s,n,r){if(!e)return t.lineTo(s.x,s.y);if(r==="middle"){const a=(e.x+s.x)/2;t.lineTo(a,e.y),t.lineTo(a,s.y)}else r==="after"!=!!n?t.lineTo(e.x,s.y):t.lineTo(s.x,e.y);t.lineTo(s.x,s.y)}function OY(t,e,s,n){if(!e)return t.lineTo(s.x,s.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?s.cp2x:s.cp1x,n?s.cp2y:s.cp1y,s.x,s.y)}function LY(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),pt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function FY(t,e,s,n,r){if(r.strikethrough||r.underline){const a=t.measureText(n),o=e-a.actualBoundingBoxLeft,l=e+a.actualBoundingBoxRight,c=s-a.actualBoundingBoxAscent,d=s+a.actualBoundingBoxDescent,u=r.strikethrough?(c+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,u),t.lineTo(l,u),t.stroke()}}function UY(t,e){const s=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=s}function Nu(t,e,s,n,r,a={}){const o=es(e)?e:[e],l=a.strokeWidth>0&&a.strokeColor!=="";let c,d;for(t.save(),t.font=r.string,LY(t,a),c=0;c<o.length;++c)d=o[c],a.backdrop&&UY(t,a.backdrop),l&&(a.strokeColor&&(t.strokeStyle=a.strokeColor),pt(a.strokeWidth)||(t.lineWidth=a.strokeWidth),t.strokeText(d,s,n,a.maxWidth)),t.fillText(d,s,n,a.maxWidth),FY(t,s,n,d,a),n+=Number(r.lineHeight);t.restore()}function Xy(t,e){const{x:s,y:n,w:r,h:a,radius:o}=e;t.arc(s+o.topLeft,n+o.topLeft,o.topLeft,1.5*ns,ns,!0),t.lineTo(s,n+a-o.bottomLeft),t.arc(s+o.bottomLeft,n+a-o.bottomLeft,o.bottomLeft,ns,Qn,!0),t.lineTo(s+r-o.bottomRight,n+a),t.arc(s+r-o.bottomRight,n+a-o.bottomRight,o.bottomRight,Qn,0,!0),t.lineTo(s+r,n+o.topRight),t.arc(s+r-o.topRight,n+o.topRight,o.topRight,0,-Qn,!0),t.lineTo(s+o.topLeft,n)}const zY=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,VY=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function $Y(t,e){const s=(""+t).match(zY);if(!s||s[1]==="normal")return e*1.2;switch(t=+s[2],s[3]){case"px":return t;case"%":t/=100;break}return e*t}const BY=t=>+t||0;function lL(t,e){const s={},n=st(e),r=n?Object.keys(e):e,a=st(t)?n?o=>Xe(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of r)s[o]=BY(a(o));return s}function HY(t){return lL(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Td(t){return lL(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Rn(t){const e=HY(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function vs(t,e){t=t||{},e=e||Ut.font;let s=Xe(t.size,e.size);typeof s=="string"&&(s=parseInt(s,10));let n=Xe(t.style,e.style);n&&!(""+n).match(VY)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const r={family:Xe(t.family,e.family),lineHeight:$Y(Xe(t.lineHeight,e.lineHeight),s),size:s,style:n,weight:Xe(t.weight,e.weight),string:""};return r.string=RY(r),r}function zh(t,e,s,n){let r,a,o;for(r=0,a=t.length;r<a;++r)if(o=t[r],o!==void 0&&o!==void 0)return o}function WY(t,e,s){const{min:n,max:r}=t,a=sY(e,(r-n)/2),o=(l,c)=>s&&l===0?0:l+c;return{min:o(n,-Math.abs(a)),max:o(r,a)}}function Vo(t,e){return Object.assign(Object.create(t),e)}function Fb(t,e=[""],s,n,r=()=>t[0]){const a=s||t;typeof n>"u"&&(n=hL("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:a,_fallback:n,_getTarget:r,override:l=>Fb([l,...t],e,a,n)};return new Proxy(o,{deleteProperty(l,c){return delete l[c],delete l._keys,delete t[0][c],!0},get(l,c){return dL(l,c,()=>JY(c,e,t,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,c){return S1(l).includes(c)},ownKeys(l){return S1(l)},set(l,c,d){const u=l._storage||(l._storage=r());return l[c]=u[c]=d,delete l._keys,!0}})}function fc(t,e,s,n){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:s,_stack:new Set,_descriptors:cL(t,n),setContext:a=>fc(t,a,s,n),override:a=>fc(t.override(a),e,s,n)};return new Proxy(r,{deleteProperty(a,o){return delete a[o],delete t[o],!0},get(a,o,l){return dL(a,o,()=>KY(a,o,l))},getOwnPropertyDescriptor(a,o){return a._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(a,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(a,o,l){return t[o]=l,delete a[o],!0}})}function cL(t,e={scriptable:!0,indexable:!0}){const{_scriptable:s=e.scriptable,_indexable:n=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:s,indexable:n,isScriptable:_a(s)?s:()=>s,isIndexable:_a(n)?n:()=>n}}const qY=(t,e)=>t?t+Ab(e):e,Ub=(t,e)=>st(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function dL(t,e,s){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=s();return t[e]=n,n}function KY(t,e,s){const{_proxy:n,_context:r,_subProxy:a,_descriptors:o}=t;let l=n[e];return _a(l)&&o.isScriptable(e)&&(l=GY(e,l,t,s)),es(l)&&l.length&&(l=QY(e,l,t,o.isIndexable)),Ub(e,l)&&(l=fc(l,r,a&&a[e],o)),l}function GY(t,e,s,n){const{_proxy:r,_context:a,_subProxy:o,_stack:l}=s;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let c=e(a,o||n);return l.delete(t),Ub(t,c)&&(c=zb(r._scopes,r,t,c)),c}function QY(t,e,s,n){const{_proxy:r,_context:a,_subProxy:o,_descriptors:l}=s;if(typeof a.index<"u"&&n(t))return e[a.index%e.length];if(st(e[0])){const c=e,d=r._scopes.filter(u=>u!==c);e=[];for(const u of c){const h=zb(d,r,t,u);e.push(fc(h,a,o&&o[t],l))}}return e}function uL(t,e,s){return _a(t)?t(e,s):t}const ZY=(t,e)=>t===!0?e:typeof t=="string"?Lm(e,t):void 0;function YY(t,e,s,n,r){for(const a of e){const o=ZY(s,a);if(o){t.add(o);const l=uL(o._fallback,s,r);if(typeof l<"u"&&l!==s&&l!==n)return l}else if(o===!1&&typeof n<"u"&&s!==n)return null}return!1}function zb(t,e,s,n){const r=e._rootScopes,a=uL(e._fallback,s,n),o=[...t,...r],l=new Set;l.add(n);let c=N1(l,o,s,a||s,n);return c===null||typeof a<"u"&&a!==s&&(c=N1(l,o,a,c,n),c===null)?!1:Fb(Array.from(l),[""],r,a,()=>XY(e,s,n))}function N1(t,e,s,n,r){for(;s;)s=YY(t,e,s,n,r);return s}function XY(t,e,s){const n=t._getTarget();e in n||(n[e]={});const r=n[e];return es(r)&&st(s)?s:r||{}}function JY(t,e,s,n){let r;for(const a of e)if(r=hL(qY(a,t),s),typeof r<"u")return Ub(t,r)?zb(s,n,t,r):r}function hL(t,e){for(const s of e){if(!s)continue;const n=s[t];if(typeof n<"u")return n}}function S1(t){let e=t._keys;return e||(e=t._keys=eX(t._scopes)),e}function eX(t){const e=new Set;for(const s of t)for(const n of Object.keys(s).filter(r=>!r.startsWith("_")))e.add(n);return Array.from(e)}const tX=Number.EPSILON||1e-14,mc=(t,e)=>e<t.length&&!t[e].skip&&t[e],fL=t=>t==="x"?"y":"x";function sX(t,e,s,n){const r=t.skip?e:t,a=e,o=s.skip?e:s,l=Qy(a,r),c=Qy(o,a);let d=l/(l+c),u=c/(l+c);d=isNaN(d)?0:d,u=isNaN(u)?0:u;const h=n*d,f=n*u;return{previous:{x:a.x-h*(o.x-r.x),y:a.y-h*(o.y-r.y)},next:{x:a.x+f*(o.x-r.x),y:a.y+f*(o.y-r.y)}}}function nX(t,e,s){const n=t.length;let r,a,o,l,c,d=mc(t,0);for(let u=0;u<n-1;++u)if(c=d,d=mc(t,u+1),!(!c||!d)){if(Id(e[u],0,tX)){s[u]=s[u+1]=0;continue}r=s[u]/e[u],a=s[u+1]/e[u],l=Math.pow(r,2)+Math.pow(a,2),!(l<=9)&&(o=3/Math.sqrt(l),s[u]=r*o*e[u],s[u+1]=a*o*e[u])}}function rX(t,e,s="x"){const n=fL(s),r=t.length;let a,o,l,c=mc(t,0);for(let d=0;d<r;++d){if(o=l,l=c,c=mc(t,d+1),!l)continue;const u=l[s],h=l[n];o&&(a=(u-o[s])/3,l[`cp1${s}`]=u-a,l[`cp1${n}`]=h-a*e[d]),c&&(a=(c[s]-u)/3,l[`cp2${s}`]=u+a,l[`cp2${n}`]=h+a*e[d])}}function iX(t,e="x"){const s=fL(e),n=t.length,r=Array(n).fill(0),a=Array(n);let o,l,c,d=mc(t,0);for(o=0;o<n;++o)if(l=c,c=d,d=mc(t,o+1),!!c){if(d){const u=d[e]-c[e];r[o]=u!==0?(d[s]-c[s])/u:0}a[o]=l?d?hc(r[o-1])!==hc(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}nX(t,r,a),rX(t,a,e)}function Vh(t,e,s){return Math.max(Math.min(t,s),e)}function aX(t,e){let s,n,r,a,o,l=ju(t[0],e);for(s=0,n=t.length;s<n;++s)o=a,a=l,l=s<n-1&&ju(t[s+1],e),a&&(r=t[s],o&&(r.cp1x=Vh(r.cp1x,e.left,e.right),r.cp1y=Vh(r.cp1y,e.top,e.bottom)),l&&(r.cp2x=Vh(r.cp2x,e.left,e.right),r.cp2y=Vh(r.cp2y,e.top,e.bottom)))}function oX(t,e,s,n,r){let a,o,l,c;if(e.spanGaps&&(t=t.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")iX(t,r);else{let d=n?t[t.length-1]:t[0];for(a=0,o=t.length;a<o;++a)l=t[a],c=sX(d,l,t[Math.min(a+1,o-(n?0:1))%o],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,d=l}e.capBezierPoints&&aX(t,s)}function Vb(){return typeof window<"u"&&typeof document<"u"}function $b(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function zm(t,e,s){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[s])):n=t,n}const Lp=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function lX(t,e){return Lp(t).getPropertyValue(e)}const cX=["top","right","bottom","left"];function mo(t,e,s){const n={};s=s?"-"+s:"";for(let r=0;r<4;r++){const a=cX[r];n[a]=parseFloat(t[e+"-"+a+s])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const dX=(t,e,s)=>(t>0||e>0)&&(!s||!s.shadowRoot);function uX(t,e){const s=t.touches,n=s&&s.length?s[0]:t,{offsetX:r,offsetY:a}=n;let o=!1,l,c;if(dX(r,a,t.target))l=r,c=a;else{const d=e.getBoundingClientRect();l=n.clientX-d.left,c=n.clientY-d.top,o=!0}return{x:l,y:c,box:o}}function za(t,e){if("native"in t)return t;const{canvas:s,currentDevicePixelRatio:n}=e,r=Lp(s),a=r.boxSizing==="border-box",o=mo(r,"padding"),l=mo(r,"border","width"),{x:c,y:d,box:u}=uX(t,s),h=o.left+(u&&l.left),f=o.top+(u&&l.top);let{width:p,height:b}=e;return a&&(p-=o.width+l.width,b-=o.height+l.height),{x:Math.round((c-h)/p*s.width/n),y:Math.round((d-f)/b*s.height/n)}}function hX(t,e,s){let n,r;if(e===void 0||s===void 0){const a=t&&$b(t);if(!a)e=t.clientWidth,s=t.clientHeight;else{const o=a.getBoundingClientRect(),l=Lp(a),c=mo(l,"border","width"),d=mo(l,"padding");e=o.width-d.width-c.width,s=o.height-d.height-c.height,n=zm(l.maxWidth,a,"clientWidth"),r=zm(l.maxHeight,a,"clientHeight")}}return{width:e,height:s,maxWidth:n||Um,maxHeight:r||Um}}const $h=t=>Math.round(t*10)/10;function fX(t,e,s,n){const r=Lp(t),a=mo(r,"margin"),o=zm(r.maxWidth,t,"clientWidth")||Um,l=zm(r.maxHeight,t,"clientHeight")||Um,c=hX(t,e,s);let{width:d,height:u}=c;if(r.boxSizing==="content-box"){const f=mo(r,"border","width"),p=mo(r,"padding");d-=p.width+f.width,u-=p.height+f.height}return d=Math.max(0,d-a.width),u=Math.max(0,n?d/n:u-a.height),d=$h(Math.min(d,o,c.maxWidth)),u=$h(Math.min(u,l,c.maxHeight)),d&&!u&&(u=$h(d/2)),(e!==void 0||s!==void 0)&&n&&c.height&&u>c.height&&(u=c.height,d=$h(Math.floor(u*n))),{width:d,height:u}}function _1(t,e,s){const n=e||1,r=Math.floor(t.height*n),a=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(s||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||o.height!==r||o.width!==a?(t.currentDevicePixelRatio=n,o.height=r,o.width=a,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const mX=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Vb()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function C1(t,e){const s=lX(t,e),n=s&&s.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Va(t,e,s,n){return{x:t.x+s*(e.x-t.x),y:t.y+s*(e.y-t.y)}}function pX(t,e,s,n){return{x:t.x+s*(e.x-t.x),y:n==="middle"?s<.5?t.y:e.y:n==="after"?s<1?t.y:e.y:s>0?e.y:t.y}}function gX(t,e,s,n){const r={x:t.cp2x,y:t.cp2y},a={x:e.cp1x,y:e.cp1y},o=Va(t,r,s),l=Va(r,a,s),c=Va(a,e,s),d=Va(o,l,s),u=Va(l,c,s);return Va(d,u,s)}const xX=function(t,e){return{x(s){return t+t+e-s},setWidth(s){e=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,n){return s-n},leftForLtr(s,n){return s-n}}},yX=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Tl(t,e,s){return t?xX(e,s):yX()}function mL(t,e){let s,n;(e==="ltr"||e==="rtl")&&(s=t.canvas.style,n=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",e,"important"),t.prevTextDirection=n)}function pL(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function gL(t){return t==="angle"?{between:eL,compare:gY,normalize:Mi}:{between:od,compare:(e,s)=>e-s,normalize:e=>e}}function k1({start:t,end:e,count:s,loop:n,style:r}){return{start:t%s,end:e%s,loop:n&&(e-t+1)%s===0,style:r}}function vX(t,e,s){const{property:n,start:r,end:a}=s,{between:o,normalize:l}=gL(n),c=e.length;let{start:d,end:u,loop:h}=t,f,p;if(h){for(d+=c,u+=c,f=0,p=c;f<p&&o(l(e[d%c][n]),r,a);++f)d--,u--;d%=c,u%=c}return u<d&&(u+=c),{start:d,end:u,loop:h,style:t.style}}function bX(t,e,s){if(!s)return[t];const{property:n,start:r,end:a}=s,o=e.length,{compare:l,between:c,normalize:d}=gL(n),{start:u,end:h,loop:f,style:p}=vX(t,e,s),b=[];let m=!1,g=null,v,y,w;const j=()=>c(r,w,v)&&l(r,w)!==0,N=()=>l(a,v)===0||c(a,w,v),C=()=>m||j(),_=()=>!m||N();for(let k=u,M=u;k<=h;++k)y=e[k%o],!y.skip&&(v=d(y[n]),v!==w&&(m=c(v,r,a),g===null&&C()&&(g=l(v,r)===0?k:M),g!==null&&_()&&(b.push(k1({start:g,end:k,loop:f,count:o,style:p})),g=null),M=k,w=v));return g!==null&&b.push(k1({start:g,end:h,loop:f,count:o,style:p})),b}function wX(t,e){const s=[],n=t.segments;for(let r=0;r<n.length;r++){const a=bX(n[r],t.points,e);a.length&&s.push(...a)}return s}function jX(t,e,s,n){let r=0,a=e-1;if(s&&!n)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,s&&(a+=r);a>r&&t[a%e].skip;)a--;return a%=e,{start:r,end:a}}function NX(t,e,s,n){const r=t.length,a=[];let o=e,l=t[e],c;for(c=e+1;c<=s;++c){const d=t[c%r];d.skip||d.stop?l.skip||(n=!1,a.push({start:e%r,end:(c-1)%r,loop:n}),e=o=d.stop?c:null):(o=c,l.skip&&(e=c)),l=d}return o!==null&&a.push({start:e%r,end:o%r,loop:n}),a}function SX(t,e){const s=t.points,n=t.options.spanGaps,r=s.length;if(!r)return[];const a=!!t._loop,{start:o,end:l}=jX(s,r,a,n);if(n===!0)return I1(t,[{start:o,end:l,loop:a}],s,e);const c=l<o?l+r:l,d=!!t._fullLoop&&o===0&&l===r-1;return I1(t,NX(s,o,c,d),s,e)}function I1(t,e,s,n){return!n||!n.setContext||!s?e:_X(t,e,s,n)}function _X(t,e,s,n){const r=t._chart.getContext(),a=E1(t.options),{_datasetIndex:o,options:{spanGaps:l}}=t,c=s.length,d=[];let u=a,h=e[0].start,f=h;function p(b,m,g,v){const y=l?-1:1;if(b!==m){for(b+=c;s[b%c].skip;)b-=y;for(;s[m%c].skip;)m+=y;b%c!==m%c&&(d.push({start:b%c,end:m%c,loop:g,style:v}),u=v,h=m%c)}}for(const b of e){h=l?h:b.start;let m=s[h%c],g;for(f=h+1;f<=b.end;f++){const v=s[f%c];g=E1(n.setContext(Vo(r,{type:"segment",p0:m,p1:v,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:o}))),CX(g,u)&&p(h,f-1,b.loop,u),m=v,u=g}h<f-1&&p(h,f-1,b.loop,u)}return d}function E1(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function CX(t,e){if(!e)return!1;const s=[],n=function(r,a){return Db(a)?(s.includes(a)||s.push(a),s.indexOf(a)):a};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function Bh(t,e,s){return t.options.clip?t[s]:e[s]}function kX(t,e){const{xScale:s,yScale:n}=t;return s&&n?{left:Bh(s,e,"left"),right:Bh(s,e,"right"),top:Bh(n,e,"top"),bottom:Bh(n,e,"bottom")}:e}function IX(t,e){const s=e._clip;if(s.disabled)return!1;const n=kX(e,t.chartArea);return{left:s.left===!1?0:n.left-(s.left===!0?0:s.left),right:s.right===!1?t.width:n.right+(s.right===!0?0:s.right),top:s.top===!1?0:n.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?t.height:n.bottom+(s.bottom===!0?0:s.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class EX{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,s,n,r){const a=s.listeners[r],o=s.duration;a.forEach(l=>l({chart:e,initial:s.initial,numSteps:o,currentStep:Math.min(n-s.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=sL.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let s=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;const a=n.items;let o=a.length-1,l=!1,c;for(;o>=0;--o)c=a[o],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(e),l=!0):(a[o]=a[a.length-1],a.pop());l&&(r.draw(),this._notify(r,n,e,"progress")),a.length||(n.running=!1,this._notify(r,n,e,"complete"),n.initial=!1),s+=a.length}),this._lastDate=e,s===0&&(this._running=!1)}_getAnims(e){const s=this._charts;let n=s.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(e,n)),n}listen(e,s,n){this._getAnims(e).listeners[s].push(n)}add(e,s){!s||!s.length||this._getAnims(e).items.push(...s)}has(e){return this._getAnims(e).items.length>0}start(e){const s=this._charts.get(e);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((n,r)=>Math.max(n,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const s=this._charts.get(e);return!(!s||!s.running||!s.items.length)}stop(e){const s=this._charts.get(e);if(!s||!s.items.length)return;const n=s.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();s.items=[],this._notify(e,s,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Qr=new EX;const P1="transparent",PX={boolean(t,e,s){return s>.5?e:t},color(t,e,s){const n=v1(t||P1),r=n.valid&&v1(e||P1);return r&&r.valid?r.mix(n,s).hexString():e},number(t,e,s){return t+(e-t)*s}};class TX{constructor(e,s,n,r){const a=s[n];r=zh([e.to,r,a,e.from]);const o=zh([e.from,a,r]);this._active=!0,this._fn=e.fn||PX[e.type||typeof o],this._easing=Ed[e.easing]||Ed.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=s,this._prop=n,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,s,n){if(this._active){this._notify(!1);const r=this._target[this._prop],a=n-this._start,o=this._duration-a;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=zh([e.to,s,r,e.from]),this._from=zh([e.from,r,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const s=e-this._start,n=this._duration,r=this._prop,a=this._from,o=this._loop,l=this._to;let c;if(this._active=a!==l&&(o||s<n),!this._active){this._target[r]=l,this._notify(!0);return}if(s<0){this._target[r]=a;return}c=s/n%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[r]=this._fn(a,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((s,n)=>{e.push({res:s,rej:n})})}_notify(e){const s=e?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][s]()}}let xL=class{constructor(e,s){this._chart=e,this._properties=new Map,this.configure(s)}configure(e){if(!st(e))return;const s=Object.keys(Ut.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const a=e[r];if(!st(a))return;const o={};for(const l of s)o[l]=a[l];(es(a.properties)&&a.properties||[r]).forEach(l=>{(l===r||!n.has(l))&&n.set(l,o)})})}_animateOptions(e,s){const n=s.options,r=MX(e,n);if(!r)return[];const a=this._createAnimations(r,n);return n.$shared&&AX(e.options.$animations,n).then(()=>{e.options=n},()=>{}),a}_createAnimations(e,s){const n=this._properties,r=[],a=e.$animations||(e.$animations={}),o=Object.keys(s),l=Date.now();let c;for(c=o.length-1;c>=0;--c){const d=o[c];if(d.charAt(0)==="$")continue;if(d==="options"){r.push(...this._animateOptions(e,s));continue}const u=s[d];let h=a[d];const f=n.get(d);if(h)if(f&&h.active()){h.update(f,u,l);continue}else h.cancel();if(!f||!f.duration){e[d]=u;continue}a[d]=h=new TX(f,e,d,u),r.push(h)}return r}update(e,s){if(this._properties.size===0){Object.assign(e,s);return}const n=this._createAnimations(e,s);if(n.length)return Qr.add(this._chart,n),!0}};function AX(t,e){const s=[],n=Object.keys(e);for(let r=0;r<n.length;r++){const a=t[n[r]];a&&a.active()&&s.push(a.wait())}return Promise.all(s)}function MX(t,e){if(!e)return;let s=t.options;if(!s){t.options=e;return}return s.$shared&&(t.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function T1(t,e){const s=t&&t.options||{},n=s.reverse,r=s.min===void 0?e:0,a=s.max===void 0?e:0;return{start:n?a:r,end:n?r:a}}function RX(t,e,s){if(s===!1)return!1;const n=T1(t,s),r=T1(e,s);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}function DX(t){let e,s,n,r;return st(t)?(e=t.top,s=t.right,n=t.bottom,r=t.left):e=s=n=r=t,{top:e,right:s,bottom:n,left:r,disabled:t===!1}}function yL(t,e){const s=[],n=t._getSortedDatasetMetas(e);let r,a;for(r=0,a=n.length;r<a;++r)s.push(n[r].index);return s}function A1(t,e,s,n={}){const r=t.keys,a=n.mode==="single";let o,l,c,d;if(e===null)return;let u=!1;for(o=0,l=r.length;o<l;++o){if(c=+r[o],c===s){if(u=!0,n.all)continue;break}d=t.values[c],Mn(d)&&(a||e===0||hc(e)===hc(d))&&(e+=d)}return!u&&!n.all?0:e}function OX(t,e){const{iScale:s,vScale:n}=e,r=s.axis==="x"?"x":"y",a=n.axis==="x"?"x":"y",o=Object.keys(t),l=new Array(o.length);let c,d,u;for(c=0,d=o.length;c<d;++c)u=o[c],l[c]={[r]:u,[a]:t[u]};return l}function Xg(t,e){const s=t&&t.options.stacked;return s||s===void 0&&e.stack!==void 0}function LX(t,e,s){return`${t.id}.${e.id}.${s.stack||s.type}`}function FX(t){const{min:e,max:s,minDefined:n,maxDefined:r}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:r?s:Number.POSITIVE_INFINITY}}function UX(t,e,s){const n=t[e]||(t[e]={});return n[s]||(n[s]={})}function M1(t,e,s,n){for(const r of e.getMatchingVisibleMetas(n).reverse()){const a=t[r.index];if(s&&a>0||!s&&a<0)return r.index}return null}function R1(t,e){const{chart:s,_cachedMeta:n}=t,r=s._stacks||(s._stacks={}),{iScale:a,vScale:o,index:l}=n,c=a.axis,d=o.axis,u=LX(a,o,n),h=e.length;let f;for(let p=0;p<h;++p){const b=e[p],{[c]:m,[d]:g}=b,v=b._stacks||(b._stacks={});f=v[d]=UX(r,u,m),f[l]=g,f._top=M1(f,o,!0,n.type),f._bottom=M1(f,o,!1,n.type);const y=f._visualValues||(f._visualValues={});y[l]=g}}function Jg(t,e){const s=t.scales;return Object.keys(s).filter(n=>s[n].axis===e).shift()}function zX(t,e){return Vo(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function VX(t,e,s){return Vo(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:s,index:e,mode:"default",type:"data"})}function Kc(t,e){const s=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const r of e){const a=r._stacks;if(!a||a[n]===void 0||a[n][s]===void 0)return;delete a[n][s],a[n]._visualValues!==void 0&&a[n]._visualValues[s]!==void 0&&delete a[n]._visualValues[s]}}}const ex=t=>t==="reset"||t==="none",D1=(t,e)=>e?t:Object.assign({},t),$X=(t,e,s)=>t&&!e.hidden&&e._stacked&&{keys:yL(s,!0),values:null};class Ad{constructor(e,s){this.chart=e,this._ctx=e.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Xg(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Kc(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,s=this._cachedMeta,n=this.getDataset(),r=(h,f,p,b)=>h==="x"?f:h==="r"?b:p,a=s.xAxisID=Xe(n.xAxisID,Jg(e,"x")),o=s.yAxisID=Xe(n.yAxisID,Jg(e,"y")),l=s.rAxisID=Xe(n.rAxisID,Jg(e,"r")),c=s.indexAxis,d=s.iAxisID=r(c,a,o,l),u=s.vAxisID=r(c,o,a,l);s.xScale=this.getScaleForId(a),s.yScale=this.getScaleForId(o),s.rScale=this.getScaleForId(l),s.iScale=this.getScaleForId(d),s.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const s=this._cachedMeta;return e===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&g1(this._data,this),e._stacked&&Kc(e)}_dataCheck(){const e=this.getDataset(),s=e.data||(e.data=[]),n=this._data;if(st(s)){const r=this._cachedMeta;this._data=OX(s,r)}else if(n!==s){if(n){g1(n,this);const r=this._cachedMeta;Kc(r),r._parsed=[]}s&&Object.isExtensible(s)&&bY(s,this),this._syncList=[],this._data=s}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const s=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const a=s._stacked;s._stacked=Xg(s.vScale,s),s.stack!==n.stack&&(r=!0,Kc(s),s.stack=n.stack),this._resyncElements(e),(r||a!==s._stacked)&&(R1(this,s._parsed),s._stacked=Xg(s.vScale,s))}configure(){const e=this.chart.config,s=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),s,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,s){const{_cachedMeta:n,_data:r}=this,{iScale:a,_stacked:o}=n,l=a.axis;let c=e===0&&s===r.length?!0:n._sorted,d=e>0&&n._parsed[e-1],u,h,f;if(this._parsing===!1)n._parsed=r,n._sorted=!0,f=r;else{es(r[e])?f=this.parseArrayData(n,r,e,s):st(r[e])?f=this.parseObjectData(n,r,e,s):f=this.parsePrimitiveData(n,r,e,s);const p=()=>h[l]===null||d&&h[l]<d[l];for(u=0;u<s;++u)n._parsed[u+e]=h=f[u],c&&(p()&&(c=!1),d=h);n._sorted=c}o&&R1(this,f)}parsePrimitiveData(e,s,n,r){const{iScale:a,vScale:o}=e,l=a.axis,c=o.axis,d=a.getLabels(),u=a===o,h=new Array(r);let f,p,b;for(f=0,p=r;f<p;++f)b=f+n,h[f]={[l]:u||a.parse(d[b],b),[c]:o.parse(s[b],b)};return h}parseArrayData(e,s,n,r){const{xScale:a,yScale:o}=e,l=new Array(r);let c,d,u,h;for(c=0,d=r;c<d;++c)u=c+n,h=s[u],l[c]={x:a.parse(h[0],u),y:o.parse(h[1],u)};return l}parseObjectData(e,s,n,r){const{xScale:a,yScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(r);let u,h,f,p;for(u=0,h=r;u<h;++u)f=u+n,p=s[f],d[u]={x:a.parse(Lm(p,l),f),y:o.parse(Lm(p,c),f)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,s,n){const r=this.chart,a=this._cachedMeta,o=s[e.axis],l={keys:yL(r,!0),values:s._stacks[e.axis]._visualValues};return A1(l,o,a.index,{mode:n})}updateRangeFromParsed(e,s,n,r){const a=n[s.axis];let o=a===null?NaN:a;const l=r&&n._stacks[s.axis];r&&l&&(r.values=l,o=A1(r,a,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,s){const n=this._cachedMeta,r=n._parsed,a=n._sorted&&e===n.iScale,o=r.length,l=this._getOtherScale(e),c=$X(s,n,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=FX(l);let f,p;function b(){p=r[f];const m=p[l.axis];return!Mn(p[e.axis])||u>m||h<m}for(f=0;f<o&&!(!b()&&(this.updateRangeFromParsed(d,e,p,c),a));++f);if(a){for(f=o-1;f>=0;--f)if(!b()){this.updateRangeFromParsed(d,e,p,c);break}}return d}getAllParsedValues(e){const s=this._cachedMeta._parsed,n=[];let r,a,o;for(r=0,a=s.length;r<a;++r)o=s[r][e.axis],Mn(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const s=this._cachedMeta,n=s.iScale,r=s.vScale,a=this.getParsed(e);return{label:n?""+n.getLabelForValue(a[n.axis]):"",value:r?""+r.getLabelForValue(a[r.axis]):""}}_update(e){const s=this._cachedMeta;this.update(e||"default"),s._clip=DX(Xe(this.options.clip,RX(s.xScale,s.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,s=this.chart,n=this._cachedMeta,r=n.data||[],a=s.chartArea,o=[],l=this._drawStart||0,c=this._drawCount||r.length-l,d=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(e,a,l,c),u=l;u<l+c;++u){const h=r[u];h.hidden||(h.active&&d?o.push(h):h.draw(e,a))}for(u=0;u<o.length;++u)o[u].draw(e,a)}getStyle(e,s){const n=s?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,s,n){const r=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];a=o.$context||(o.$context=VX(this.getContext(),e,o)),a.parsed=this.getParsed(e),a.raw=r.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=zX(this.chart.getContext(),this.index)),a.dataset=r,a.index=a.datasetIndex=this.index;return a.active=!!s,a.mode=n,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,s){return this._resolveElementOptions(this.dataElementType.id,s,e)}_resolveElementOptions(e,s="default",n){const r=s==="active",a=this._cachedDataOpts,o=e+"-"+s,l=a[o],c=this.enableOptionSharing&&Fm(n);if(l)return D1(l,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,e),h=r?[`${e}Hover`,"hover",e,""]:[e,""],f=d.getOptionScopes(this.getDataset(),u),p=Object.keys(Ut.elements[e]),b=()=>this.getContext(n,r,s),m=d.resolveNamedOptions(f,p,b,h);return m.$shared&&(m.$shared=c,a[o]=Object.freeze(D1(m,c))),m}_resolveAnimations(e,s,n){const r=this.chart,a=this._cachedDataOpts,o=`animation-${s}`,l=a[o];if(l)return l;let c;if(r.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,s),f=u.getOptionScopes(this.getDataset(),h);c=u.createResolver(f,this.getContext(e,n,s))}const d=new xL(r,c&&c.animations);return c&&c._cacheable&&(a[o]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,s){return!s||ex(e)||this.chart._animationsDisabled}_getSharedOptions(e,s){const n=this.resolveDataElementOptions(e,s),r=this._sharedOptions,a=this.getSharedOptions(n),o=this.includeOptions(s,a)||a!==r;return this.updateSharedOptions(a,s,n),{sharedOptions:a,includeOptions:o}}updateElement(e,s,n,r){ex(r)?Object.assign(e,n):this._resolveAnimations(s,r).update(e,n)}updateSharedOptions(e,s,n){e&&!ex(s)&&this._resolveAnimations(void 0,s).update(e,n)}_setStyle(e,s,n,r){e.active=r;const a=this.getStyle(s,r);this._resolveAnimations(s,n,r).update(e,{options:!r&&this.getSharedOptions(a)||a})}removeHoverStyle(e,s,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,s,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const s=this._data,n=this._cachedMeta.data;for(const[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];const r=n.length,a=s.length,o=Math.min(a,r);o&&this.parse(0,o),a>r?this._insertElements(r,a-r,e):a<r&&this._removeElements(a,r-a)}_insertElements(e,s,n=!0){const r=this._cachedMeta,a=r.data,o=e+s;let l;const c=d=>{for(d.length+=s,l=d.length-1;l>=o;l--)d[l]=d[l-s]};for(c(a),l=e;l<o;++l)a[l]=new this.dataElementType;this._parsing&&c(r._parsed),this.parse(e,s),n&&this.updateElements(a,e,s,"reset")}updateElements(e,s,n,r){}_removeElements(e,s){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(e,s);n._stacked&&Kc(n,r)}n.data.splice(e,s)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[s,n,r]=e;this[s](n,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,s){s&&this._sync(["_removeElements",e,s]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}A(Ad,"defaults",{}),A(Ad,"datasetElementType",null),A(Ad,"dataElementType",null);class Sf extends Ad{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const s=this._cachedMeta,{dataset:n,data:r=[],_dataset:a}=s,o=this.chart._animationsDisabled;let{start:l,count:c}=SY(s,r,o);this._drawStart=l,this._drawCount=c,_Y(s)&&(l=0,c=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!a._decimated,n.points=r;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:d},e),this.updateElements(r,l,c,e)}updateElements(e,s,n,r){const a=r==="reset",{iScale:o,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(s,r),f=o.axis,p=l.axis,{spanGaps:b,segment:m}=this.options,g=wu(b)?b:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||a||r==="none",y=s+n,w=e.length;let j=s>0&&this.getParsed(s-1);for(let N=0;N<w;++N){const C=e[N],_=v?C:{};if(N<s||N>=y){_.skip=!0;continue}const k=this.getParsed(N),M=pt(k[p]),L=_[f]=o.getPixelForValue(k[f],N),O=_[p]=a||M?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,k,c):k[p],N);_.skip=isNaN(L)||isNaN(O)||M,_.stop=N>0&&Math.abs(k[f]-j[f])>g,m&&(_.parsed=k,_.raw=d.data[N]),h&&(_.options=u||this.resolveDataElementOptions(N,C.active?"active":r)),v||this.updateElement(C,N,_,r),j=k}}getMaxOverflow(){const e=this._cachedMeta,s=e.dataset,n=s.options&&s.options.borderWidth||0,r=e.data||[];if(!r.length)return n;const a=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,a,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}A(Sf,"id","line"),A(Sf,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),A(Sf,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Oa(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Bb{constructor(e){A(this,"options");this.options=e||{}}static override(e){Object.assign(Bb.prototype,e)}init(){}formats(){return Oa()}parse(){return Oa()}format(){return Oa()}add(){return Oa()}diff(){return Oa()}startOf(){return Oa()}endOf(){return Oa()}}var BX={_date:Bb};function HX(t,e,s,n){const{controller:r,data:a,_sorted:o}=t,l=r._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&o&&a.length){const d=l._reversePixels?yY:Za;if(n){if(r._sharedOptions){const u=a[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const f=d(a,e,s-h),p=d(a,e,s+h);return{lo:f.lo,hi:p.hi}}}}else{const u=d(a,e,s);if(c){const{vScale:h}=r._cachedMeta,{_parsed:f}=t,p=f.slice(0,u.lo+1).reverse().findIndex(m=>!pt(m[h.axis]));u.lo-=Math.max(0,p);const b=f.slice(u.hi).findIndex(m=>!pt(m[h.axis]));u.hi+=Math.max(0,b)}return u}}return{lo:0,hi:a.length-1}}function rh(t,e,s,n,r){const a=t.getSortedVisibleDatasetMetas(),o=s[e];for(let l=0,c=a.length;l<c;++l){const{index:d,data:u}=a[l],{lo:h,hi:f}=HX(a[l],e,o,r);for(let p=h;p<=f;++p){const b=u[p];b.skip||n(b,d,p)}}}function WX(t){const e=t.indexOf("x")!==-1,s=t.indexOf("y")!==-1;return function(n,r){const a=e?Math.abs(n.x-r.x):0,o=s?Math.abs(n.y-r.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(o,2))}}function tx(t,e,s,n,r){const a=[];return!r&&!t.isPointInArea(e)||rh(t,s,e,function(l,c,d){!r&&!ju(l,t.chartArea,0)||l.inRange(e.x,e.y,n)&&a.push({element:l,datasetIndex:c,index:d})},!0),a}function qX(t,e,s,n){let r=[];function a(o,l,c){const{startAngle:d,endAngle:u}=o.getProps(["startAngle","endAngle"],n),{angle:h}=pY(o,{x:e.x,y:e.y});eL(h,d,u)&&r.push({element:o,datasetIndex:l,index:c})}return rh(t,s,e,a),r}function KX(t,e,s,n,r,a){let o=[];const l=WX(s);let c=Number.POSITIVE_INFINITY;function d(u,h,f){const p=u.inRange(e.x,e.y,r);if(n&&!p)return;const b=u.getCenterPoint(r);if(!(!!a||t.isPointInArea(b))&&!p)return;const g=l(e,b);g<c?(o=[{element:u,datasetIndex:h,index:f}],c=g):g===c&&o.push({element:u,datasetIndex:h,index:f})}return rh(t,s,e,d),o}function sx(t,e,s,n,r,a){return!a&&!t.isPointInArea(e)?[]:s==="r"&&!n?qX(t,e,s,r):KX(t,e,s,n,r,a)}function O1(t,e,s,n,r){const a=[],o=s==="x"?"inXRange":"inYRange";let l=!1;return rh(t,s,e,(c,d,u)=>{c[o]&&c[o](e[s],r)&&(a.push({element:c,datasetIndex:d,index:u}),l=l||c.inRange(e.x,e.y,r))}),n&&!l?[]:a}var GX={evaluateInteractionItems:rh,modes:{index(t,e,s,n){const r=za(e,t),a=s.axis||"x",o=s.includeInvisible||!1,l=s.intersect?tx(t,r,a,n,o):sx(t,r,a,!1,n,o),c=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const u=l[0].index,h=d.data[u];h&&!h.skip&&c.push({element:h,datasetIndex:d.index,index:u})}),c):[]},dataset(t,e,s,n){const r=za(e,t),a=s.axis||"xy",o=s.includeInvisible||!1;let l=s.intersect?tx(t,r,a,n,o):sx(t,r,a,!1,n,o);if(l.length>0){const c=l[0].datasetIndex,d=t.getDatasetMeta(c).data;l=[];for(let u=0;u<d.length;++u)l.push({element:d[u],datasetIndex:c,index:u})}return l},point(t,e,s,n){const r=za(e,t),a=s.axis||"xy",o=s.includeInvisible||!1;return tx(t,r,a,n,o)},nearest(t,e,s,n){const r=za(e,t),a=s.axis||"xy",o=s.includeInvisible||!1;return sx(t,r,a,s.intersect,n,o)},x(t,e,s,n){const r=za(e,t);return O1(t,r,"x",s.intersect,n)},y(t,e,s,n){const r=za(e,t);return O1(t,r,"y",s.intersect,n)}}};const vL=["left","top","right","bottom"];function Gc(t,e){return t.filter(s=>s.pos===e)}function L1(t,e){return t.filter(s=>vL.indexOf(s.pos)===-1&&s.box.axis===e)}function Qc(t,e){return t.sort((s,n)=>{const r=e?n:s,a=e?s:n;return r.weight===a.weight?r.index-a.index:r.weight-a.weight})}function QX(t){const e=[];let s,n,r,a,o,l;for(s=0,n=(t||[]).length;s<n;++s)r=t[s],{position:a,options:{stack:o,stackWeight:l=1}}=r,e.push({index:s,box:r,pos:a,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&a+o,stackWeight:l});return e}function ZX(t){const e={};for(const s of t){const{stack:n,pos:r,stackWeight:a}=s;if(!n||!vL.includes(r))continue;const o=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=a}return e}function YX(t,e){const s=ZX(t),{vBoxMaxWidth:n,hBoxMaxHeight:r}=e;let a,o,l;for(a=0,o=t.length;a<o;++a){l=t[a];const{fullSize:c}=l.box,d=s[l.stack],u=d&&l.stackWeight/d.weight;l.horizontal?(l.width=u?u*n:c&&e.availableWidth,l.height=r):(l.width=n,l.height=u?u*r:c&&e.availableHeight)}return s}function XX(t){const e=QX(t),s=Qc(e.filter(d=>d.box.fullSize),!0),n=Qc(Gc(e,"left"),!0),r=Qc(Gc(e,"right")),a=Qc(Gc(e,"top"),!0),o=Qc(Gc(e,"bottom")),l=L1(e,"x"),c=L1(e,"y");return{fullSize:s,leftAndTop:n.concat(a),rightAndBottom:r.concat(c).concat(o).concat(l),chartArea:Gc(e,"chartArea"),vertical:n.concat(r).concat(c),horizontal:a.concat(o).concat(l)}}function F1(t,e,s,n){return Math.max(t[s],e[s])+Math.max(t[n],e[n])}function bL(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function JX(t,e,s,n){const{pos:r,box:a}=s,o=t.maxPadding;if(!st(r)){s.size&&(t[r]-=s.size);const h=n[s.stack]||{size:0,count:1};h.size=Math.max(h.size,s.horizontal?a.height:a.width),s.size=h.size/h.count,t[r]+=s.size}a.getPadding&&bL(o,a.getPadding());const l=Math.max(0,e.outerWidth-F1(o,t,"left","right")),c=Math.max(0,e.outerHeight-F1(o,t,"top","bottom")),d=l!==t.w,u=c!==t.h;return t.w=l,t.h=c,s.horizontal?{same:d,other:u}:{same:u,other:d}}function eJ(t){const e=t.maxPadding;function s(n){const r=Math.max(e[n]-t[n],0);return t[n]+=r,r}t.y+=s("top"),t.x+=s("left"),s("right"),s("bottom")}function tJ(t,e){const s=e.maxPadding;function n(r){const a={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{a[o]=Math.max(e[o],s[o])}),a}return n(t?["left","right"]:["top","bottom"])}function ld(t,e,s,n){const r=[];let a,o,l,c,d,u;for(a=0,o=t.length,d=0;a<o;++a){l=t[a],c=l.box,c.update(l.width||e.w,l.height||e.h,tJ(l.horizontal,e));const{same:h,other:f}=JX(e,s,l,n);d|=h&&r.length,u=u||f,c.fullSize||r.push(l)}return d&&ld(r,e,s,n)||u}function Hh(t,e,s,n,r){t.top=s,t.left=e,t.right=e+n,t.bottom=s+r,t.width=n,t.height=r}function U1(t,e,s,n){const r=s.padding;let{x:a,y:o}=e;for(const l of t){const c=l.box,d=n[l.stack]||{count:1,placed:0,weight:1},u=l.stackWeight/d.weight||1;if(l.horizontal){const h=e.w*u,f=d.size||c.height;Fm(d.start)&&(o=d.start),c.fullSize?Hh(c,r.left,o,s.outerWidth-r.right-r.left,f):Hh(c,e.left+d.placed,o,h,f),d.start=o,d.placed+=h,o=c.bottom}else{const h=e.h*u,f=d.size||c.width;Fm(d.start)&&(a=d.start),c.fullSize?Hh(c,a,r.top,f,s.outerHeight-r.bottom-r.top):Hh(c,a,e.top+d.placed,f,h),d.start=a,d.placed+=h,a=c.right}}e.x=a,e.y=o}var Cn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(s){e.draw(s)}}]},t.boxes.push(e)},removeBox(t,e){const s=t.boxes?t.boxes.indexOf(e):-1;s!==-1&&t.boxes.splice(s,1)},configure(t,e,s){e.fullSize=s.fullSize,e.position=s.position,e.weight=s.weight},update(t,e,s,n){if(!t)return;const r=Rn(t.options.layout.padding),a=Math.max(e-r.width,0),o=Math.max(s-r.height,0),l=XX(t.boxes),c=l.vertical,d=l.horizontal;ot(t.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const u=c.reduce((m,g)=>g.box.options&&g.box.options.display===!1?m:m+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:s,padding:r,availableWidth:a,availableHeight:o,vBoxMaxWidth:a/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},r);bL(f,Rn(n));const p=Object.assign({maxPadding:f,w:a,h:o,x:r.left,y:r.top},r),b=YX(c.concat(d),h);ld(l.fullSize,p,h,b),ld(c,p,h,b),ld(d,p,h,b)&&ld(c,p,h,b),eJ(p),U1(l.leftAndTop,p,h,b),p.x+=p.w,p.y+=p.h,U1(l.rightAndBottom,p,h,b),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},ot(l.chartArea,m=>{const g=m.box;Object.assign(g,t.chartArea),g.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class wL{acquireContext(e,s){}releaseContext(e){return!1}addEventListener(e,s,n){}removeEventListener(e,s,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,s,n,r){return s=Math.max(0,s||e.width),n=n||e.height,{width:s,height:Math.max(0,r?Math.floor(s/r):n)}}isAttached(e){return!0}updateConfig(e){}}class sJ extends wL{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const _f="$chartjs",nJ={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},z1=t=>t===null||t==="";function rJ(t,e){const s=t.style,n=t.getAttribute("height"),r=t.getAttribute("width");if(t[_f]={initial:{height:n,width:r,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",z1(r)){const a=C1(t,"width");a!==void 0&&(t.width=a)}if(z1(n))if(t.style.height==="")t.height=t.width/(e||2);else{const a=C1(t,"height");a!==void 0&&(t.height=a)}return t}const jL=mX?{passive:!0}:!1;function iJ(t,e,s){t&&t.addEventListener(e,s,jL)}function aJ(t,e,s){t&&t.canvas&&t.canvas.removeEventListener(e,s,jL)}function oJ(t,e){const s=nJ[t.type]||t.type,{x:n,y:r}=za(t,e);return{type:s,chart:e,native:t,x:n!==void 0?n:null,y:r!==void 0?r:null}}function Vm(t,e){for(const s of t)if(s===e||s.contains(e))return!0}function lJ(t,e,s){const n=t.canvas,r=new MutationObserver(a=>{let o=!1;for(const l of a)o=o||Vm(l.addedNodes,n),o=o&&!Vm(l.removedNodes,n);o&&s()});return r.observe(document,{childList:!0,subtree:!0}),r}function cJ(t,e,s){const n=t.canvas,r=new MutationObserver(a=>{let o=!1;for(const l of a)o=o||Vm(l.removedNodes,n),o=o&&!Vm(l.addedNodes,n);o&&s()});return r.observe(document,{childList:!0,subtree:!0}),r}const Su=new Map;let V1=0;function NL(){const t=window.devicePixelRatio;t!==V1&&(V1=t,Su.forEach((e,s)=>{s.currentDevicePixelRatio!==t&&e()}))}function dJ(t,e){Su.size||window.addEventListener("resize",NL),Su.set(t,e)}function uJ(t){Su.delete(t),Su.size||window.removeEventListener("resize",NL)}function hJ(t,e,s){const n=t.canvas,r=n&&$b(n);if(!r)return;const a=nL((l,c)=>{const d=r.clientWidth;s(l,c),d<r.clientWidth&&s()},window),o=new ResizeObserver(l=>{const c=l[0],d=c.contentRect.width,u=c.contentRect.height;d===0&&u===0||a(d,u)});return o.observe(r),dJ(t,a),o}function nx(t,e,s){s&&s.disconnect(),e==="resize"&&uJ(t)}function fJ(t,e,s){const n=t.canvas,r=nL(a=>{t.ctx!==null&&s(oJ(a,t))},t);return iJ(n,e,r),r}class mJ extends wL{acquireContext(e,s){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(rJ(e,s),n):null}releaseContext(e){const s=e.canvas;if(!s[_f])return!1;const n=s[_f].initial;["height","width"].forEach(a=>{const o=n[a];pt(o)?s.removeAttribute(a):s.setAttribute(a,o)});const r=n.style||{};return Object.keys(r).forEach(a=>{s.style[a]=r[a]}),s.width=s.width,delete s[_f],!0}addEventListener(e,s,n){this.removeEventListener(e,s);const r=e.$proxies||(e.$proxies={}),o={attach:lJ,detach:cJ,resize:hJ}[s]||fJ;r[s]=o(e,s,n)}removeEventListener(e,s){const n=e.$proxies||(e.$proxies={}),r=n[s];if(!r)return;({attach:nx,detach:nx,resize:nx}[s]||aJ)(e,s,r),n[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,s,n,r){return fX(e,s,n,r)}isAttached(e){const s=e&&$b(e);return!!(s&&s.isConnected)}}function pJ(t){return!Vb()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?sJ:mJ}var Zh;let $o=(Zh=class{constructor(){A(this,"x");A(this,"y");A(this,"active",!1);A(this,"options");A(this,"$animations")}tooltipPosition(e){const{x:s,y:n}=this.getProps(["x","y"],e);return{x:s,y:n}}hasValue(){return wu(this.x)&&wu(this.y)}getProps(e,s){const n=this.$animations;if(!s||!n)return this;const r={};return e.forEach(a=>{r[a]=n[a]&&n[a].active()?n[a]._to:this[a]}),r}},A(Zh,"defaults",{}),A(Zh,"defaultRoutes"),Zh);function gJ(t,e){const s=t.options.ticks,n=xJ(t),r=Math.min(s.maxTicksLimit||n,n),a=s.major.enabled?vJ(e):[],o=a.length,l=a[0],c=a[o-1],d=[];if(o>r)return bJ(e,d,a,o/r),d;const u=yJ(a,e,r);if(o>0){let h,f;const p=o>1?Math.round((c-l)/(o-1)):null;for(Wh(e,d,u,pt(p)?0:l-p,l),h=0,f=o-1;h<f;h++)Wh(e,d,u,a[h],a[h+1]);return Wh(e,d,u,c,pt(p)?e.length:c+p),d}return Wh(e,d,u),d}function xJ(t){const e=t.options.offset,s=t._tickSize(),n=t._length/s+(e?0:1),r=t._maxLength/s;return Math.floor(Math.min(n,r))}function yJ(t,e,s){const n=wJ(t),r=e.length/s;if(!n)return Math.max(r,1);const a=dY(n);for(let o=0,l=a.length-1;o<l;o++){const c=a[o];if(c>r)return c}return Math.max(r,1)}function vJ(t){const e=[];let s,n;for(s=0,n=t.length;s<n;s++)t[s].major&&e.push(s);return e}function bJ(t,e,s,n){let r=0,a=s[0],o;for(n=Math.ceil(n),o=0;o<t.length;o++)o===a&&(e.push(t[o]),r++,a=s[r*n])}function Wh(t,e,s,n,r){const a=Xe(n,0),o=Math.min(Xe(r,t.length),t.length);let l=0,c,d,u;for(s=Math.ceil(s),r&&(c=r-n,s=c/Math.floor(c/s)),u=a;u<0;)l++,u=Math.round(a+l*s);for(d=Math.max(a,0);d<o;d++)d===u&&(e.push(t[d]),l++,u=Math.round(a+l*s))}function wJ(t){const e=t.length;let s,n;if(e<2)return!1;for(n=t[0],s=1;s<e;++s)if(t[s]-t[s-1]!==n)return!1;return n}const jJ=t=>t==="left"?"right":t==="right"?"left":t,$1=(t,e,s)=>e==="top"||e==="left"?t[e]+s:t[e]-s,B1=(t,e)=>Math.min(e||t,t);function H1(t,e){const s=[],n=t.length/e,r=t.length;let a=0;for(;a<r;a+=n)s.push(t[Math.floor(a)]);return s}function NJ(t,e,s){const n=t.ticks.length,r=Math.min(e,n-1),a=t._startPixel,o=t._endPixel,l=1e-6;let c=t.getPixelForTick(r),d;if(!(s&&(n===1?d=Math.max(c-a,o-c):e===0?d=(t.getPixelForTick(1)-c)/2:d=(c-t.getPixelForTick(r-1))/2,c+=r<e?d:-d,c<a-l||c>o+l)))return c}function SJ(t,e){ot(t,s=>{const n=s.gc,r=n.length/2;let a;if(r>e){for(a=0;a<r;++a)delete s.data[n[a]];n.splice(0,r)}})}function Zc(t){return t.drawTicks?t.tickLength:0}function W1(t,e){if(!t.display)return 0;const s=vs(t.font,e),n=Rn(t.padding);return(es(t.text)?t.text.length:1)*s.lineHeight+n.height}function _J(t,e){return Vo(t,{scale:e,type:"scale"})}function CJ(t,e,s){return Vo(t,{tick:s,index:e,type:"tick"})}function kJ(t,e,s){let n=Rb(t);return(s&&e!=="right"||!s&&e==="right")&&(n=jJ(n)),n}function IJ(t,e,s,n){const{top:r,left:a,bottom:o,right:l,chart:c}=t,{chartArea:d,scales:u}=c;let h=0,f,p,b;const m=o-r,g=l-a;if(t.isHorizontal()){if(p=xs(n,a,l),st(s)){const v=Object.keys(s)[0],y=s[v];b=u[v].getPixelForValue(y)+m-e}else s==="center"?b=(d.bottom+d.top)/2+m-e:b=$1(t,s,e);f=l-a}else{if(st(s)){const v=Object.keys(s)[0],y=s[v];p=u[v].getPixelForValue(y)-g+e}else s==="center"?p=(d.left+d.right)/2-g+e:p=$1(t,s,e);b=xs(n,o,r),h=s==="left"?-Qn:Qn}return{titleX:p,titleY:b,maxWidth:f,rotation:h}}class Pc extends $o{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,s){return e}getUserBounds(){let{_userMin:e,_userMax:s,_suggestedMin:n,_suggestedMax:r}=this;return e=ur(e,Number.POSITIVE_INFINITY),s=ur(s,Number.NEGATIVE_INFINITY),n=ur(n,Number.POSITIVE_INFINITY),r=ur(r,Number.NEGATIVE_INFINITY),{min:ur(e,n),max:ur(s,r),minDefined:Mn(e),maxDefined:Mn(s)}}getMinMax(e){let{min:s,max:n,minDefined:r,maxDefined:a}=this.getUserBounds(),o;if(r&&a)return{min:s,max:n};const l=this.getMatchingVisibleMetas();for(let c=0,d=l.length;c<d;++c)o=l[c].controller.getMinMax(this,e),r||(s=Math.min(s,o.min)),a||(n=Math.max(n,o.max));return s=a&&s>n?n:s,n=r&&s>n?s:n,{min:ur(s,ur(n,s)),max:ur(n,ur(s,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){vt(this.options.beforeUpdate,[this])}update(e,s,n){const{beginAtZero:r,grace:a,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=s,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=WY(this,a,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?H1(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=gJ(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,s,n;this.isHorizontal()?(s=this.left,n=this.right):(s=this.top,n=this.bottom,e=!e),this._startPixel=s,this._endPixel=n,this._reversePixels=e,this._length=n-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){vt(this.options.afterUpdate,[this])}beforeSetDimensions(){vt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){vt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),vt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){vt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const s=this.options.ticks;let n,r,a;for(n=0,r=e.length;n<r;n++)a=e[n],a.label=vt(s.callback,[a.value,n,e],this)}afterTickToLabelConversion(){vt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){vt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,s=e.ticks,n=B1(this.ticks.length,e.ticks.maxTicksLimit),r=s.minRotation||0,a=s.maxRotation;let o=r,l,c,d;if(!this._isVisible()||!s.display||r>=a||n<=1||!this.isHorizontal()){this.labelRotation=r;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,p=_n(this.chart.width-h,0,this.maxWidth);l=e.offset?this.maxWidth/n:p/(n-1),h+6>l&&(l=p/(n-(e.offset?.5:1)),c=this.maxHeight-Zc(e.grid)-s.padding-W1(e.title,this.chart.options.font),d=Math.sqrt(h*h+f*f),o=mY(Math.min(Math.asin(_n((u.highest.height+6)/l,-1,1)),Math.asin(_n(c/d,-1,1))-Math.asin(_n(f/d,-1,1)))),o=Math.max(r,Math.min(a,o))),this.labelRotation=o}afterCalculateLabelRotation(){vt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){vt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:s,options:{ticks:n,title:r,grid:a}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const c=W1(r,s.options.font);if(l?(e.width=this.maxWidth,e.height=Zc(a)+c):(e.height=this.maxHeight,e.width=Zc(a)+c),n.display&&this.ticks.length){const{first:d,last:u,widest:h,highest:f}=this._getLabelSizes(),p=n.padding*2,b=Qa(this.labelRotation),m=Math.cos(b),g=Math.sin(b);if(l){const v=n.mirror?0:g*h.width+m*f.height;e.height=Math.min(this.maxHeight,e.height+v+p)}else{const v=n.mirror?0:m*h.width+g*f.height;e.width=Math.min(this.maxWidth,e.width+v+p)}this._calculatePadding(d,u,g,m)}}this._handleMargins(),l?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,s,n,r){const{ticks:{align:a,padding:o},position:l}=this.options,c=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;c?d?(f=r*e.width,p=n*s.height):(f=n*e.height,p=r*s.width):a==="start"?p=s.width:a==="end"?f=e.width:a!=="inner"&&(f=e.width/2,p=s.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-h+o)*this.width/(this.width-h),0)}else{let u=s.height/2,h=e.height/2;a==="start"?(u=0,h=e.height):a==="end"&&(u=s.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){vt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:s}=this.options;return s==="top"||s==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let s,n;for(s=0,n=e.length;s<n;s++)pt(e[s].label)&&(e.splice(s,1),n--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const s=this.options.ticks.sampleSize;let n=this.ticks;s<n.length&&(n=H1(n,s)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,s,n){const{ctx:r,_longestTextCache:a}=this,o=[],l=[],c=Math.floor(s/B1(s,n));let d=0,u=0,h,f,p,b,m,g,v,y,w,j,N;for(h=0;h<s;h+=c){if(b=e[h].label,m=this._resolveTickFontOptions(h),r.font=g=m.string,v=a[g]=a[g]||{data:{},gc:[]},y=m.lineHeight,w=j=0,!pt(b)&&!es(b))w=w1(r,v.data,v.gc,w,b),j=y;else if(es(b))for(f=0,p=b.length;f<p;++f)N=b[f],!pt(N)&&!es(N)&&(w=w1(r,v.data,v.gc,w,N),j+=y);o.push(w),l.push(j),d=Math.max(w,d),u=Math.max(j,u)}SJ(a,s);const C=o.indexOf(d),_=l.indexOf(u),k=M=>({width:o[M]||0,height:l[M]||0});return{first:k(0),last:k(s-1),widest:k(C),highest:k(_),widths:o,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,s){return NaN}getValueForPixel(e){}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const s=this._startPixel+e*this._length;return xY(this._alignToPixels?Da(this.chart,s,0):s)}getDecimalForPixel(e){const s=(e-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:s}=this;return e<0&&s<0?s:e>0&&s>0?e:0}getContext(e){const s=this.ticks||[];if(e>=0&&e<s.length){const n=s[e];return n.$context||(n.$context=CJ(this.getContext(),e,n))}return this.$context||(this.$context=_J(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,s=Qa(this.labelRotation),n=Math.abs(Math.cos(s)),r=Math.abs(Math.sin(s)),a=this._getLabelSizes(),o=e.autoSkipPadding||0,l=a?a.widest.width+o:0,c=a?a.highest.height+o:0;return this.isHorizontal()?c*n>l*r?l/n:c/r:c*r<l*n?c/n:l/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const s=this.axis,n=this.chart,r=this.options,{grid:a,position:o,border:l}=r,c=a.offset,d=this.isHorizontal(),h=this.ticks.length+(c?1:0),f=Zc(a),p=[],b=l.setContext(this.getContext()),m=b.display?b.width:0,g=m/2,v=function(z){return Da(n,z,m)};let y,w,j,N,C,_,k,M,L,O,I,B;if(o==="top")y=v(this.bottom),_=this.bottom-f,M=y-g,O=v(e.top)+g,B=e.bottom;else if(o==="bottom")y=v(this.top),O=e.top,B=v(e.bottom)-g,_=y+g,M=this.top+f;else if(o==="left")y=v(this.right),C=this.right-f,k=y-g,L=v(e.left)+g,I=e.right;else if(o==="right")y=v(this.left),L=e.left,I=v(e.right)-g,C=y+g,k=this.left+f;else if(s==="x"){if(o==="center")y=v((e.top+e.bottom)/2+.5);else if(st(o)){const z=Object.keys(o)[0],q=o[z];y=v(this.chart.scales[z].getPixelForValue(q))}O=e.top,B=e.bottom,_=y+g,M=_+f}else if(s==="y"){if(o==="center")y=v((e.left+e.right)/2);else if(st(o)){const z=Object.keys(o)[0],q=o[z];y=v(this.chart.scales[z].getPixelForValue(q))}C=y-g,k=C-f,L=e.left,I=e.right}const H=Xe(r.ticks.maxTicksLimit,h),J=Math.max(1,Math.ceil(h/H));for(w=0;w<h;w+=J){const z=this.getContext(w),q=a.setContext(z),F=l.setContext(z),W=q.lineWidth,Q=q.color,ae=F.dash||[],he=F.dashOffset,Be=q.tickWidth,Ae=q.tickColor,Ye=q.tickBorderDash||[],Ue=q.tickBorderDashOffset;j=NJ(this,w,c),j!==void 0&&(N=Da(n,j,W),d?C=k=L=I=N:_=M=O=B=N,p.push({tx1:C,ty1:_,tx2:k,ty2:M,x1:L,y1:O,x2:I,y2:B,width:W,color:Q,borderDash:ae,borderDashOffset:he,tickWidth:Be,tickColor:Ae,tickBorderDash:Ye,tickBorderDashOffset:Ue}))}return this._ticksLength=h,this._borderValue=y,p}_computeLabelItems(e){const s=this.axis,n=this.options,{position:r,ticks:a}=n,o=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:d,padding:u,mirror:h}=a,f=Zc(n.grid),p=f+u,b=h?-u:p,m=-Qa(this.labelRotation),g=[];let v,y,w,j,N,C,_,k,M,L,O,I,B="middle";if(r==="top")C=this.bottom-b,_=this._getXAxisLabelAlignment();else if(r==="bottom")C=this.top+b,_=this._getXAxisLabelAlignment();else if(r==="left"){const J=this._getYAxisLabelAlignment(f);_=J.textAlign,N=J.x}else if(r==="right"){const J=this._getYAxisLabelAlignment(f);_=J.textAlign,N=J.x}else if(s==="x"){if(r==="center")C=(e.top+e.bottom)/2+p;else if(st(r)){const J=Object.keys(r)[0],z=r[J];C=this.chart.scales[J].getPixelForValue(z)+p}_=this._getXAxisLabelAlignment()}else if(s==="y"){if(r==="center")N=(e.left+e.right)/2-p;else if(st(r)){const J=Object.keys(r)[0],z=r[J];N=this.chart.scales[J].getPixelForValue(z)}_=this._getYAxisLabelAlignment(f).textAlign}s==="y"&&(c==="start"?B="top":c==="end"&&(B="bottom"));const H=this._getLabelSizes();for(v=0,y=l.length;v<y;++v){w=l[v],j=w.label;const J=a.setContext(this.getContext(v));k=this.getPixelForTick(v)+a.labelOffset,M=this._resolveTickFontOptions(v),L=M.lineHeight,O=es(j)?j.length:1;const z=O/2,q=J.color,F=J.textStrokeColor,W=J.textStrokeWidth;let Q=_;o?(N=k,_==="inner"&&(v===y-1?Q=this.options.reverse?"left":"right":v===0?Q=this.options.reverse?"right":"left":Q="center"),r==="top"?d==="near"||m!==0?I=-O*L+L/2:d==="center"?I=-H.highest.height/2-z*L+L:I=-H.highest.height+L/2:d==="near"||m!==0?I=L/2:d==="center"?I=H.highest.height/2-z*L:I=H.highest.height-O*L,h&&(I*=-1),m!==0&&!J.showLabelBackdrop&&(N+=L/2*Math.sin(m))):(C=k,I=(1-O)*L/2);let ae;if(J.showLabelBackdrop){const he=Rn(J.backdropPadding),Be=H.heights[v],Ae=H.widths[v];let Ye=I-he.top,Ue=0-he.left;switch(B){case"middle":Ye-=Be/2;break;case"bottom":Ye-=Be;break}switch(_){case"center":Ue-=Ae/2;break;case"right":Ue-=Ae;break;case"inner":v===y-1?Ue-=Ae:v>0&&(Ue-=Ae/2);break}ae={left:Ue,top:Ye,width:Ae+he.width,height:Be+he.height,color:J.backdropColor}}g.push({label:j,font:M,textOffset:I,options:{rotation:m,color:q,strokeColor:F,strokeWidth:W,textAlign:Q,textBaseline:B,translation:[N,C],backdrop:ae}})}return g}_getXAxisLabelAlignment(){const{position:e,ticks:s}=this.options;if(-Qa(this.labelRotation))return e==="top"?"left":"right";let r="center";return s.align==="start"?r="left":s.align==="end"?r="right":s.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:s,ticks:{crossAlign:n,mirror:r,padding:a}}=this.options,o=this._getLabelSizes(),l=e+a,c=o.widest.width;let d,u;return s==="left"?r?(u=this.right+a,n==="near"?d="left":n==="center"?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-l,n==="near"?d="right":n==="center"?(d="center",u-=c/2):(d="left",u=this.left)):s==="right"?r?(u=this.left+a,n==="near"?d="right":n==="center"?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+l,n==="near"?d="left":n==="center"?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:s},left:n,top:r,width:a,height:o}=this;s&&(e.save(),e.fillStyle=s,e.fillRect(n,r,a,o),e.restore())}getLineWidthForValue(e){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const r=this.ticks.findIndex(a=>a.value===e);return r>=0?s.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const s=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,o;const l=(c,d,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(d.x,d.y),n.stroke(),n.restore())};if(s.display)for(a=0,o=r.length;a<o;++a){const c=r[a];s.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),s.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:s,options:{border:n,grid:r}}=this,a=n.setContext(this.getContext()),o=n.display?a.width:0;if(!o)return;const l=r.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,u,h,f;this.isHorizontal()?(d=Da(e,this.left,o)-o/2,u=Da(e,this.right,l)+l/2,h=f=c):(h=Da(e,this.top,o)-o/2,f=Da(e,this.bottom,l)+l/2,d=u=c),s.save(),s.lineWidth=a.width,s.strokeStyle=a.color,s.beginPath(),s.moveTo(d,h),s.lineTo(u,f),s.stroke(),s.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,r=this._computeLabelArea();r&&Ob(n,r);const a=this.getLabelItems(e);for(const o of a){const l=o.options,c=o.font,d=o.label,u=o.textOffset;Nu(n,d,0,u,c,l)}r&&Lb(n)}drawTitle(){const{ctx:e,options:{position:s,title:n,reverse:r}}=this;if(!n.display)return;const a=vs(n.font),o=Rn(n.padding),l=n.align;let c=a.lineHeight/2;s==="bottom"||s==="center"||st(s)?(c+=o.bottom,es(n.text)&&(c+=a.lineHeight*(n.text.length-1))):c+=o.top;const{titleX:d,titleY:u,maxWidth:h,rotation:f}=IJ(this,c,s,l);Nu(e,n.text,0,0,a,{color:n.color,maxWidth:h,rotation:f,textAlign:kJ(l,s,r),textBaseline:"middle",translation:[d,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,s=e.ticks&&e.ticks.z||0,n=Xe(e.grid&&e.grid.z,-1),r=Xe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Pc.prototype.draw?[{z:s,draw:a=>{this.draw(a)}}]:[{z:n,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:s,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const s=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let a,o;for(a=0,o=s.length;a<o;++a){const l=s[a];l[n]===this.id&&(!e||l.type===e)&&r.push(l)}return r}_resolveTickFontOptions(e){const s=this.options.ticks.setContext(this.getContext(e));return vs(s.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class qh{constructor(e,s,n){this.type=e,this.scope=s,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const s=Object.getPrototypeOf(e);let n;TJ(s)&&(n=this.register(s));const r=this.items,a=e.id,o=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in r||(r[a]=e,EJ(e,o,n),this.override&&Ut.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const s=this.items,n=e.id,r=this.scope;n in s&&delete s[n],r&&n in Ut[r]&&(delete Ut[r][n],this.override&&delete Ro[n])}}function EJ(t,e,s){const n=bu(Object.create(null),[s?Ut.get(s):{},Ut.get(e),t.defaults]);Ut.set(e,n),t.defaultRoutes&&PJ(e,t.defaultRoutes),t.descriptors&&Ut.describe(e,t.descriptors)}function PJ(t,e){Object.keys(e).forEach(s=>{const n=s.split("."),r=n.pop(),a=[t].concat(n).join("."),o=e[s].split("."),l=o.pop(),c=o.join(".");Ut.route(a,r,c,l)})}function TJ(t){return"id"in t&&"defaults"in t}class AJ{constructor(){this.controllers=new qh(Ad,"datasets",!0),this.elements=new qh($o,"elements"),this.plugins=new qh(Object,"plugins"),this.scales=new qh(Pc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,s,n){[...s].forEach(r=>{const a=n||this._getRegistryForType(r);n||a.isForType(r)||a===this.plugins&&r.id?this._exec(e,a,r):ot(r,o=>{const l=n||this._getRegistryForType(o);this._exec(e,l,o)})})}_exec(e,s,n){const r=Ab(e);vt(n["before"+r],[],n),s[e](n),vt(n["after"+r],[],n)}_getRegistryForType(e){for(let s=0;s<this._typedRegistries.length;s++){const n=this._typedRegistries[s];if(n.isForType(e))return n}return this.plugins}_get(e,s,n){const r=s.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return r}}var mr=new AJ;class MJ{constructor(){this._init=[]}notify(e,s,n,r){s==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const a=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(a,e,s,n);return s==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,s,n,r){r=r||{};for(const a of e){const o=a.plugin,l=o[n],c=[s,r,a.options];if(vt(l,c,o)===!1&&r.cancelable)return!1}return!0}invalidate(){pt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),s}_createDescriptors(e,s){const n=e&&e.config,r=Xe(n.options&&n.options.plugins,{}),a=RJ(n);return r===!1&&!s?[]:OJ(e,a,r,s)}_notifyStateChanges(e){const s=this._oldCache||[],n=this._cache,r=(a,o)=>a.filter(l=>!o.some(c=>l.plugin.id===c.plugin.id));this._notify(r(s,n),e,"stop"),this._notify(r(n,s),e,"start")}}function RJ(t){const e={},s=[],n=Object.keys(mr.plugins.items);for(let a=0;a<n.length;a++)s.push(mr.getPlugin(n[a]));const r=t.plugins||[];for(let a=0;a<r.length;a++){const o=r[a];s.indexOf(o)===-1&&(s.push(o),e[o.id]=!0)}return{plugins:s,localIds:e}}function DJ(t,e){return!e&&t===!1?null:t===!0?{}:t}function OJ(t,{plugins:e,localIds:s},n,r){const a=[],o=t.getContext();for(const l of e){const c=l.id,d=DJ(n[c],r);d!==null&&a.push({plugin:l,options:LJ(t.config,{plugin:l,local:s[c]},d,o)})}return a}function LJ(t,{plugin:e,local:s},n,r){const a=t.pluginScopeKeys(e),o=t.getOptionScopes(n,a);return s&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Jy(t,e){const s=Ut.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||s.indexAxis||"x"}function FJ(t,e){let s=t;return t==="_index_"?s=e:t==="_value_"&&(s=e==="x"?"y":"x"),s}function UJ(t,e){return t===e?"_index_":"_value_"}function q1(t){if(t==="x"||t==="y"||t==="r")return t}function zJ(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function e0(t,...e){if(q1(t))return t;for(const s of e){const n=s.axis||zJ(s.position)||t.length>1&&q1(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function K1(t,e,s){if(s[e+"AxisID"]===t)return{axis:e}}function VJ(t,e){if(e.data&&e.data.datasets){const s=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(s.length)return K1(t,"x",s[0])||K1(t,"y",s[0])}return{}}function $J(t,e){const s=Ro[t.type]||{scales:{}},n=e.scales||{},r=Jy(t.type,e),a=Object.create(null);return Object.keys(n).forEach(o=>{const l=n[o];if(!st(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=e0(o,l,VJ(o,t),Ut.scales[l.type]),d=UJ(c,r),u=s.scales||{};a[o]=kd(Object.create(null),[{axis:c},l,u[c],u[d]])}),t.data.datasets.forEach(o=>{const l=o.type||t.type,c=o.indexAxis||Jy(l,e),u=(Ro[l]||{}).scales||{};Object.keys(u).forEach(h=>{const f=FJ(h,c),p=o[f+"AxisID"]||f;a[p]=a[p]||Object.create(null),kd(a[p],[{axis:f},n[p],u[h]])})}),Object.keys(a).forEach(o=>{const l=a[o];kd(l,[Ut.scales[l.type],Ut.scale])}),a}function SL(t){const e=t.options||(t.options={});e.plugins=Xe(e.plugins,{}),e.scales=$J(t,e)}function _L(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function BJ(t){return t=t||{},t.data=_L(t.data),SL(t),t}const G1=new Map,CL=new Set;function Kh(t,e){let s=G1.get(t);return s||(s=e(),G1.set(t,s),CL.add(s)),s}const Yc=(t,e,s)=>{const n=Lm(e,s);n!==void 0&&t.add(n)};class HJ{constructor(e){this._config=BJ(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=_L(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),SL(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Kh(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,s){return Kh(`${e}.transition.${s}`,()=>[[`datasets.${e}.transitions.${s}`,`transitions.${s}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,s){return Kh(`${e}-${s}`,()=>[[`datasets.${e}.elements.${s}`,`datasets.${e}`,`elements.${s}`,""]])}pluginScopeKeys(e){const s=e.id,n=this.type;return Kh(`${n}-plugin-${s}`,()=>[[`plugins.${s}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,s){const n=this._scopeCache;let r=n.get(e);return(!r||s)&&(r=new Map,n.set(e,r)),r}getOptionScopes(e,s,n){const{options:r,type:a}=this,o=this._cachedScopes(e,n),l=o.get(s);if(l)return l;const c=new Set;s.forEach(u=>{e&&(c.add(e),u.forEach(h=>Yc(c,e,h))),u.forEach(h=>Yc(c,r,h)),u.forEach(h=>Yc(c,Ro[a]||{},h)),u.forEach(h=>Yc(c,Ut,h)),u.forEach(h=>Yc(c,Zy,h))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),CL.has(s)&&o.set(s,d),d}chartOptionScopes(){const{options:e,type:s}=this;return[e,Ro[s]||{},Ut.datasets[s]||{},{type:s},Ut,Zy]}resolveNamedOptions(e,s,n,r=[""]){const a={$shared:!0},{resolver:o,subPrefixes:l}=Q1(this._resolverCache,e,r);let c=o;if(qJ(o,s)){a.$shared=!1,n=_a(n)?n():n;const d=this.createResolver(e,n,l);c=fc(o,n,d)}for(const d of s)a[d]=c[d];return a}createResolver(e,s,n=[""],r){const{resolver:a}=Q1(this._resolverCache,e,n);return st(s)?fc(a,s,void 0,r):a}}function Q1(t,e,s){let n=t.get(e);n||(n=new Map,t.set(e,n));const r=s.join();let a=n.get(r);return a||(a={resolver:Fb(e,s),subPrefixes:s.filter(l=>!l.toLowerCase().includes("hover"))},n.set(r,a)),a}const WJ=t=>st(t)&&Object.getOwnPropertyNames(t).some(e=>_a(t[e]));function qJ(t,e){const{isScriptable:s,isIndexable:n}=cL(t);for(const r of e){const a=s(r),o=n(r),l=(o||a)&&t[r];if(a&&(_a(l)||WJ(l))||o&&es(l))return!0}return!1}var KJ="4.5.0";const GJ=["top","bottom","left","right","chartArea"];function Z1(t,e){return t==="top"||t==="bottom"||GJ.indexOf(t)===-1&&e==="x"}function Y1(t,e){return function(s,n){return s[t]===n[t]?s[e]-n[e]:s[t]-n[t]}}function X1(t){const e=t.chart,s=e.options.animation;e.notifyPlugins("afterRender"),vt(s&&s.onComplete,[t],e)}function QJ(t){const e=t.chart,s=e.options.animation;vt(s&&s.onProgress,[t],e)}function kL(t){return Vb()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Cf={},J1=t=>{const e=kL(t);return Object.values(Cf).filter(s=>s.canvas===e).pop()};function ZJ(t,e,s){const n=Object.keys(t);for(const r of n){const a=+r;if(a>=e){const o=t[r];delete t[r],(s>0||a>e)&&(t[a+s]=o)}}}function YJ(t,e,s,n){return!s||t.type==="mouseout"?null:n?e:t}var Pi;let Fp=(Pi=class{static register(...e){mr.add(...e),eS()}static unregister(...e){mr.remove(...e),eS()}constructor(e,s){const n=this.config=new HJ(s),r=kL(e),a=J1(r);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||pJ(r)),this.platform.updateConfig(n);const l=this.platform.acquireContext(r,o.aspectRatio),c=l&&l.canvas,d=c&&c.height,u=c&&c.width;if(this.id=tY(),this.ctx=l,this.canvas=c,this.width=u,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new MJ,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=jY(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Cf[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Qr.listen(this,"complete",X1),Qr.listen(this,"progress",QJ),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:s},width:n,height:r,_aspectRatio:a}=this;return pt(e)?s&&a?a:r?n/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return mr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():_1(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return j1(this.canvas,this.ctx),this}stop(){return Qr.stop(this),this}resize(e,s){Qr.running(this)?this._resizeBeforeDraw={width:e,height:s}:this._resize(e,s)}_resize(e,s){const n=this.options,r=this.canvas,a=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,s,a),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,_1(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),vt(n.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};ot(s,(n,r)=>{n.id=r})}buildOrUpdateScales(){const e=this.options,s=e.scales,n=this.scales,r=Object.keys(n).reduce((o,l)=>(o[l]=!1,o),{});let a=[];s&&(a=a.concat(Object.keys(s).map(o=>{const l=s[o],c=e0(o,l),d=c==="r",u=c==="x";return{options:l,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),ot(a,o=>{const l=o.options,c=l.id,d=e0(c,l),u=Xe(l.type,o.dtype);(l.position===void 0||Z1(l.position,d)!==Z1(o.dposition))&&(l.position=o.dposition),r[c]=!0;let h=null;if(c in n&&n[c].type===u)h=n[c];else{const f=mr.getScale(u);h=new f({id:c,type:u,ctx:this.ctx,chart:this}),n[h.id]=h}h.init(l,e)}),ot(r,(o,l)=>{o||delete n[l]}),ot(n,o=>{Cn.configure(this,o,o.options),Cn.addBox(this,o)})}_updateMetasets(){const e=this._metasets,s=this.data.datasets.length,n=e.length;if(e.sort((r,a)=>r.index-a.index),n>s){for(let r=s;r<n;++r)this._destroyDatasetMeta(r);e.splice(s,n-s)}this._sortedMetasets=e.slice(0).sort(Y1("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:s}}=this;e.length>s.length&&delete this._stacks,e.forEach((n,r)=>{s.filter(a=>a===n._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],s=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=s.length;n<r;n++){const a=s[n];let o=this.getDatasetMeta(n);const l=a.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=l,o.indexAxis=a.indexAxis||Jy(l,this.options),o.order=a.order||0,o.index=n,o.label=""+a.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const c=mr.getController(l),{datasetElementType:d,dataElementType:u}=Ut.datasets[l];Object.assign(c,{dataElementType:mr.getElement(u),datasetElementType:d&&mr.getElement(d)}),o.controller=new c(this,n),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){ot(this.data.datasets,(e,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const s=this.config;s.update();const n=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:h}=this.getDatasetMeta(d),f=!r&&a.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),r||ot(a,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Y1("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){ot(this.scales,e=>{Cn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,s=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!h1(s,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,s=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:a}of s){const o=n==="_removeElements"?-a:a;ZJ(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const s=this.data.datasets.length,n=a=>new Set(e.filter(o=>o[0]===a).map((o,l)=>l+","+o.splice(1).join(","))),r=n(0);for(let a=1;a<s;a++)if(!h1(r,n(a)))return;return Array.from(r).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Cn.update(this,this.width,this.height,e);const s=this.chartArea,n=s.width<=0||s.height<=0;this._layers=[],ot(this.boxes,r=>{n&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,a)=>{r._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let s=0,n=this.data.datasets.length;s<n;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,n=this.data.datasets.length;s<n;++s)this._updateDataset(s,_a(e)?e({datasetIndex:s}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,s){const n=this.getDatasetMeta(e),r={meta:n,index:e,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(n.controller._update(s),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Qr.has(this)?this.attached&&!Qr.running(this)&&Qr.start(this):(this.draw(),X1({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(e=0;e<s.length&&s[e].z<=0;++e)s[e].draw(this.chartArea);for(this._drawDatasets();e<s.length;++e)s[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const s=this._sortedMetasets,n=[];let r,a;for(r=0,a=s.length;r<a;++r){const o=s[r];(!e||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let s=e.length-1;s>=0;--s)this._drawDataset(e[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const s=this.ctx,n={meta:e,index:e.index,cancelable:!0},r=IX(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(r&&Ob(s,r),e.controller.draw(),r&&Lb(s),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return ju(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,s,n,r){const a=GX.modes[s];return typeof a=="function"?a(this,e,n,r):[]}getDatasetMeta(e){const s=this.data.datasets[e],n=this._metasets;let r=n.filter(a=>a&&a._dataset===s).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:e,_dataset:s,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=Vo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const s=this.data.datasets[e];if(!s)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!s.hidden}setDatasetVisibility(e,s){const n=this.getDatasetMeta(e);n.hidden=!s}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,s,n){const r=n?"show":"hide",a=this.getDatasetMeta(e),o=a.controller._resolveAnimations(void 0,r);Fm(s)?(a.data[s].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(a,{visible:n}),this.update(l=>l.datasetIndex===e?r:void 0))}hide(e,s){this._updateVisibility(e,s,!1)}show(e,s){this._updateVisibility(e,s,!0)}_destroyDatasetMeta(e){const s=this._metasets[e];s&&s.controller&&s.controller._destroy(),delete this._metasets[e]}_stop(){let e,s;for(this.stop(),Qr.remove(this),e=0,s=this.data.datasets.length;e<s;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:s}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),j1(e,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete Cf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,s=this.platform,n=(a,o)=>{s.addEventListener(this,a,o),e[a]=o},r=(a,o,l)=>{a.offsetX=o,a.offsetY=l,this._eventHandler(a)};ot(this.options.events,a=>n(a,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,s=this.platform,n=(c,d)=>{s.addEventListener(this,c,d),e[c]=d},r=(c,d)=>{e[c]&&(s.removeEventListener(this,c,d),delete e[c])},a=(c,d)=>{this.canvas&&this.resize(c,d)};let o;const l=()=>{r("attach",l),this.attached=!0,this.resize(),n("resize",a),n("detach",o)};o=()=>{this.attached=!1,r("resize",a),this._stop(),this._resize(0,0),n("attach",l)},s.isAttached(this.canvas)?l():o()}unbindEvents(){ot(this._listeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._listeners={},ot(this._responsiveListeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,s,n){const r=n?"set":"remove";let a,o,l,c;for(s==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+r+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){o=e[l];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const s=this._active||[],n=e.map(({datasetIndex:a,index:o})=>{const l=this.getDatasetMeta(a);if(!l)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:l.data[o],index:o}});!Dm(n,s)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,s))}notifyPlugins(e,s,n){return this._plugins.notify(this,e,s,n)}isPluginEnabled(e){return this._plugins._cache.filter(s=>s.plugin.id===e).length===1}_updateHoverStyles(e,s,n){const r=this.options.hover,a=(c,d)=>c.filter(u=>!d.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=a(s,e),l=n?e:a(e,s);o.length&&this.updateHoverStyle(o,r.mode,!1),l.length&&r.mode&&this.updateHoverStyle(l,r.mode,!0)}_eventHandler(e,s){const n={event:e,replay:s,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,r)===!1)return;const a=this._handleEvent(e,s,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(a||n.changed)&&this.render(),this}_handleEvent(e,s,n){const{_active:r=[],options:a}=this,o=s,l=this._getActiveElements(e,r,n,o),c=oY(e),d=YJ(e,this._lastEvent,n,c);n&&(this._lastEvent=null,vt(a.onHover,[e,l,this],this),c&&vt(a.onClick,[e,l,this],this));const u=!Dm(l,r);return(u||s)&&(this._active=l,this._updateHoverStyles(l,r,s)),this._lastEvent=d,u}_getActiveElements(e,s,n,r){if(e.type==="mouseout")return[];if(!n)return s;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,r)}},A(Pi,"defaults",Ut),A(Pi,"instances",Cf),A(Pi,"overrides",Ro),A(Pi,"registry",mr),A(Pi,"version",KJ),A(Pi,"getChart",J1),Pi);function eS(){return ot(Fp.instances,t=>t._plugins.invalidate())}function IL(t,e,s=e){t.lineCap=Xe(s.borderCapStyle,e.borderCapStyle),t.setLineDash(Xe(s.borderDash,e.borderDash)),t.lineDashOffset=Xe(s.borderDashOffset,e.borderDashOffset),t.lineJoin=Xe(s.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Xe(s.borderWidth,e.borderWidth),t.strokeStyle=Xe(s.borderColor,e.borderColor)}function XJ(t,e,s){t.lineTo(s.x,s.y)}function JJ(t){return t.stepped?DY:t.tension||t.cubicInterpolationMode==="monotone"?OY:XJ}function EL(t,e,s={}){const n=t.length,{start:r=0,end:a=n-1}=s,{start:o,end:l}=e,c=Math.max(r,o),d=Math.min(a,l),u=r<o&&a<o||r>l&&a>l;return{count:n,start:c,loop:e.loop,ilen:d<c&&!u?n+d-c:d-c}}function eee(t,e,s,n){const{points:r,options:a}=e,{count:o,start:l,loop:c,ilen:d}=EL(r,s,n),u=JJ(a);let{move:h=!0,reverse:f}=n||{},p,b,m;for(p=0;p<=d;++p)b=r[(l+(f?d-p:p))%o],!b.skip&&(h?(t.moveTo(b.x,b.y),h=!1):u(t,m,b,f,a.stepped),m=b);return c&&(b=r[(l+(f?d:0))%o],u(t,m,b,f,a.stepped)),!!c}function tee(t,e,s,n){const r=e.points,{count:a,start:o,ilen:l}=EL(r,s,n),{move:c=!0,reverse:d}=n||{};let u=0,h=0,f,p,b,m,g,v;const y=j=>(o+(d?l-j:j))%a,w=()=>{m!==g&&(t.lineTo(u,g),t.lineTo(u,m),t.lineTo(u,v))};for(c&&(p=r[y(0)],t.moveTo(p.x,p.y)),f=0;f<=l;++f){if(p=r[y(f)],p.skip)continue;const j=p.x,N=p.y,C=j|0;C===b?(N<m?m=N:N>g&&(g=N),u=(h*u+j)/++h):(w(),t.lineTo(j,N),b=C,h=0,m=g=N),v=N}w()}function t0(t){const e=t.options,s=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!s?tee:eee}function see(t){return t.stepped?pX:t.tension||t.cubicInterpolationMode==="monotone"?gX:Va}function nee(t,e,s,n){let r=e._path;r||(r=e._path=new Path2D,e.path(r,s,n)&&r.closePath()),IL(t,e.options),t.stroke(r)}function ree(t,e,s,n){const{segments:r,options:a}=e,o=t0(e);for(const l of r)IL(t,a,l.style),t.beginPath(),o(t,e,l,{start:s,end:s+n-1})&&t.closePath(),t.stroke()}const iee=typeof Path2D=="function";function aee(t,e,s,n){iee&&!e.options.segment?nee(t,e,s,n):ree(t,e,s,n)}class cd extends $o{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,s){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;oX(this._points,n,e,r,s),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=SX(this,this.options.segment))}first(){const e=this.segments,s=this.points;return e.length&&s[e[0].start]}last(){const e=this.segments,s=this.points,n=e.length;return n&&s[e[n-1].end]}interpolate(e,s){const n=this.options,r=e[s],a=this.points,o=wX(this,{property:s,start:r,end:r});if(!o.length)return;const l=[],c=see(n);let d,u;for(d=0,u=o.length;d<u;++d){const{start:h,end:f}=o[d],p=a[h],b=a[f];if(p===b){l.push(p);continue}const m=Math.abs((r-p[s])/(b[s]-p[s])),g=c(p,b,m,n.stepped);g[s]=e[s],l.push(g)}return l.length===1?l[0]:l}pathSegment(e,s,n){return t0(this)(e,this,s,n)}path(e,s,n){const r=this.segments,a=t0(this);let o=this._loop;s=s||0,n=n||this.points.length-s;for(const l of r)o&=a(e,this,l,{start:s,end:s+n-1});return!!o}draw(e,s,n,r){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),aee(e,this,n,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}A(cd,"id","line"),A(cd,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),A(cd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),A(cd,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function tS(t,e,s,n){const r=t.options,{[s]:a}=t.getProps([s],n);return Math.abs(e-a)<r.radius+r.hitRadius}class kf extends $o{constructor(s){super();A(this,"parsed");A(this,"skip");A(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,n,r){const a=this.options,{x:o,y:l}=this.getProps(["x","y"],r);return Math.pow(s-o,2)+Math.pow(n-l,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(s,n){return tS(this,s,"x",n)}inYRange(s,n){return tS(this,s,"y",n)}getCenterPoint(s){const{x:n,y:r}=this.getProps(["x","y"],s);return{x:n,y:r}}size(s){s=s||this.options||{};let n=s.radius||0;n=Math.max(n,n&&s.hoverRadius||0);const r=n&&s.borderWidth||0;return(n+r)*2}draw(s,n){const r=this.options;this.skip||r.radius<.1||!ju(this,n,this.size(r)/2)||(s.strokeStyle=r.borderColor,s.lineWidth=r.borderWidth,s.fillStyle=r.backgroundColor,Yy(s,r,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}}A(kf,"id","point"),A(kf,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),A(kf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const sS=(t,e)=>{let{boxHeight:s=e,boxWidth:n=e}=t;return t.usePointStyle&&(s=Math.min(s,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:s,itemHeight:Math.max(e,s)}},oee=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class nS extends $o{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s,n){this.maxWidth=e,this.maxHeight=s,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let s=vt(e.generateLabels,[this.chart],this)||[];e.filter&&(s=s.filter(n=>e.filter(n,this.chart.data))),e.sort&&(s=s.sort((n,r)=>e.sort(n,r,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:e,ctx:s}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,r=vs(n.font),a=r.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=sS(n,a);let d,u;s.font=r.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(o,a,l,c)+10):(u=this.maxHeight,d=this._fitCols(o,r,l,c)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,s,n,r){const{ctx:a,maxWidth:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=r+l;let h=e;a.textAlign="left",a.textBaseline="middle";let f=-1,p=-u;return this.legendItems.forEach((b,m)=>{const g=n+s/2+a.measureText(b.text).width;(m===0||d[d.length-1]+g+2*l>o)&&(h+=u,d[d.length-(m>0?0:1)]=0,p+=u,f++),c[m]={left:0,top:p,row:f,width:g,height:r},d[d.length-1]+=g+l}),h}_fitCols(e,s,n,r){const{ctx:a,maxHeight:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=o-e;let h=l,f=0,p=0,b=0,m=0;return this.legendItems.forEach((g,v)=>{const{itemWidth:y,itemHeight:w}=lee(n,s,a,g,r);v>0&&p+w+2*l>u&&(h+=f+l,d.push({width:f,height:p}),b+=f+l,m++,f=p=0),c[v]={left:b,top:p,col:m,width:y,height:w},f=Math.max(f,y),p+=w+l}),h+=f,d.push({width:f,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:n,labels:{padding:r},rtl:a}}=this,o=Tl(a,this.left,this.width);if(this.isHorizontal()){let l=0,c=xs(n,this.left+r,this.right-this.lineWidths[l]);for(const d of s)l!==d.row&&(l=d.row,c=xs(n,this.left+r,this.right-this.lineWidths[l])),d.top+=this.top+e+r,d.left=o.leftForLtr(o.x(c),d.width),c+=d.width+r}else{let l=0,c=xs(n,this.top+e+r,this.bottom-this.columnSizes[l].height);for(const d of s)d.col!==l&&(l=d.col,c=xs(n,this.top+e+r,this.bottom-this.columnSizes[l].height)),d.top=c,d.left+=this.left+r,d.left=o.leftForLtr(o.x(d.left),d.width),c+=d.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Ob(e,this),this._draw(),Lb(e)}}_draw(){const{options:e,columnSizes:s,lineWidths:n,ctx:r}=this,{align:a,labels:o}=e,l=Ut.color,c=Tl(e.rtl,this.left,this.width),d=vs(o.font),{padding:u}=o,h=d.size,f=h/2;let p;this.drawTitle(),r.textAlign=c.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=d.string;const{boxWidth:b,boxHeight:m,itemHeight:g}=sS(o,h),v=function(C,_,k){if(isNaN(b)||b<=0||isNaN(m)||m<0)return;r.save();const M=Xe(k.lineWidth,1);if(r.fillStyle=Xe(k.fillStyle,l),r.lineCap=Xe(k.lineCap,"butt"),r.lineDashOffset=Xe(k.lineDashOffset,0),r.lineJoin=Xe(k.lineJoin,"miter"),r.lineWidth=M,r.strokeStyle=Xe(k.strokeStyle,l),r.setLineDash(Xe(k.lineDash,[])),o.usePointStyle){const L={radius:m*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:M},O=c.xPlus(C,b/2),I=_+f;oL(r,L,O,I,o.pointStyleWidth&&b)}else{const L=_+Math.max((h-m)/2,0),O=c.leftForLtr(C,b),I=Td(k.borderRadius);r.beginPath(),Object.values(I).some(B=>B!==0)?Xy(r,{x:O,y:L,w:b,h:m,radius:I}):r.rect(O,L,b,m),r.fill(),M!==0&&r.stroke()}r.restore()},y=function(C,_,k){Nu(r,k.text,C,_+g/2,d,{strikethrough:k.hidden,textAlign:c.textAlign(k.textAlign)})},w=this.isHorizontal(),j=this._computeTitleHeight();w?p={x:xs(a,this.left+u,this.right-n[0]),y:this.top+u+j,line:0}:p={x:this.left+u,y:xs(a,this.top+j+u,this.bottom-s[0].height),line:0},mL(this.ctx,e.textDirection);const N=g+u;this.legendItems.forEach((C,_)=>{r.strokeStyle=C.fontColor,r.fillStyle=C.fontColor;const k=r.measureText(C.text).width,M=c.textAlign(C.textAlign||(C.textAlign=o.textAlign)),L=b+f+k;let O=p.x,I=p.y;c.setWidth(this.width),w?_>0&&O+L+u>this.right&&(I=p.y+=N,p.line++,O=p.x=xs(a,this.left+u,this.right-n[p.line])):_>0&&I+N>this.bottom&&(O=p.x=O+s[p.line].width+u,p.line++,I=p.y=xs(a,this.top+j+u,this.bottom-s[p.line].height));const B=c.x(O);if(v(B,I,C),O=NY(M,O+b+f,w?O+L:this.right,e.rtl),y(c.x(O),I,C),w)p.x+=L+u;else if(typeof C.text!="string"){const H=d.lineHeight;p.y+=PL(C,H)+u}else p.y+=N}),pL(this.ctx,e.textDirection)}drawTitle(){const e=this.options,s=e.title,n=vs(s.font),r=Rn(s.padding);if(!s.display)return;const a=Tl(e.rtl,this.left,this.width),o=this.ctx,l=s.position,c=n.size/2,d=r.top+c;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+d,h=xs(e.align,h,this.right-f);else{const b=this.columnSizes.reduce((m,g)=>Math.max(m,g.height),0);u=d+xs(e.align,this.top,this.bottom-b-e.labels.padding-this._computeTitleHeight())}const p=xs(l,h,h+f);o.textAlign=a.textAlign(Rb(l)),o.textBaseline="middle",o.strokeStyle=s.color,o.fillStyle=s.color,o.font=n.string,Nu(o,s.text,p,u,n)}_computeTitleHeight(){const e=this.options.title,s=vs(e.font),n=Rn(e.padding);return e.display?s.lineHeight+n.height:0}_getLegendItemAt(e,s){let n,r,a;if(od(e,this.left,this.right)&&od(s,this.top,this.bottom)){for(a=this.legendHitBoxes,n=0;n<a.length;++n)if(r=a[n],od(e,r.left,r.left+r.width)&&od(s,r.top,r.top+r.height))return this.legendItems[n]}return null}handleEvent(e){const s=this.options;if(!uee(e.type,s))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,a=oee(r,n);r&&!a&&vt(s.onLeave,[e,r,this],this),this._hoveredItem=n,n&&!a&&vt(s.onHover,[e,n,this],this)}else n&&vt(s.onClick,[e,n,this],this)}}function lee(t,e,s,n,r){const a=cee(n,t,e,s),o=dee(r,n,e.lineHeight);return{itemWidth:a,itemHeight:o}}function cee(t,e,s,n){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((a,o)=>a.length>o.length?a:o)),e+s.size/2+n.measureText(r).width}function dee(t,e,s){let n=t;return typeof e.text!="string"&&(n=PL(e,s)),n}function PL(t,e){const s=t.text?t.text.length:0;return e*s}function uee(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var hee={id:"legend",_element:nS,start(t,e,s){const n=t.legend=new nS({ctx:t.ctx,options:s,chart:t});Cn.configure(t,n,s),Cn.addBox(t,n)},stop(t){Cn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,s){const n=t.legend;Cn.configure(t,n,s),n.options=s},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,s){const n=e.datasetIndex,r=s.chart;r.isDatasetVisible(n)?(r.hide(n),e.hidden=!0):(r.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:s,pointStyle:n,textAlign:r,color:a,useBorderRadius:o,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(s?0:void 0),u=Rn(d.borderWidth);return{text:e[c.index].label,fillStyle:d.backgroundColor,fontColor:a,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:n||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:o&&(l||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class TL extends $o{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=s;const r=es(n.text)?n.text.length:1;this._padding=Rn(n.padding);const a=r*vs(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:s,left:n,bottom:r,right:a,options:o}=this,l=o.align;let c=0,d,u,h;return this.isHorizontal()?(u=xs(l,n,a),h=s+e,d=a-n):(o.position==="left"?(u=n+e,h=xs(l,r,s),c=ns*-.5):(u=a-e,h=xs(l,s,r),c=ns*.5),d=r-s),{titleX:u,titleY:h,maxWidth:d,rotation:c}}draw(){const e=this.ctx,s=this.options;if(!s.display)return;const n=vs(s.font),a=n.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:c,rotation:d}=this._drawArgs(a);Nu(e,s.text,0,0,n,{color:s.color,maxWidth:c,rotation:d,textAlign:Rb(s.align),textBaseline:"middle",translation:[o,l]})}}function fee(t,e){const s=new TL({ctx:t.ctx,options:e,chart:t});Cn.configure(t,s,e),Cn.addBox(t,s),t.titleBlock=s}var mee={id:"title",_element:TL,start(t,e,s){fee(t,s)},stop(t){const e=t.titleBlock;Cn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,s){const n=t.titleBlock;Cn.configure(t,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const dd={average(t){if(!t.length)return!1;let e,s,n=new Set,r=0,a=0;for(e=0,s=t.length;e<s;++e){const l=t[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();n.add(c.x),r+=c.y,++a}}return a===0||n.size===0?!1:{x:[...n].reduce((l,c)=>l+c)/n.size,y:r/a}},nearest(t,e){if(!t.length)return!1;let s=e.x,n=e.y,r=Number.POSITIVE_INFINITY,a,o,l;for(a=0,o=t.length;a<o;++a){const c=t[a].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),u=Qy(e,d);u<r&&(r=u,l=c)}}if(l){const c=l.tooltipPosition();s=c.x,n=c.y}return{x:s,y:n}}};function hr(t,e){return e&&(es(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Zr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function pee(t,e){const{element:s,datasetIndex:n,index:r}=e,a=t.getDatasetMeta(n).controller,{label:o,value:l}=a.getLabelAndValue(r);return{chart:t,label:o,parsed:a.getParsed(r),raw:t.data.datasets[n].data[r],formattedValue:l,dataset:a.getDataset(),dataIndex:r,datasetIndex:n,element:s}}function rS(t,e){const s=t.chart.ctx,{body:n,footer:r,title:a}=t,{boxWidth:o,boxHeight:l}=e,c=vs(e.bodyFont),d=vs(e.titleFont),u=vs(e.footerFont),h=a.length,f=r.length,p=n.length,b=Rn(e.padding);let m=b.height,g=0,v=n.reduce((j,N)=>j+N.before.length+N.lines.length+N.after.length,0);if(v+=t.beforeBody.length+t.afterBody.length,h&&(m+=h*d.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),v){const j=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;m+=p*j+(v-p)*c.lineHeight+(v-1)*e.bodySpacing}f&&(m+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let y=0;const w=function(j){g=Math.max(g,s.measureText(j).width+y)};return s.save(),s.font=d.string,ot(t.title,w),s.font=c.string,ot(t.beforeBody.concat(t.afterBody),w),y=e.displayColors?o+2+e.boxPadding:0,ot(n,j=>{ot(j.before,w),ot(j.lines,w),ot(j.after,w)}),y=0,s.font=u.string,ot(t.footer,w),s.restore(),g+=b.width,{width:g,height:m}}function gee(t,e){const{y:s,height:n}=e;return s<n/2?"top":s>t.height-n/2?"bottom":"center"}function xee(t,e,s,n){const{x:r,width:a}=n,o=s.caretSize+s.caretPadding;if(t==="left"&&r+a+o>e.width||t==="right"&&r-a-o<0)return!0}function yee(t,e,s,n){const{x:r,width:a}=s,{width:o,chartArea:{left:l,right:c}}=t;let d="center";return n==="center"?d=r<=(l+c)/2?"left":"right":r<=a/2?d="left":r>=o-a/2&&(d="right"),xee(d,t,e,s)&&(d="center"),d}function iS(t,e,s){const n=s.yAlign||e.yAlign||gee(t,s);return{xAlign:s.xAlign||e.xAlign||yee(t,e,s,n),yAlign:n}}function vee(t,e){let{x:s,width:n}=t;return e==="right"?s-=n:e==="center"&&(s-=n/2),s}function bee(t,e,s){let{y:n,height:r}=t;return e==="top"?n+=s:e==="bottom"?n-=r+s:n-=r/2,n}function aS(t,e,s,n){const{caretSize:r,caretPadding:a,cornerRadius:o}=t,{xAlign:l,yAlign:c}=s,d=r+a,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:p}=Td(o);let b=vee(e,l);const m=bee(e,c,d);return c==="center"?l==="left"?b+=d:l==="right"&&(b-=d):l==="left"?b-=Math.max(u,f)+r:l==="right"&&(b+=Math.max(h,p)+r),{x:_n(b,0,n.width-e.width),y:_n(m,0,n.height-e.height)}}function Gh(t,e,s){const n=Rn(s.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function oS(t){return hr([],Zr(t))}function wee(t,e,s){return Vo(t,{tooltip:e,tooltipItems:s,type:"tooltip"})}function lS(t,e){const s=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return s?t.override(s):t}const AL={beforeTitle:qr,title(t){if(t.length>0){const e=t[0],s=e.chart.data.labels,n=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return s[e.dataIndex]}return""},afterTitle:qr,beforeBody:qr,beforeLabel:qr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const s=t.formattedValue;return pt(s)||(e+=s),e},labelColor(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:qr,afterBody:qr,beforeFooter:qr,footer:qr,afterFooter:qr};function Us(t,e,s,n){const r=t[e].call(s,n);return typeof r>"u"?AL[e].call(s,n):r}class s0 extends $o{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const s=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&s.options.animation&&n.animations,a=new xL(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=wee(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,s){const{callbacks:n}=s,r=Us(n,"beforeTitle",this,e),a=Us(n,"title",this,e),o=Us(n,"afterTitle",this,e);let l=[];return l=hr(l,Zr(r)),l=hr(l,Zr(a)),l=hr(l,Zr(o)),l}getBeforeBody(e,s){return oS(Us(s.callbacks,"beforeBody",this,e))}getBody(e,s){const{callbacks:n}=s,r=[];return ot(e,a=>{const o={before:[],lines:[],after:[]},l=lS(n,a);hr(o.before,Zr(Us(l,"beforeLabel",this,a))),hr(o.lines,Us(l,"label",this,a)),hr(o.after,Zr(Us(l,"afterLabel",this,a))),r.push(o)}),r}getAfterBody(e,s){return oS(Us(s.callbacks,"afterBody",this,e))}getFooter(e,s){const{callbacks:n}=s,r=Us(n,"beforeFooter",this,e),a=Us(n,"footer",this,e),o=Us(n,"afterFooter",this,e);let l=[];return l=hr(l,Zr(r)),l=hr(l,Zr(a)),l=hr(l,Zr(o)),l}_createItems(e){const s=this._active,n=this.chart.data,r=[],a=[],o=[];let l=[],c,d;for(c=0,d=s.length;c<d;++c)l.push(pee(this.chart,s[c]));return e.filter&&(l=l.filter((u,h,f)=>e.filter(u,h,f,n))),e.itemSort&&(l=l.sort((u,h)=>e.itemSort(u,h,n))),ot(l,u=>{const h=lS(e.callbacks,u);r.push(Us(h,"labelColor",this,u)),a.push(Us(h,"labelPointStyle",this,u)),o.push(Us(h,"labelTextColor",this,u))}),this.labelColors=r,this.labelPointStyles=a,this.labelTextColors=o,this.dataPoints=l,l}update(e,s){const n=this.options.setContext(this.getContext()),r=this._active;let a,o=[];if(!r.length)this.opacity!==0&&(a={opacity:0});else{const l=dd[n.position].call(this,r,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const c=this._size=rS(this,n),d=Object.assign({},l,c),u=iS(this.chart,n,d),h=aS(n,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,a={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(e,s,n,r){const a=this.getCaretPosition(e,n,r);s.lineTo(a.x1,a.y1),s.lineTo(a.x2,a.y2),s.lineTo(a.x3,a.y3)}getCaretPosition(e,s,n){const{xAlign:r,yAlign:a}=this,{caretSize:o,cornerRadius:l}=n,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:h}=Td(l),{x:f,y:p}=e,{width:b,height:m}=s;let g,v,y,w,j,N;return a==="center"?(j=p+m/2,r==="left"?(g=f,v=g-o,w=j+o,N=j-o):(g=f+b,v=g+o,w=j-o,N=j+o),y=g):(r==="left"?v=f+Math.max(c,u)+o:r==="right"?v=f+b-Math.max(d,h)-o:v=this.caretX,a==="top"?(w=p,j=w-o,g=v-o,y=v+o):(w=p+m,j=w+o,g=v+o,y=v-o),N=w),{x1:g,x2:v,x3:y,y1:w,y2:j,y3:N}}drawTitle(e,s,n){const r=this.title,a=r.length;let o,l,c;if(a){const d=Tl(n.rtl,this.x,this.width);for(e.x=Gh(this,n.titleAlign,n),s.textAlign=d.textAlign(n.titleAlign),s.textBaseline="middle",o=vs(n.titleFont),l=n.titleSpacing,s.fillStyle=n.titleColor,s.font=o.string,c=0;c<a;++c)s.fillText(r[c],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+l,c+1===a&&(e.y+=n.titleMarginBottom-l)}}_drawColorBox(e,s,n,r,a){const o=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:c,boxWidth:d}=a,u=vs(a.bodyFont),h=Gh(this,"left",a),f=r.x(h),p=c<u.lineHeight?(u.lineHeight-c)/2:0,b=s.y+p;if(a.usePointStyle){const m={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},g=r.leftForLtr(f,d)+d/2,v=b+c/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,Yy(e,m,g,v),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Yy(e,m,g,v)}else{e.lineWidth=st(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const m=r.leftForLtr(f,d),g=r.leftForLtr(r.xPlus(f,1),d-2),v=Td(o.borderRadius);Object.values(v).some(y=>y!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,Xy(e,{x:m,y:b,w:d,h:c,radius:v}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Xy(e,{x:g,y:b+1,w:d-2,h:c-2,radius:v}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(m,b,d,c),e.strokeRect(m,b,d,c),e.fillStyle=o.backgroundColor,e.fillRect(g,b+1,d-2,c-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,s,n){const{body:r}=this,{bodySpacing:a,bodyAlign:o,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:u}=n,h=vs(n.bodyFont);let f=h.lineHeight,p=0;const b=Tl(n.rtl,this.x,this.width),m=function(k){s.fillText(k,b.x(e.x+p),e.y+f/2),e.y+=f+a},g=b.textAlign(o);let v,y,w,j,N,C,_;for(s.textAlign=o,s.textBaseline="middle",s.font=h.string,e.x=Gh(this,g,n),s.fillStyle=n.bodyColor,ot(this.beforeBody,m),p=l&&g!=="right"?o==="center"?d/2+u:d+2+u:0,j=0,C=r.length;j<C;++j){for(v=r[j],y=this.labelTextColors[j],s.fillStyle=y,ot(v.before,m),w=v.lines,l&&w.length&&(this._drawColorBox(s,e,j,b,n),f=Math.max(h.lineHeight,c)),N=0,_=w.length;N<_;++N)m(w[N]),f=h.lineHeight;ot(v.after,m)}p=0,f=h.lineHeight,ot(this.afterBody,m),e.y-=a}drawFooter(e,s,n){const r=this.footer,a=r.length;let o,l;if(a){const c=Tl(n.rtl,this.x,this.width);for(e.x=Gh(this,n.footerAlign,n),e.y+=n.footerMarginTop,s.textAlign=c.textAlign(n.footerAlign),s.textBaseline="middle",o=vs(n.footerFont),s.fillStyle=n.footerColor,s.font=o.string,l=0;l<a;++l)s.fillText(r[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,s,n,r){const{xAlign:a,yAlign:o}=this,{x:l,y:c}=e,{width:d,height:u}=n,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:b}=Td(r.cornerRadius);s.fillStyle=r.backgroundColor,s.strokeStyle=r.borderColor,s.lineWidth=r.borderWidth,s.beginPath(),s.moveTo(l+h,c),o==="top"&&this.drawCaret(e,s,n,r),s.lineTo(l+d-f,c),s.quadraticCurveTo(l+d,c,l+d,c+f),o==="center"&&a==="right"&&this.drawCaret(e,s,n,r),s.lineTo(l+d,c+u-b),s.quadraticCurveTo(l+d,c+u,l+d-b,c+u),o==="bottom"&&this.drawCaret(e,s,n,r),s.lineTo(l+p,c+u),s.quadraticCurveTo(l,c+u,l,c+u-p),o==="center"&&a==="left"&&this.drawCaret(e,s,n,r),s.lineTo(l,c+h),s.quadraticCurveTo(l,c,l+h,c),s.closePath(),s.fill(),r.borderWidth>0&&s.stroke()}_updateAnimationTarget(e){const s=this.chart,n=this.$animations,r=n&&n.x,a=n&&n.y;if(r||a){const o=dd[e.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=rS(this,e),c=Object.assign({},o,this._size),d=iS(s,e,c),u=aS(e,c,d,s);(r._to!==u.x||a._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const s=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(s);const r={width:this.width,height:this.height},a={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=Rn(s.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&l&&(e.save(),e.globalAlpha=n,this.drawBackground(a,e,r,s),mL(e,s.textDirection),a.y+=o.top,this.drawTitle(a,e,s),this.drawBody(a,e,s),this.drawFooter(a,e,s),pL(e,s.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,s){const n=this._active,r=e.map(({datasetIndex:l,index:c})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),a=!Dm(n,r),o=this._positionChanged(r,s);(a||o)&&(this._active=r,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,s,n=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,a=this._active||[],o=this._getActiveElements(e,a,s,n),l=this._positionChanged(o,e),c=s||!Dm(o,a)||l;return c&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,s))),c}_getActiveElements(e,s,n,r){const a=this.options;if(e.type==="mouseout")return[];if(!r)return s.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,a.mode,a,n);return a.reverse&&o.reverse(),o}_positionChanged(e,s){const{caretX:n,caretY:r,options:a}=this,o=dd[a.position].call(this,e,s);return o!==!1&&(n!==o.x||r!==o.y)}}A(s0,"positioners",dd);var jee={id:"tooltip",_element:s0,positioners:dd,afterInit(t,e,s){s&&(t.tooltip=new s0({chart:t,options:s}))},beforeUpdate(t,e,s){t.tooltip&&t.tooltip.initialize(s)},reset(t,e,s){t.tooltip&&t.tooltip.initialize(s)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const s={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",s)}},afterEvent(t,e){if(t.tooltip){const s=e.replay;t.tooltip.handleEvent(e.event,s,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:AL},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Nee=(t,e,s,n)=>(typeof e=="string"?(s=t.push(e)-1,n.unshift({index:s,label:e})):isNaN(e)&&(s=null),s);function See(t,e,s,n){const r=t.indexOf(e);if(r===-1)return Nee(t,e,s,n);const a=t.lastIndexOf(e);return r!==a?s:r}const _ee=(t,e)=>t===null?null:_n(Math.round(t),0,e);function cS(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class n0 extends Pc{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const s=this._addedLabels;if(s.length){const n=this.getLabels();for(const{index:r,label:a}of s)n[r]===a&&n.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,s){if(pt(e))return null;const n=this.getLabels();return s=isFinite(s)&&n[s]===e?s:See(n,e,Xe(s,e),this._addedLabels),_ee(s,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),s||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const e=this.min,s=this.max,n=this.options.offset,r=[];let a=this.getLabels();a=e===0&&s===a.length-1?a:a.slice(e,s+1),this._valueRange=Math.max(a.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=e;o<=s;o++)r.push({value:o});return r}getLabelForValue(e){return cS.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}A(n0,"id","category"),A(n0,"defaults",{ticks:{callback:cS}});function Cee(t,e){const s=[],{bounds:r,step:a,min:o,max:l,precision:c,count:d,maxTicks:u,maxDigits:h,includeBounds:f}=t,p=a||1,b=u-1,{min:m,max:g}=e,v=!pt(o),y=!pt(l),w=!pt(d),j=(g-m)/(h+1);let N=m1((g-m)/b/p)*p,C,_,k,M;if(N<1e-14&&!v&&!y)return[{value:m},{value:g}];M=Math.ceil(g/N)-Math.floor(m/N),M>b&&(N=m1(M*N/b/p)*p),pt(c)||(C=Math.pow(10,c),N=Math.ceil(N*C)/C),r==="ticks"?(_=Math.floor(m/N)*N,k=Math.ceil(g/N)*N):(_=m,k=g),v&&y&&a&&hY((l-o)/a,N/1e3)?(M=Math.round(Math.min((l-o)/N,u)),N=(l-o)/M,_=o,k=l):w?(_=v?o:_,k=y?l:k,M=d-1,N=(k-_)/M):(M=(k-_)/N,Id(M,Math.round(M),N/1e3)?M=Math.round(M):M=Math.ceil(M));const L=Math.max(p1(N),p1(_));C=Math.pow(10,pt(c)?L:c),_=Math.round(_*C)/C,k=Math.round(k*C)/C;let O=0;for(v&&(f&&_!==o?(s.push({value:o}),_<o&&O++,Id(Math.round((_+O*N)*C)/C,o,dS(o,j,t))&&O++):_<o&&O++);O<M;++O){const I=Math.round((_+O*N)*C)/C;if(y&&I>l)break;s.push({value:I})}return y&&f&&k!==l?s.length&&Id(s[s.length-1].value,l,dS(l,j,t))?s[s.length-1].value=l:s.push({value:l}):(!y||k===l)&&s.push({value:k}),s}function dS(t,e,{horizontal:s,minRotation:n}){const r=Qa(n),a=(s?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/a,o)}class kee extends Pc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,s){return pt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:s,maxDefined:n}=this.getUserBounds();let{min:r,max:a}=this;const o=c=>r=s?r:c,l=c=>a=n?a:c;if(e){const c=hc(r),d=hc(a);c<0&&d<0?l(0):c>0&&d>0&&o(0)}if(r===a){let c=a===0?1:Math.abs(a*.05);l(a+c),e||o(r-c)}this.min=r,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:s,stepSize:n}=e,r;return n?(r=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),s=s||11),s&&(r=Math.min(s,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,s=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},a=this._range||this,o=Cee(r,a);return e.bounds==="ticks"&&fY(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let s=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const r=(n-s)/Math.max(e.length-1,1)/2;s-=r,n+=r}this._startValue=s,this._endValue=n,this._valueRange=n-s}getLabelForValue(e){return rL(e,this.chart.options.locale,this.options.ticks.format)}}class r0 extends kee{determineDataLimits(){const{min:e,max:s}=this.getMinMax(!0);this.min=Mn(e)?e:0,this.max=Mn(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),s=e?this.width:this.height,n=Qa(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,a.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}A(r0,"id","linear"),A(r0,"defaults",{ticks:{callback:aL.formatters.numeric}});const Up={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Bs=Object.keys(Up);function uS(t,e){return t-e}function hS(t,e){if(pt(e))return null;const s=t._adapter,{parser:n,round:r,isoWeekday:a}=t._parseOpts;let o=e;return typeof n=="function"&&(o=n(o)),Mn(o)||(o=typeof n=="string"?s.parse(o,n):s.parse(o)),o===null?null:(r&&(o=r==="week"&&(wu(a)||a===!0)?s.startOf(o,"isoWeek",a):s.startOf(o,r)),+o)}function fS(t,e,s,n){const r=Bs.length;for(let a=Bs.indexOf(t);a<r-1;++a){const o=Up[Bs[a]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((s-e)/(l*o.size))<=n)return Bs[a]}return Bs[r-1]}function Iee(t,e,s,n,r){for(let a=Bs.length-1;a>=Bs.indexOf(s);a--){const o=Bs[a];if(Up[o].common&&t._adapter.diff(r,n,o)>=e-1)return o}return Bs[s?Bs.indexOf(s):0]}function Eee(t){for(let e=Bs.indexOf(t)+1,s=Bs.length;e<s;++e)if(Up[Bs[e]].common)return Bs[e]}function mS(t,e,s){if(!s)t[e]=!0;else if(s.length){const{lo:n,hi:r}=Mb(s,e),a=s[n]>=e?s[n]:s[r];t[a]=!0}}function Pee(t,e,s,n){const r=t._adapter,a=+r.startOf(e[0].value,n),o=e[e.length-1].value;let l,c;for(l=a;l<=o;l=+r.add(l,1,n))c=s[l],c>=0&&(e[c].major=!0);return e}function pS(t,e,s){const n=[],r={},a=e.length;let o,l;for(o=0;o<a;++o)l=e[o],r[l]=o,n.push({value:l,major:!1});return a===0||!s?n:Pee(t,n,r,s)}class $m extends Pc{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,s={}){const n=e.time||(e.time={}),r=this._adapter=new BX._date(e.adapters.date);r.init(s),kd(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=s.normalized}parse(e,s){return e===void 0?null:hS(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,s=this._adapter,n=e.time.unit||"day";let{min:r,max:a,minDefined:o,maxDefined:l}=this.getUserBounds();function c(d){!o&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!l&&!isNaN(d.max)&&(a=Math.max(a,d.max))}(!o||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),r=Mn(r)&&!isNaN(r)?r:+s.startOf(Date.now(),n),a=Mn(a)&&!isNaN(a)?a:+s.endOf(Date.now(),n)+1,this.min=Math.min(r,a-1),this.max=Math.max(r+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(s=e[0],n=e[e.length-1]),{min:s,max:n}}buildTicks(){const e=this.options,s=e.time,n=e.ticks,r=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const a=this.min,o=this.max,l=vY(r,a,o);return this._unit=s.unit||(n.autoSkip?fS(s.minUnit,this.min,this.max,this._getLabelCapacity(a)):Iee(this,l.length,s.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:Eee(this._unit),this.initOffsets(r),e.reverse&&l.reverse(),pS(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let s=0,n=0,r,a;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?s=1-r:s=(this.getDecimalForValue(e[1])-r)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?n=a:n=(a-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;s=_n(s,0,o),n=_n(n,0,o),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){const e=this._adapter,s=this.min,n=this.max,r=this.options,a=r.time,o=a.unit||fS(a.minUnit,s,n,this._getLabelCapacity(s)),l=Xe(r.ticks.stepSize,1),c=o==="week"?a.isoWeekday:!1,d=wu(c)||c===!0,u={};let h=s,f,p;if(d&&(h=+e.startOf(h,"isoWeek",c)),h=+e.startOf(h,d?"day":o),e.diff(n,s,o)>1e5*l)throw new Error(s+" and "+n+" are too far apart with stepSize of "+l+" "+o);const b=r.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<n;f=+e.add(f,l,o),p++)mS(u,f,b);return(f===n||r.bounds==="ticks"||p===1)&&mS(u,f,b),Object.keys(u).sort(uS).map(m=>+m)}getLabelForValue(e){const s=this._adapter,n=this.options.time;return n.tooltipFormat?s.format(e,n.tooltipFormat):s.format(e,n.displayFormats.datetime)}format(e,s){const r=this.options.time.displayFormats,a=this._unit,o=s||r[a];return this._adapter.format(e,o)}_tickFormatFunction(e,s,n,r){const a=this.options,o=a.ticks.callback;if(o)return vt(o,[e,s,n],this);const l=a.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&l[c],h=d&&l[d],f=n[s],p=d&&h&&f&&f.major;return this._adapter.format(e,r||(p?h:u))}generateTickLabels(e){let s,n,r;for(s=0,n=e.length;s<n;++s)r=e[s],r.label=this._tickFormatFunction(r.value,s,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const s=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((s.start+n)*s.factor)}getValueForPixel(e){const s=this._offsets,n=this.getDecimalForPixel(e)/s.factor-s.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const s=this.options.ticks,n=this.ctx.measureText(e).width,r=Qa(this.isHorizontal()?s.maxRotation:s.minRotation),a=Math.cos(r),o=Math.sin(r),l=this._resolveTickFontOptions(0).size;return{w:n*a+l*o,h:n*o+l*a}}_getLabelCapacity(e){const s=this.options.time,n=s.displayFormats,r=n[s.unit]||n.millisecond,a=this._tickFormatFunction(e,0,pS(this,[e],this._majorUnit),r),o=this._getLabelSize(a),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],s,n;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(s=0,n=r.length;s<n;++s)e=e.concat(r[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let s,n;if(e.length)return e;const r=this.getLabels();for(s=0,n=r.length;s<n;++s)e.push(hS(this,r[s]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return wY(e.sort(uS))}}A($m,"id","time"),A($m,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Qh(t,e,s){let n=0,r=t.length-1,a,o,l,c;s?(e>=t[n].pos&&e<=t[r].pos&&({lo:n,hi:r}=Za(t,"pos",e)),{pos:a,time:l}=t[n],{pos:o,time:c}=t[r]):(e>=t[n].time&&e<=t[r].time&&({lo:n,hi:r}=Za(t,"time",e)),{time:a,pos:l}=t[n],{time:o,pos:c}=t[r]);const d=o-a;return d?l+(c-l)*(e-a)/d:l}class gS extends $m{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(e);this._minPos=Qh(s,this.min),this._tableRange=Qh(s,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:s,max:n}=this,r=[],a=[];let o,l,c,d,u;for(o=0,l=e.length;o<l;++o)d=e[o],d>=s&&d<=n&&r.push(d);if(r.length<2)return[{time:s,pos:0},{time:n,pos:1}];for(o=0,l=r.length;o<l;++o)u=r[o+1],c=r[o-1],d=r[o],Math.round((u+c)/2)!==d&&a.push({time:d,pos:o/(l-1)});return a}_generate(){const e=this.min,s=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(s)||n.length===1)&&n.push(s),n.sort((r,a)=>r-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const s=this.getDataTimestamps(),n=this.getLabelTimestamps();return s.length&&n.length?e=this.normalize(s.concat(n)):e=s.length?s:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Qh(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const s=this._offsets,n=this.getDecimalForPixel(e)/s.factor-s.end;return Qh(this._table,n*this._tableRange+this._minPos,!0)}}A(gS,"id","timeseries"),A(gS,"defaults",$m.defaults);const ML="label";function xS(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Tee(t,e){const s=t.options;s&&e&&Object.assign(s,e)}function RL(t,e){t.labels=e}function DL(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ML;const n=[];t.datasets=e.map(r=>{const a=t.datasets.find(o=>o[s]===r[s]);return!a||!r.data||n.includes(a)?{...r}:(n.push(a),Object.assign(a,r),a)})}function Aee(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ML;const s={labels:[],datasets:[]};return RL(s,t.labels),DL(s,t.datasets,e),s}function Mee(t,e){const{height:s=150,width:n=300,redraw:r=!1,datasetIdKey:a,type:o,data:l,options:c,plugins:d=[],fallbackContent:u,updateMode:h,...f}=t,p=x.useRef(null),b=x.useRef(null),m=()=>{p.current&&(b.current=new Fp(p.current,{type:o,data:Aee(l,a),options:c&&{...c},plugins:d}),xS(e,b.current))},g=()=>{xS(e,null),b.current&&(b.current.destroy(),b.current=null)};return x.useEffect(()=>{!r&&b.current&&c&&Tee(b.current,c)},[r,c]),x.useEffect(()=>{!r&&b.current&&RL(b.current.config.data,l.labels)},[r,l.labels]),x.useEffect(()=>{!r&&b.current&&l.datasets&&DL(b.current.config.data,l.datasets,a)},[r,l.datasets]),x.useEffect(()=>{b.current&&(r?(g(),setTimeout(m)):b.current.update(h))},[r,c,l.labels,l.datasets,h]),x.useEffect(()=>{b.current&&(g(),setTimeout(m))},[o]),x.useEffect(()=>(m(),()=>g()),[]),Oe.createElement("canvas",{ref:p,role:"img",height:s,width:n,...f},u)}const Ree=x.forwardRef(Mee);function Dee(t,e){return Fp.register(e),x.forwardRef((s,n)=>Oe.createElement(Ree,{...s,ref:n,type:t}))}const Oee=Dee("line",Sf);Fp.register(n0,r0,kf,cd,mee,jee,hee);function Lee(){const{data:t,isLoading:e,error:s}=Ce({queryKey:["/api/market-trends"],refetchInterval:3e5});if(e)return i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsxs("div",{className:"animate-pulse",children:[i.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-64 mb-8"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:Array.from({length:4}).map((l,c)=>i.jsx("div",{className:"h-32 bg-gray-200 dark:bg-gray-700 rounded"},c))}),i.jsx("div",{className:"h-96 bg-gray-200 dark:bg-gray-700 rounded mb-8"}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsx("div",{className:"h-64 bg-gray-200 dark:bg-gray-700 rounded"}),i.jsx("div",{className:"h-64 bg-gray-200 dark:bg-gray-700 rounded"})]})]})});if(s)return i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsxs(re,{className:"border-red-200 dark:border-red-800",children:[i.jsx(be,{children:i.jsx(we,{className:"text-red-600 dark:text-red-400",children:"Market Trends Unavailable"})}),i.jsx(ie,{children:i.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Unable to fetch market trends data. Please try again later."})})]})});if(!t||t.marketMovement.totalSold===0)return i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsx("h1",{className:"text-4xl font-bold mb-8 text-center bg-gradient-to-r from-red-600 to-red-800 bg-clip-text text-transparent",children:"Marvel Card Market Trends"}),i.jsxs(re,{className:"border-yellow-200 dark:border-yellow-800",children:[i.jsx(be,{children:i.jsx(we,{className:"text-yellow-600 dark:text-yellow-400",children:"No Market Data"})}),i.jsx(ie,{children:i.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"No Marvel card sales data is currently available. Market trends will appear here once data is collected."})})]})]});const{marketMovement:n,trendData:r}=t,a={labels:r.map(l=>new Date(l.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})),datasets:[{label:"Marvel Card Average Price (USD)",data:r.map(l=>l.averagePrice),borderColor:"#dc2626",backgroundColor:"rgba(220, 38, 38, 0.1)",borderWidth:3,fill:!0,tension:.4,pointBackgroundColor:"#dc2626",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:5,pointHoverRadius:8}]},o={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!0,text:"30-Day Marvel Card Price Trend",font:{size:18,weight:"bold"},color:"#1f2937"},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#ffffff",bodyColor:"#ffffff",borderColor:"#dc2626",borderWidth:1,displayColors:!1,callbacks:{label:l=>`$${l.parsed.y.toFixed(2)}`}}},scales:{x:{grid:{display:!1},ticks:{color:"#6b7280"}},y:{grid:{color:"rgba(0, 0, 0, 0.1)"},ticks:{color:"#6b7280",callback:l=>`$${l}`}}}};return i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-red-600 to-red-800 bg-clip-text text-transparent",children:"Marvel Card Market Trends"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg",children:"Real-time insights from eBay marketplace data"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[i.jsxs(re,{className:"border-2 border-red-200 dark:border-red-800 bg-gradient-to-br from-red-50 to-white dark:from-red-950 dark:to-gray-900",children:[i.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(we,{className:"text-sm font-medium text-red-700 dark:text-red-300",children:"Average Price"}),i.jsx(ao,{className:"h-4 w-4 text-red-600 dark:text-red-400"})]}),i.jsxs(ie,{children:[i.jsxs("div",{className:"text-2xl font-bold text-red-800 dark:text-red-200",children:["$",n.averagePrice.toFixed(2)]}),i.jsxs("div",{className:"flex items-center mt-2",children:[n.percentChange>=0?i.jsx(ui,{className:"h-4 w-4 text-green-500 mr-1"}):i.jsx(Eg,{className:"h-4 w-4 text-red-500 mr-1"}),i.jsxs("span",{className:`text-sm font-medium ${n.percentChange>=0?"text-green-600":"text-red-600"}`,children:[n.percentChange>=0?"+":"",n.percentChange.toFixed(1),"%"]}),i.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"vs yesterday"})]})]})]}),i.jsxs(re,{className:"border-2 border-blue-200 dark:border-blue-800 bg-gradient-to-br from-blue-50 to-white dark:from-blue-950 dark:to-gray-900",children:[i.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(we,{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:"Cards Sold (24h)"}),i.jsx(j8,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})]}),i.jsxs(ie,{children:[i.jsx("div",{className:"text-2xl font-bold text-blue-800 dark:text-blue-200",children:n.totalSold.toLocaleString()}),i.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Marvel trading cards"})]})]}),i.jsxs(re,{className:"border-2 border-green-200 dark:border-green-800 bg-gradient-to-br from-green-50 to-white dark:from-green-950 dark:to-gray-900",children:[i.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(we,{className:"text-sm font-medium text-green-700 dark:text-green-300",children:"Highest Sale"}),i.jsx(ui,{className:"h-4 w-4 text-green-600 dark:text-green-400"})]}),i.jsxs(ie,{children:[i.jsxs("div",{className:"text-2xl font-bold text-green-800 dark:text-green-200",children:["$",n.highestSale.toFixed(2)]}),i.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Last 24 hours"})]})]}),i.jsxs(re,{className:"border-2 border-orange-200 dark:border-orange-800 bg-gradient-to-br from-orange-50 to-white dark:from-orange-950 dark:to-gray-900",children:[i.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(we,{className:"text-sm font-medium text-orange-700 dark:text-orange-300",children:"Lowest Sale"}),i.jsx(Eg,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"})]}),i.jsxs(ie,{children:[i.jsxs("div",{className:"text-2xl font-bold text-orange-800 dark:text-orange-200",children:["$",n.lowestSale.toFixed(2)]}),i.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Last 24 hours"})]})]})]}),i.jsxs(re,{className:"mb-8",children:[i.jsx(be,{children:i.jsx(we,{className:"text-xl text-gray-900 dark:text-white",children:"7-Day Price Movement"})}),i.jsx(ie,{children:i.jsx("div",{className:"h-96 w-full",children:i.jsx(Oee,{data:a,options:o})})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs(re,{className:"border-green-200 dark:border-green-800",children:[i.jsx(be,{children:i.jsxs(we,{className:"flex items-center text-green-700 dark:text-green-300",children:[i.jsx(ui,{className:"h-5 w-5 mr-2"}),"Top Gainers (24h)"]})}),i.jsx(ie,{children:t.topGainers.length>0?i.jsx("div",{className:"space-y-4",children:t.topGainers.map((l,c)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 dark:bg-green-950 rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[l.imageUrl&&i.jsx("img",{src:l.imageUrl,alt:l.name,className:"w-12 h-16 object-cover rounded"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:l.name}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["$",l.currentPrice.toFixed(2)]})]})]}),i.jsx("div",{className:"text-right",children:i.jsxs("p",{className:"text-green-600 dark:text-green-400 font-semibold",children:["+",l.priceChange.toFixed(1),"%"]})})]},c))}):i.jsx("p",{className:"text-gray-500 text-center py-8",children:"No price gainers data available"})})]}),i.jsxs(re,{className:"border-red-200 dark:border-red-800",children:[i.jsx(be,{children:i.jsxs(we,{className:"flex items-center text-red-700 dark:text-red-300",children:[i.jsx(Eg,{className:"h-5 w-5 mr-2"}),"Top Losers (24h)"]})}),i.jsx(ie,{children:t.topLosers.length>0?i.jsx("div",{className:"space-y-4",children:t.topLosers.map((l,c)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 dark:bg-red-950 rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[l.imageUrl&&i.jsx("img",{src:l.imageUrl,alt:l.name,className:"w-12 h-16 object-cover rounded"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:l.name}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["$",l.currentPrice.toFixed(2)]})]})]}),i.jsx("div",{className:"text-right",children:i.jsxs("p",{className:"text-red-600 dark:text-red-400 font-semibold",children:[l.priceChange.toFixed(1),"%"]})})]},c))}):i.jsx("p",{className:"text-gray-500 text-center py-8",children:"No price losers data available"})})]})]})]})}function Fee(t){return Object.prototype.toString.call(t)==="[object Object]"}function yS(t){return Fee(t)||Array.isArray(t)}function Uee(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Hb(t,e){const s=Object.keys(t),n=Object.keys(e);if(s.length!==n.length)return!1;const r=JSON.stringify(Object.keys(t.breakpoints||{})),a=JSON.stringify(Object.keys(e.breakpoints||{}));return r!==a?!1:s.every(o=>{const l=t[o],c=e[o];return typeof l=="function"?`${l}`==`${c}`:!yS(l)||!yS(c)?l===c:Hb(l,c)})}function vS(t){return t.concat().sort((e,s)=>e.name>s.name?1:-1).map(e=>e.options)}function zee(t,e){if(t.length!==e.length)return!1;const s=vS(t),n=vS(e);return s.every((r,a)=>{const o=n[a];return Hb(r,o)})}function Wb(t){return typeof t=="number"}function i0(t){return typeof t=="string"}function zp(t){return typeof t=="boolean"}function bS(t){return Object.prototype.toString.call(t)==="[object Object]"}function kt(t){return Math.abs(t)}function qb(t){return Math.sign(t)}function Md(t,e){return kt(t-e)}function Vee(t,e){if(t===0||e===0||kt(t)<=kt(e))return 0;const s=Md(kt(t),kt(e));return kt(s/t)}function $ee(t){return Math.round(t*100)/100}function _u(t){return Cu(t).map(Number)}function sr(t){return t[ih(t)]}function ih(t){return Math.max(0,t.length-1)}function Kb(t,e){return e===ih(t)}function wS(t,e=0){return Array.from(Array(t),(s,n)=>e+n)}function Cu(t){return Object.keys(t)}function OL(t,e){return[t,e].reduce((s,n)=>(Cu(n).forEach(r=>{const a=s[r],o=n[r],l=bS(a)&&bS(o);s[r]=l?OL(a,o):o}),s),{})}function a0(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function Bee(t,e){const s={start:n,center:r,end:a};function n(){return 0}function r(c){return a(c)/2}function a(c){return e-c}function o(c,d){return i0(t)?s[t](c):t(e,c,d)}return{measure:o}}function ku(){let t=[];function e(r,a,o,l={passive:!0}){let c;if("addEventListener"in r)r.addEventListener(a,o,l),c=()=>r.removeEventListener(a,o,l);else{const d=r;d.addListener(o),c=()=>d.removeListener(o)}return t.push(c),n}function s(){t=t.filter(r=>r())}const n={add:e,clear:s};return n}function Hee(t,e,s,n){const r=ku(),a=1e3/60;let o=null,l=0,c=0;function d(){r.add(t,"visibilitychange",()=>{t.hidden&&b()})}function u(){p(),r.clear()}function h(g){if(!c)return;o||(o=g,s(),s());const v=g-o;for(o=g,l+=v;l>=a;)s(),l-=a;const y=l/a;n(y),c&&(c=e.requestAnimationFrame(h))}function f(){c||(c=e.requestAnimationFrame(h))}function p(){e.cancelAnimationFrame(c),o=null,l=0,c=0}function b(){o=null,l=0}return{init:d,destroy:u,start:f,stop:p,update:s,render:n}}function Wee(t,e){const s=e==="rtl",n=t==="y",r=n?"y":"x",a=n?"x":"y",o=!n&&s?-1:1,l=u(),c=h();function d(b){const{height:m,width:g}=b;return n?m:g}function u(){return n?"top":s?"right":"left"}function h(){return n?"bottom":s?"left":"right"}function f(b){return b*o}return{scroll:r,cross:a,startEdge:l,endEdge:c,measureSize:d,direction:f}}function Do(t=0,e=0){const s=kt(t-e);function n(d){return d<t}function r(d){return d>e}function a(d){return n(d)||r(d)}function o(d){return a(d)?n(d)?t:e:d}function l(d){return s?d-s*Math.ceil((d-e)/s):d}return{length:s,max:e,min:t,constrain:o,reachedAny:a,reachedMax:r,reachedMin:n,removeOffset:l}}function LL(t,e,s){const{constrain:n}=Do(0,t),r=t+1;let a=o(e);function o(f){return s?kt((r+f)%r):n(f)}function l(){return a}function c(f){return a=o(f),h}function d(f){return u().set(l()+f)}function u(){return LL(t,l(),s)}const h={get:l,set:c,add:d,clone:u};return h}function qee(t,e,s,n,r,a,o,l,c,d,u,h,f,p,b,m,g,v,y){const{cross:w,direction:j}=t,N=["INPUT","SELECT","TEXTAREA"],C={passive:!1},_=ku(),k=ku(),M=Do(50,225).constrain(p.measure(20)),L={mouse:300,touch:400},O={mouse:500,touch:600},I=b?43:25;let B=!1,H=0,J=0,z=!1,q=!1,F=!1,W=!1;function Q(Y){if(!y)return;function Ie(ee){(zp(y)||y(Y,ee))&&Ue(ee)}const De=e;_.add(De,"dragstart",ee=>ee.preventDefault(),C).add(De,"touchmove",()=>{},C).add(De,"touchend",()=>{}).add(De,"touchstart",Ie).add(De,"mousedown",Ie).add(De,"touchcancel",Ee).add(De,"contextmenu",Ee).add(De,"click",P,!0)}function ae(){_.clear(),k.clear()}function he(){const Y=W?s:e;k.add(Y,"touchmove",ce,C).add(Y,"touchend",Ee).add(Y,"mousemove",ce,C).add(Y,"mouseup",Ee)}function Be(Y){const Ie=Y.nodeName||"";return N.includes(Ie)}function Ae(){return(b?O:L)[W?"mouse":"touch"]}function Ye(Y,Ie){const De=h.add(qb(Y)*-1),ee=u.byDistance(Y,!b).distance;return b||kt(Y)<M?ee:g&&Ie?ee*.5:u.byIndex(De.get(),0).distance}function Ue(Y){const Ie=a0(Y,n);W=Ie,F=b&&Ie&&!Y.buttons&&B,B=Md(r.get(),o.get())>=2,!(Ie&&Y.button!==0)&&(Be(Y.target)||(z=!0,a.pointerDown(Y),d.useFriction(0).useDuration(0),r.set(o),he(),H=a.readPoint(Y),J=a.readPoint(Y,w),f.emit("pointerDown")))}function ce(Y){if(!a0(Y,n)&&Y.touches.length>=2)return Ee(Y);const De=a.readPoint(Y),ee=a.readPoint(Y,w),ze=Md(De,H),Ke=Md(ee,J);if(!q&&!W&&(!Y.cancelable||(q=ze>Ke,!q)))return Ee(Y);const jt=a.pointerMove(Y);ze>m&&(F=!0),d.useFriction(.3).useDuration(.75),l.start(),r.add(j(jt)),Y.preventDefault()}function Ee(Y){const De=u.byDistance(0,!1).index!==h.get(),ee=a.pointerUp(Y)*Ae(),ze=Ye(j(ee),De),Ke=Vee(ee,ze),jt=I-10*Ke,ut=v+Ke/50;q=!1,z=!1,k.clear(),d.useDuration(jt).useFriction(ut),c.distance(ze,!b),W=!1,f.emit("pointerUp")}function P(Y){F&&(Y.stopPropagation(),Y.preventDefault(),F=!1)}function Z(){return z}return{init:Q,destroy:ae,pointerDown:Z}}function Kee(t,e){let n,r;function a(h){return h.timeStamp}function o(h,f){const b=`client${(f||t.scroll)==="x"?"X":"Y"}`;return(a0(h,e)?h:h.touches[0])[b]}function l(h){return n=h,r=h,o(h)}function c(h){const f=o(h)-o(r),p=a(h)-a(n)>170;return r=h,p&&(n=h),f}function d(h){if(!n||!r)return 0;const f=o(r)-o(n),p=a(h)-a(n),b=a(h)-a(r)>170,m=f/p;return p&&!b&&kt(m)>.1?m:0}return{pointerDown:l,pointerMove:c,pointerUp:d,readPoint:o}}function Gee(){function t(s){const{offsetTop:n,offsetLeft:r,offsetWidth:a,offsetHeight:o}=s;return{top:n,right:r+a,bottom:n+o,left:r,width:a,height:o}}return{measure:t}}function Qee(t){function e(n){return t*(n/100)}return{measure:e}}function Zee(t,e,s,n,r,a,o){const l=[t].concat(n);let c,d,u=[],h=!1;function f(g){return r.measureSize(o.measure(g))}function p(g){if(!a)return;d=f(t),u=n.map(f);function v(y){for(const w of y){if(h)return;const j=w.target===t,N=n.indexOf(w.target),C=j?d:u[N],_=f(j?t:n[N]);if(kt(_-C)>=.5){g.reInit(),e.emit("resize");break}}}c=new ResizeObserver(y=>{(zp(a)||a(g,y))&&v(y)}),s.requestAnimationFrame(()=>{l.forEach(y=>c.observe(y))})}function b(){h=!0,c&&c.disconnect()}return{init:p,destroy:b}}function Yee(t,e,s,n,r,a){let o=0,l=0,c=r,d=a,u=t.get(),h=0;function f(){const C=n.get()-t.get(),_=!c;let k=0;return _?(o=0,s.set(n),t.set(n),k=C):(s.set(t),o+=C/c,o*=d,u+=o,t.add(o),k=u-h),l=qb(k),h=u,N}function p(){const C=n.get()-e.get();return kt(C)<.001}function b(){return c}function m(){return l}function g(){return o}function v(){return w(r)}function y(){return j(a)}function w(C){return c=C,N}function j(C){return d=C,N}const N={direction:m,duration:b,velocity:g,seek:f,settled:p,useBaseFriction:y,useBaseDuration:v,useFriction:j,useDuration:w};return N}function Xee(t,e,s,n,r){const a=r.measure(10),o=r.measure(50),l=Do(.1,.99);let c=!1;function d(){return!(c||!t.reachedAny(s.get())||!t.reachedAny(e.get()))}function u(p){if(!d())return;const b=t.reachedMin(e.get())?"min":"max",m=kt(t[b]-e.get()),g=s.get()-e.get(),v=l.constrain(m/o);s.subtract(g*v),!p&&kt(g)<a&&(s.set(t.constrain(s.get())),n.useDuration(25).useBaseFriction())}function h(p){c=!p}return{shouldConstrain:d,constrain:u,toggleActive:h}}function Jee(t,e,s,n,r){const a=Do(-e+t,0),o=h(),l=u(),c=f();function d(b,m){return Md(b,m)<=1}function u(){const b=o[0],m=sr(o),g=o.lastIndexOf(b),v=o.indexOf(m)+1;return Do(g,v)}function h(){return s.map((b,m)=>{const{min:g,max:v}=a,y=a.constrain(b),w=!m,j=Kb(s,m);return w?v:j||d(g,y)?g:d(v,y)?v:y}).map(b=>parseFloat(b.toFixed(3)))}function f(){if(e<=t+r)return[a.max];if(n==="keepSnaps")return o;const{min:b,max:m}=l;return o.slice(b,m)}return{snapsContained:c,scrollContainLimit:l}}function ete(t,e,s){const n=e[0],r=s?n-t:sr(e);return{limit:Do(r,n)}}function tte(t,e,s,n){const a=e.min+.1,o=e.max+.1,{reachedMin:l,reachedMax:c}=Do(a,o);function d(f){return f===1?c(s.get()):f===-1?l(s.get()):!1}function u(f){if(!d(f))return;const p=t*(f*-1);n.forEach(b=>b.add(p))}return{loop:u}}function ste(t){const{max:e,length:s}=t;function n(a){const o=a-e;return s?o/-s:0}return{get:n}}function nte(t,e,s,n,r){const{startEdge:a,endEdge:o}=t,{groupSlides:l}=r,c=h().map(e.measure),d=f(),u=p();function h(){return l(n).map(m=>sr(m)[o]-m[0][a]).map(kt)}function f(){return n.map(m=>s[a]-m[a]).map(m=>-kt(m))}function p(){return l(d).map(m=>m[0]).map((m,g)=>m+c[g])}return{snaps:d,snapsAligned:u}}function rte(t,e,s,n,r,a){const{groupSlides:o}=r,{min:l,max:c}=n,d=u();function u(){const f=o(a),p=!t||e==="keepSnaps";return s.length===1?[a]:p?f:f.slice(l,c).map((b,m,g)=>{const v=!m,y=Kb(g,m);if(v){const w=sr(g[0])+1;return wS(w)}if(y){const w=ih(a)-sr(g)[0]+1;return wS(w,sr(g)[0])}return b})}return{slideRegistry:d}}function ite(t,e,s,n,r){const{reachedAny:a,removeOffset:o,constrain:l}=n;function c(b){return b.concat().sort((m,g)=>kt(m)-kt(g))[0]}function d(b){const m=t?o(b):l(b),g=e.map((y,w)=>({diff:u(y-m,0),index:w})).sort((y,w)=>kt(y.diff)-kt(w.diff)),{index:v}=g[0];return{index:v,distance:m}}function u(b,m){const g=[b,b+s,b-s];if(!t)return b;if(!m)return c(g);const v=g.filter(y=>qb(y)===m);return v.length?c(v):sr(g)-s}function h(b,m){const g=e[b]-r.get(),v=u(g,m);return{index:b,distance:v}}function f(b,m){const g=r.get()+b,{index:v,distance:y}=d(g),w=!t&&a(g);if(!m||w)return{index:v,distance:b};const j=e[v]-y,N=b+u(j,0);return{index:v,distance:N}}return{byDistance:f,byIndex:h,shortcut:u}}function ate(t,e,s,n,r,a,o){function l(h){const f=h.distance,p=h.index!==e.get();a.add(f),f&&(n.duration()?t.start():(t.update(),t.render(1),t.update())),p&&(s.set(e.get()),e.set(h.index),o.emit("select"))}function c(h,f){const p=r.byDistance(h,f);l(p)}function d(h,f){const p=e.clone().set(h),b=r.byIndex(p.get(),f);l(b)}return{distance:c,index:d}}function ote(t,e,s,n,r,a,o,l){const c={passive:!0,capture:!0};let d=0;function u(p){if(!l)return;function b(m){if(new Date().getTime()-d>10)return;o.emit("slideFocusStart"),t.scrollLeft=0;const y=s.findIndex(w=>w.includes(m));Wb(y)&&(r.useDuration(0),n.index(y,0),o.emit("slideFocus"))}a.add(document,"keydown",h,!1),e.forEach((m,g)=>{a.add(m,"focus",v=>{(zp(l)||l(p,v))&&b(g)},c)})}function h(p){p.code==="Tab"&&(d=new Date().getTime())}return{init:u}}function ud(t){let e=t;function s(){return e}function n(c){e=o(c)}function r(c){e+=o(c)}function a(c){e-=o(c)}function o(c){return Wb(c)?c:c.get()}return{get:s,set:n,add:r,subtract:a}}function FL(t,e){const s=t.scroll==="x"?o:l,n=e.style;let r=null,a=!1;function o(f){return`translate3d(${f}px,0px,0px)`}function l(f){return`translate3d(0px,${f}px,0px)`}function c(f){if(a)return;const p=$ee(t.direction(f));p!==r&&(n.transform=s(p),r=p)}function d(f){a=!f}function u(){a||(n.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:u,to:c,toggleActive:d}}function lte(t,e,s,n,r,a,o,l,c){const u=_u(r),h=_u(r).reverse(),f=v().concat(y());function p(_,k){return _.reduce((M,L)=>M-r[L],k)}function b(_,k){return _.reduce((M,L)=>p(M,k)>0?M.concat([L]):M,[])}function m(_){return a.map((k,M)=>({start:k-n[M]+.5+_,end:k+e-.5+_}))}function g(_,k,M){const L=m(k);return _.map(O=>{const I=M?0:-s,B=M?s:0,H=M?"end":"start",J=L[O][H];return{index:O,loopPoint:J,slideLocation:ud(-1),translate:FL(t,c[O]),target:()=>l.get()>J?I:B}})}function v(){const _=o[0],k=b(h,_);return g(k,s,!1)}function y(){const _=e-o[0]-1,k=b(u,_);return g(k,-s,!0)}function w(){return f.every(({index:_})=>{const k=u.filter(M=>M!==_);return p(k,e)<=.1})}function j(){f.forEach(_=>{const{target:k,translate:M,slideLocation:L}=_,O=k();O!==L.get()&&(M.to(O),L.set(O))})}function N(){f.forEach(_=>_.translate.clear())}return{canLoop:w,clear:N,loop:j,loopPoints:f}}function cte(t,e,s){let n,r=!1;function a(c){if(!s)return;function d(u){for(const h of u)if(h.type==="childList"){c.reInit(),e.emit("slidesChanged");break}}n=new MutationObserver(u=>{r||(zp(s)||s(c,u))&&d(u)}),n.observe(t,{childList:!0})}function o(){n&&n.disconnect(),r=!0}return{init:a,destroy:o}}function dte(t,e,s,n){const r={};let a=null,o=null,l,c=!1;function d(){l=new IntersectionObserver(b=>{c||(b.forEach(m=>{const g=e.indexOf(m.target);r[g]=m}),a=null,o=null,s.emit("slidesInView"))},{root:t.parentElement,threshold:n}),e.forEach(b=>l.observe(b))}function u(){l&&l.disconnect(),c=!0}function h(b){return Cu(r).reduce((m,g)=>{const v=parseInt(g),{isIntersecting:y}=r[v];return(b&&y||!b&&!y)&&m.push(v),m},[])}function f(b=!0){if(b&&a)return a;if(!b&&o)return o;const m=h(b);return b&&(a=m),b||(o=m),m}return{init:d,destroy:u,get:f}}function ute(t,e,s,n,r,a){const{measureSize:o,startEdge:l,endEdge:c}=t,d=s[0]&&r,u=b(),h=m(),f=s.map(o),p=g();function b(){if(!d)return 0;const y=s[0];return kt(e[l]-y[l])}function m(){if(!d)return 0;const y=a.getComputedStyle(sr(n));return parseFloat(y.getPropertyValue(`margin-${c}`))}function g(){return s.map((y,w,j)=>{const N=!w,C=Kb(j,w);return N?f[w]+u:C?f[w]+h:j[w+1][l]-y[l]}).map(kt)}return{slideSizes:f,slideSizesWithGaps:p,startGap:u,endGap:h}}function hte(t,e,s,n,r,a,o,l,c){const{startEdge:d,endEdge:u,direction:h}=t,f=Wb(s);function p(v,y){return _u(v).filter(w=>w%y===0).map(w=>v.slice(w,w+y))}function b(v){return v.length?_u(v).reduce((y,w,j)=>{const N=sr(y)||0,C=N===0,_=w===ih(v),k=r[d]-a[N][d],M=r[d]-a[w][u],L=!n&&C?h(o):0,O=!n&&_?h(l):0,I=kt(M-O-(k+L));return j&&I>e+c&&y.push(w),_&&y.push(v.length),y},[]).map((y,w,j)=>{const N=Math.max(j[w-1]||0);return v.slice(N,y)}):[]}function m(v){return f?p(v,s):b(v)}return{groupSlides:m}}function fte(t,e,s,n,r,a,o){const{align:l,axis:c,direction:d,startIndex:u,loop:h,duration:f,dragFree:p,dragThreshold:b,inViewThreshold:m,slidesToScroll:g,skipSnaps:v,containScroll:y,watchResize:w,watchSlides:j,watchDrag:N,watchFocus:C}=a,_=2,k=Gee(),M=k.measure(e),L=s.map(k.measure),O=Wee(c,d),I=O.measureSize(M),B=Qee(I),H=Bee(l,I),J=!h&&!!y,z=h||!!y,{slideSizes:q,slideSizesWithGaps:F,startGap:W,endGap:Q}=ute(O,M,L,s,z,r),ae=hte(O,I,g,h,M,L,W,Q,_),{snaps:he,snapsAligned:Be}=nte(O,H,M,L,ae),Ae=-sr(he)+sr(F),{snapsContained:Ye,scrollContainLimit:Ue}=Jee(I,Ae,Be,y,_),ce=J?Ye:Be,{limit:Ee}=ete(Ae,ce,h),P=LL(ih(ce),u,h),Z=P.clone(),oe=_u(s),Y=({dragHandler:Pe,scrollBody:nt,scrollBounds:Tc,options:{loop:_i}})=>{_i||Tc.constrain(Pe.pointerDown()),nt.seek()},Ie=({scrollBody:Pe,translate:nt,location:Tc,offsetLocation:_i,previousLocation:Ac,scrollLooper:Vp,slideLooper:ah,dragHandler:$p,animation:oh,eventHandler:Qb,scrollBounds:UL,options:{loop:Zb}},Yb)=>{const Xb=Pe.settled(),zL=!UL.shouldConstrain(),Jb=Zb?Xb:Xb&&zL,ew=Jb&&!$p.pointerDown();ew&&oh.stop();const VL=Tc.get()*Yb+Ac.get()*(1-Yb);_i.set(VL),Zb&&(Vp.loop(Pe.direction()),ah.loop()),nt.to(_i.get()),ew&&Qb.emit("settle"),Jb||Qb.emit("scroll")},De=Hee(n,r,()=>Y(Ne),Pe=>Ie(Ne,Pe)),ee=.68,ze=ce[P.get()],Ke=ud(ze),jt=ud(ze),ut=ud(ze),ft=ud(ze),Nt=Yee(Ke,ut,jt,ft,f,ee),S=ite(h,ce,Ae,Ee,ft),T=ate(De,P,Z,Nt,S,ft,o),V=ste(Ee),E=ku(),R=dte(e,s,o,m),{slideRegistry:U}=rte(J,y,ce,Ue,ae,oe),K=ote(t,s,U,T,Nt,E,o,C),Ne={ownerDocument:n,ownerWindow:r,eventHandler:o,containerRect:M,slideRects:L,animation:De,axis:O,dragHandler:qee(O,t,n,r,ft,Kee(O,r),Ke,De,T,Nt,S,P,o,B,p,b,v,ee,N),eventStore:E,percentOfView:B,index:P,indexPrevious:Z,limit:Ee,location:Ke,offsetLocation:ut,previousLocation:jt,options:a,resizeHandler:Zee(e,o,r,s,O,w,k),scrollBody:Nt,scrollBounds:Xee(Ee,ut,ft,Nt,B),scrollLooper:tte(Ae,Ee,ut,[Ke,ut,jt,ft]),scrollProgress:V,scrollSnapList:ce.map(V.get),scrollSnaps:ce,scrollTarget:S,scrollTo:T,slideLooper:lte(O,I,Ae,q,F,he,ce,ut,s),slideFocus:K,slidesHandler:cte(e,o,j),slidesInView:R,slideIndexes:oe,slideRegistry:U,slidesToScroll:ae,target:ft,translate:FL(O,e)};return Ne}function mte(){let t={},e;function s(d){e=d}function n(d){return t[d]||[]}function r(d){return n(d).forEach(u=>u(e,d)),c}function a(d,u){return t[d]=n(d).concat([u]),c}function o(d,u){return t[d]=n(d).filter(h=>h!==u),c}function l(){t={}}const c={init:s,emit:r,off:o,on:a,clear:l};return c}const pte={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function gte(t){function e(a,o){return OL(a,o||{})}function s(a){const o=a.breakpoints||{},l=Cu(o).filter(c=>t.matchMedia(c).matches).map(c=>o[c]).reduce((c,d)=>e(c,d),{});return e(a,l)}function n(a){return a.map(o=>Cu(o.breakpoints||{})).reduce((o,l)=>o.concat(l),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:s,optionsMediaQueries:n}}function xte(t){let e=[];function s(a,o){return e=o.filter(({options:l})=>t.optionsAtMedia(l).active!==!1),e.forEach(l=>l.init(a,t)),o.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function n(){e=e.filter(a=>a.destroy())}return{init:s,destroy:n}}function Bm(t,e,s){const n=t.ownerDocument,r=n.defaultView,a=gte(r),o=xte(a),l=ku(),c=mte(),{mergeOptions:d,optionsAtMedia:u,optionsMediaQueries:h}=a,{on:f,off:p,emit:b}=c,m=O;let g=!1,v,y=d(pte,Bm.globalOptions),w=d(y),j=[],N,C,_;function k(){const{container:oe,slides:Y}=w;C=(i0(oe)?t.querySelector(oe):oe)||t.children[0];const De=i0(Y)?C.querySelectorAll(Y):Y;_=[].slice.call(De||C.children)}function M(oe){const Y=fte(t,C,_,n,r,oe,c);if(oe.loop&&!Y.slideLooper.canLoop()){const Ie=Object.assign({},oe,{loop:!1});return M(Ie)}return Y}function L(oe,Y){g||(y=d(y,oe),w=u(y),j=Y||j,k(),v=M(w),h([y,...j.map(({options:Ie})=>Ie)]).forEach(Ie=>l.add(Ie,"change",O)),w.active&&(v.translate.to(v.location.get()),v.animation.init(),v.slidesInView.init(),v.slideFocus.init(Z),v.eventHandler.init(Z),v.resizeHandler.init(Z),v.slidesHandler.init(Z),v.options.loop&&v.slideLooper.loop(),C.offsetParent&&_.length&&v.dragHandler.init(Z),N=o.init(Z,j)))}function O(oe,Y){const Ie=ae();I(),L(d({startIndex:Ie},oe),Y),c.emit("reInit")}function I(){v.dragHandler.destroy(),v.eventStore.clear(),v.translate.clear(),v.slideLooper.clear(),v.resizeHandler.destroy(),v.slidesHandler.destroy(),v.slidesInView.destroy(),v.animation.destroy(),o.destroy(),l.clear()}function B(){g||(g=!0,l.clear(),I(),c.emit("destroy"),c.clear())}function H(oe,Y,Ie){!w.active||g||(v.scrollBody.useBaseFriction().useDuration(Y===!0?0:w.duration),v.scrollTo.index(oe,Ie||0))}function J(oe){const Y=v.index.add(1).get();H(Y,oe,-1)}function z(oe){const Y=v.index.add(-1).get();H(Y,oe,1)}function q(){return v.index.add(1).get()!==ae()}function F(){return v.index.add(-1).get()!==ae()}function W(){return v.scrollSnapList}function Q(){return v.scrollProgress.get(v.offsetLocation.get())}function ae(){return v.index.get()}function he(){return v.indexPrevious.get()}function Be(){return v.slidesInView.get()}function Ae(){return v.slidesInView.get(!1)}function Ye(){return N}function Ue(){return v}function ce(){return t}function Ee(){return C}function P(){return _}const Z={canScrollNext:q,canScrollPrev:F,containerNode:Ee,internalEngine:Ue,destroy:B,off:p,on:f,emit:b,plugins:Ye,previousScrollSnap:he,reInit:m,rootNode:ce,scrollNext:J,scrollPrev:z,scrollProgress:Q,scrollSnapList:W,scrollTo:H,selectedScrollSnap:ae,slideNodes:P,slidesInView:Be,slidesNotInView:Ae};return L(e,s),setTimeout(()=>c.emit("init"),0),Z}Bm.globalOptions=void 0;function Gb(t={},e=[]){const s=x.useRef(t),n=x.useRef(e),[r,a]=x.useState(),[o,l]=x.useState(),c=x.useCallback(()=>{r&&r.reInit(s.current,n.current)},[r]);return x.useEffect(()=>{Hb(s.current,t)||(s.current=t,c())},[t,c]),x.useEffect(()=>{zee(n.current,e)||(n.current=e,c())},[e,c]),x.useEffect(()=>{if(Uee()&&o){Bm.globalOptions=Gb.globalOptions;const d=Bm(o,s.current,n.current);return a(d),()=>d.destroy()}else a(void 0)},[o,a]),[l,r]}Gb.globalOptions=void 0;function yte({releaseDate:t}){const[e,s]=x.useState(null);return x.useEffect(()=>{const n=()=>{const a=new Date().getTime(),l=new Date(t).getTime()-a;if(l<=0){s({days:0,hours:0,minutes:0,seconds:0});return}const c=Math.floor(l/(1e3*60*60*24)),d=Math.floor(l%(1e3*60*60*24)/(1e3*60*60)),u=Math.floor(l%(1e3*60*60)/(1e3*60)),h=Math.floor(l%(1e3*60)/1e3);s({days:c,hours:d,minutes:u,seconds:h})};n();const r=setInterval(n,1e3);return()=>clearInterval(r)},[t]),e?i.jsxs("div",{className:"flex items-center gap-4 bg-gradient-to-r from-red-600 to-orange-600 text-white px-4 py-3 rounded-lg",children:[i.jsx(Sr,{className:"w-5 h-5"}),i.jsxs("div",{className:"flex gap-4 text-sm font-medium",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bebas",children:e.days}),i.jsx("div",{className:"text-xs opacity-90",children:"Days"})]}),i.jsx("div",{className:"text-xl font-bebas self-center",children:":"}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bebas",children:String(e.hours).padStart(2,"0")}),i.jsx("div",{className:"text-xs opacity-90",children:"Hours"})]}),i.jsx("div",{className:"text-xl font-bebas self-center",children:":"}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bebas",children:String(e.minutes).padStart(2,"0")}),i.jsx("div",{className:"text-xs opacity-90",children:"Min"})]}),i.jsx("div",{className:"text-xl font-bebas self-center",children:":"}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bebas",children:String(e.seconds).padStart(2,"0")}),i.jsx("div",{className:"text-xs opacity-90",children:"Sec"})]})]})]}):null}function vte({sets:t}){const[e,s]=Gb({loop:!0,align:"start"}),[n,r]=x.useState(0),{user:a}=cr(),{toast:o}=dt(),l=Gt(),c=Me({mutationFn:async h=>_e("POST",`/api/upcoming-sets/${h}/interest`),onSuccess:()=>{l.invalidateQueries({queryKey:["/api/upcoming-sets"]}),o({title:"Interest recorded!",description:"We'll notify you when this set is available."})},onError:()=>{o({title:"Failed to record interest",variant:"destructive"})}});x.useEffect(()=>{if(!s)return;const h=()=>{r(s.selectedScrollSnap())};return s.on("select",h),h(),()=>{s.off("select",h)}},[s]);const d=()=>s==null?void 0:s.scrollPrev(),u=()=>s==null?void 0:s.scrollNext();return t.length===0?null:i.jsxs("div",{className:"relative bg-gradient-to-br from-gray-900 via-red-900 to-gray-900 rounded-xl p-8 shadow-2xl",children:[i.jsxs("div",{className:"mb-6 text-center",children:[i.jsx("h2",{className:"text-3xl font-bebas tracking-wide text-white mb-2",children:"Coming Soon"}),i.jsx("p",{className:"text-gray-300",children:"Upcoming Marvel card set releases"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"overflow-hidden",ref:e,children:i.jsx("div",{className:"flex gap-6",children:t.map(h=>i.jsx("div",{className:"flex-[0_0_100%] md:flex-[0_0_calc(50%-12px)] lg:flex-[0_0_calc(33.333%-16px)] min-w-0","data-testid":`carousel-set-${h.id}`,children:i.jsxs(re,{className:"h-full overflow-hidden bg-white border-2 border-gray-200 hover:border-red-500 transition-all",children:[h.thumbnailUrl&&i.jsxs("div",{className:"aspect-video bg-gray-100 overflow-hidden relative",children:[i.jsx("img",{src:h.thumbnailUrl,alt:h.name,className:"w-full h-full object-cover"}),h.dateConfidence==="confirmed"&&i.jsx(ve,{className:"absolute top-3 right-3 bg-green-600 text-white border-none",children:"Confirmed"})]}),i.jsxs(ie,{className:"p-5 space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bebas tracking-wide text-gray-900 mb-2","data-testid":`text-carousel-setname-${h.id}`,children:h.name}),i.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[h.manufacturer&&i.jsx(ve,{variant:"secondary",className:"text-xs",children:h.manufacturer}),h.productLine&&i.jsx(ve,{variant:"outline",className:"text-xs",children:h.productLine}),h.status==="delayed"&&i.jsx(ve,{className:"bg-yellow-100 text-yellow-800 border-yellow-300 text-xs",children:"Delayed"})]})]}),h.releaseDateEstimated&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[i.jsx(Or,{className:"w-4 h-4 mr-2 text-red-600"}),i.jsx("span",{className:"font-medium",children:new Date(h.releaseDateEstimated).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),i.jsx(yte,{releaseDate:h.releaseDateEstimated})]}),h.msrp&&i.jsxs("div",{className:"flex items-center justify-between bg-green-50 border border-green-200 rounded-lg px-3 py-2",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"MSRP:"}),i.jsxs("span",{className:"text-lg font-bold text-green-700",children:["$",h.msrp]})]}),h.description&&i.jsx("p",{className:"text-sm text-gray-700 line-clamp-3 leading-relaxed",children:h.description}),h.interestCount>0&&i.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-1",children:[i.jsx(So,{className:"w-4 h-4 text-marvel-red"}),i.jsx("span",{className:"font-medium text-marvel-red",children:h.interestCount}),i.jsxs("span",{children:[h.interestCount===1?"collector":"collectors"," interested"]})]}),i.jsxs("div",{className:"flex gap-2 pt-2",children:[a&&i.jsxs($,{onClick:()=>c.mutate(h.id),disabled:c.isPending,className:"flex-1 bg-marvel-red hover:bg-red-700",size:"sm","data-testid":`button-notify-${h.id}`,children:[i.jsx(So,{className:"w-4 h-4 mr-2"}),"Notify Me"]}),h.sourceUrl&&i.jsxs($,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>window.open(h.sourceUrl,"_blank"),"data-testid":`button-source-${h.id}`,children:[i.jsx(ET,{className:"w-4 h-4 mr-2"}),"Learn More"]})]})]})]})},h.id))})}),t.length>1&&i.jsxs(i.Fragment,{children:[i.jsx($,{variant:"ghost",size:"icon",className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-4 bg-white/90 hover:bg-white shadow-lg rounded-full",onClick:d,"data-testid":"button-carousel-prev",children:i.jsx(f8,{className:"w-6 h-6"})}),i.jsx($,{variant:"ghost",size:"icon",className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-4 bg-white/90 hover:bg-white shadow-lg rounded-full",onClick:u,"data-testid":"button-carousel-next",children:i.jsx(m8,{className:"w-6 h-6"})})]})]}),t.length>1&&i.jsx("div",{className:"flex justify-center gap-2 mt-6",children:t.map((h,f)=>i.jsx("button",{className:`w-2 h-2 rounded-full transition-all ${f===n?"bg-white w-8":"bg-white/40"}`,onClick:()=>s==null?void 0:s.scrollTo(f),"data-testid":`dot-${f}`},f))})]})}function bte(){const{user:t}=cr(),{data:e=[],isLoading:s}=Ce({queryKey:["/api/upcoming-sets"],queryFn:async()=>_e("GET","/api/upcoming-sets?limit=10").then(a=>a.json())}),n=e.filter(a=>a.thumbnailUrl),r=e.filter(a=>!a.thumbnailUrl);return i.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("h1",{className:"text-4xl font-bebas tracking-wide text-gray-900",children:"Upcoming Sets"}),i.jsx("p",{className:"text-gray-600",children:"Stay up to date with upcoming Marvel card set releases"})]}),s?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-red-600 border-t-transparent rounded-full mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Loading upcoming sets..."})]}):e.length===0?i.jsxs("div",{className:"text-center py-12 bg-white rounded-lg border border-gray-200",children:[i.jsx(kv,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Upcoming Sets"}),i.jsx("p",{className:"text-gray-600",children:"Check back soon for announcements about upcoming Marvel card sets!"})]}):i.jsxs(i.Fragment,{children:[n.length>0&&i.jsx(vte,{sets:n}),r.length>0&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h2",{className:"text-2xl font-bebas tracking-wide text-gray-900",children:"More Upcoming Releases"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(a=>i.jsx(re,{className:"overflow-hidden hover:shadow-xl transition-shadow border-gray-200 bg-white","data-testid":`card-upcoming-set-${a.id}`,children:i.jsxs(ie,{className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2","data-testid":`text-setname-${a.id}`,children:a.name}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.manufacturer&&i.jsx(ve,{variant:"secondary",children:a.manufacturer}),a.productLine&&i.jsx(ve,{variant:"outline",children:a.productLine})]})]}),a.releaseDateEstimated&&i.jsxs("div",{className:"flex items-center text-sm text-gray-700 bg-red-50 border border-red-200 rounded-lg p-3",children:[i.jsx(Or,{className:"w-4 h-4 mr-2 text-red-600"}),i.jsx("span",{className:"font-medium",children:new Date(a.releaseDateEstimated).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),a.dateConfidence==="confirmed"&&i.jsx(ve,{className:"ml-auto bg-green-600 text-white text-xs",children:"Confirmed"})]}),a.msrp&&i.jsxs("div",{className:"flex items-center justify-between bg-green-50 border border-green-200 rounded-lg px-3 py-2",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"MSRP:"}),i.jsxs("span",{className:"text-lg font-bold text-green-700",children:["$",a.msrp]})]}),a.description&&i.jsx("p",{className:"text-gray-700 text-sm leading-relaxed line-clamp-3",children:a.description}),a.interestCount>0&&i.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-1",children:[i.jsx(So,{className:"w-4 h-4 text-marvel-red"}),i.jsx("span",{className:"font-medium text-marvel-red",children:a.interestCount}),i.jsxs("span",{children:[a.interestCount===1?"collector":"collectors"," interested"]})]}),t&&i.jsxs($,{onClick:()=>{Me({mutationFn:async()=>_e("POST",`/api/upcoming-sets/${a.id}/interest`),onSuccess:()=>{Rs.invalidateQueries({queryKey:["/api/upcoming-sets"]})}}).mutate()},className:"w-full bg-marvel-red hover:bg-red-700",size:"sm","data-testid":`button-notify-${a.id}`,children:[i.jsx(So,{className:"w-4 h-4 mr-2"}),"Notify Me"]})]})},a.id))})]})]}),e.length>0&&i.jsx("div",{className:"mt-8 text-center p-6 bg-gradient-to-r from-red-50 to-red-100 border border-red-200 rounded-lg",children:i.jsxs("p",{className:"text-gray-700",children:[i.jsx("span",{className:"font-semibold text-red-600",children:"Stay tuned!"})," More exciting Marvel card sets coming soon. We'll keep this page updated with the latest announcements."]})})]})})}function wte(){const[t,e]=x.useState(null),[s,n]=x.useState(null),[r,a]=x.useState(!1),[o,l]=x.useState(!1),c=async()=>{a(!0);try{const h=await(await fetch("/api/ebay-api-status")).json();e(h)}catch(u){console.error("Failed to check API status:",u)}finally{a(!1)}},d=async()=>{l(!0);try{const u=localStorage.getItem("authToken"),f=await(await fetch("/api/market-trends/historical",{headers:{Authorization:`Bearer ${u}`}})).json();n(f)}catch(u){console.error("Failed to get historical data:",u)}finally{l(!1)}};return i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-red-600 to-red-800 bg-clip-text text-transparent",children:"eBay API Data Strategy Demo"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg",children:"Demonstrating Marvel card market data capabilities and limitations"})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[i.jsxs(re,{children:[i.jsx(be,{children:i.jsxs(we,{className:"flex items-center",children:[i.jsx(Cv,{className:"h-5 w-5 mr-2"}),"eBay API Access Status"]})}),i.jsxs(ie,{children:[i.jsx($,{onClick:c,disabled:r,className:"mb-4",children:r?"Checking...":"Check API Status"}),t&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[i.jsxs("div",{className:"flex items-center",children:[t.browseApi.hasAccess?i.jsx(Lr,{className:"h-5 w-5 text-green-500 mr-2"}):i.jsx(_o,{className:"h-5 w-5 text-red-500 mr-2"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"Browse API"}),i.jsx("p",{className:"text-sm text-gray-600",children:t.browseApi.message})]})]}),i.jsx(ve,{variant:t.browseApi.hasAccess?"default":"destructive",children:t.browseApi.hasAccess?"Active":"Error"})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[i.jsxs("div",{className:"flex items-center",children:[t.marketplaceInsights.hasAccess?i.jsx(Lr,{className:"h-5 w-5 text-green-500 mr-2"}):i.jsx(Jn,{className:"h-5 w-5 text-yellow-500 mr-2"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"Marketplace Insights API"}),i.jsx("p",{className:"text-sm text-gray-600",children:t.marketplaceInsights.message})]})]}),i.jsx(ve,{variant:t.marketplaceInsights.hasAccess?"default":"secondary",children:t.marketplaceInsights.hasAccess?"Approved":"Pending"})]}),t.recommendations.length>0&&i.jsxs(hi,{children:[i.jsx(Jn,{className:"h-4 w-4"}),i.jsxs(fi,{children:[i.jsx("strong",{children:"Action Required:"}),i.jsx("ul",{className:"mt-2 space-y-1",children:t.recommendations.map((u,h)=>i.jsxs("li",{children:[" ",u]},h))})]})]})]})]})]}),i.jsxs(re,{children:[i.jsx(be,{children:i.jsxs(we,{className:"flex items-center",children:[i.jsx(ui,{className:"h-5 w-5 mr-2"}),"Historical Sales Data"]})}),i.jsxs(ie,{children:[i.jsx($,{onClick:d,disabled:o,className:"mb-4",children:o?"Loading...":"Get Historical Data"}),s&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"text-center p-3 bg-blue-50 dark:bg-blue-950 rounded",children:[i.jsx("h4",{className:"font-medium text-blue-700 dark:text-blue-300",children:"Total Sales"}),i.jsx("p",{className:"text-2xl font-bold",children:s.totalSales.toLocaleString()})]}),i.jsxs("div",{className:"text-center p-3 bg-green-50 dark:bg-green-950 rounded",children:[i.jsx("h4",{className:"font-medium text-green-700 dark:text-green-300",children:"Avg Price"}),i.jsxs("p",{className:"text-2xl font-bold",children:["$",s.averagePrice.toFixed(2)]})]})]}),i.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-950 rounded",children:[i.jsx("h4",{className:"font-medium",children:"Price Range"}),i.jsxs("p",{className:"text-lg",children:["$",s.priceRange.min.toFixed(2)," - $",s.priceRange.max.toFixed(2)]})]}),i.jsx(hi,{children:i.jsxs(fi,{children:[i.jsx("strong",{children:"Data Source:"})," ",s.dataSource,i.jsx("br",{}),i.jsx("strong",{children:"Time Window:"})," ",s.timeWindow,i.jsx("br",{}),i.jsx("em",{children:s.note})]})}),s.topSellers.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-2",children:"Top Sales:"}),i.jsx("div",{className:"space-y-2",children:s.topSellers.slice(0,3).map((u,h)=>i.jsxs("div",{className:"flex justify-between p-2 bg-gray-50 dark:bg-gray-950 rounded text-sm",children:[i.jsx("span",{className:"truncate mr-2",children:u.title}),i.jsxs("span",{className:"font-medium",children:["$",u.price.toFixed(2)]})]},h))})]})]})]})]})]}),i.jsxs(re,{className:"mb-8",children:[i.jsx(be,{children:i.jsx(we,{children:"eBay Historical Data Strategy"})}),i.jsxs(ie,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-green-600 mb-2",children:" What We CAN Get:"}),i.jsxs("ul",{className:"space-y-1 text-sm",children:[i.jsx("li",{children:" Browse API: Current active Marvel card listings"}),i.jsx("li",{children:" Current asking prices and inventory levels"}),i.jsx("li",{children:" Marketplace Insights API: Last 90 days of sales (with approval)"}),i.jsx("li",{children:" Real transaction prices and volumes"}),i.jsx("li",{children:" Daily sales trends and market movement"})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-red-600 mb-2",children:" What We CAN'T Get:"}),i.jsxs("ul",{className:"space-y-1 text-sm",children:[i.jsx("li",{children:" findCompletedItems API: Deprecated February 2025"}),i.jsx("li",{children:" Historical data beyond 90 days via official APIs"}),i.jsx("li",{children:" Bulk historical exports"}),i.jsx("li",{children:" Market research without business approval"})]})]})]}),i.jsxs(hi,{children:[i.jsx(Jn,{className:"h-4 w-4"}),i.jsxs(fi,{children:[i.jsx("strong",{children:"Recommendation:"})," For comprehensive Marvel card market analysis, we recommend:",i.jsx("br",{}),"1. Apply for eBay Marketplace Insights API business approval",i.jsx("br",{}),"2. Use Terapeak (eBay's official research tool) for deeper historical analysis",i.jsx("br",{}),"3. Consider third-party services like WatchCount.com for broader market data",i.jsx("br",{}),"4. Build daily snapshots in our database to create our own historical dataset"]})]})]})]})]})}function jte(){const[,t]=Ns(),[e,s]=x.useState(null);return x.useEffect(()=>{const r=new URLSearchParams(window.location.search).get("session_id");s(r)},[]),i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 dark:from-purple-900/20 dark:via-pink-900/20 dark:to-blue-900/20 flex items-center justify-center p-4",children:i.jsxs(re,{className:"max-w-md w-full text-center",children:[i.jsxs(be,{className:"space-y-4",children:[i.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center",children:i.jsx(Lr,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),i.jsx(we,{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Welcome to Super Hero!"})]}),i.jsxs(ie,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-muted-foreground",children:"Your subscription has been activated successfully. You now have access to:"}),i.jsxs("div",{className:"space-y-2 mt-4",children:[i.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm",children:[i.jsx(oo,{className:"w-4 h-4 text-yellow-500"}),i.jsx("span",{children:"Unlimited card tracking"})]}),i.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm",children:[i.jsx(oo,{className:"w-4 h-4 text-yellow-500"}),i.jsx("span",{children:"Full marketplace access"})]}),i.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm",children:[i.jsx(oo,{className:"w-4 h-4 text-yellow-500"}),i.jsx("span",{children:"Advanced analytics"})]})]})]}),e&&i.jsxs("div",{className:"text-xs text-muted-foreground bg-gray-50 dark:bg-gray-800 p-3 rounded",children:["Session ID: ",e]}),i.jsxs($,{onClick:()=>t("/"),className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white",children:["Go to Dashboard",i.jsx(jy,{className:"w-4 h-4 ml-2"})]})]})]})})}function Nte(){const[,t]=Ns();return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-red-50 to-orange-50 dark:from-gray-900/20 dark:via-red-900/20 dark:to-orange-900/20 flex items-center justify-center p-4",children:i.jsxs(re,{className:"max-w-md w-full text-center",children:[i.jsxs(be,{className:"space-y-4",children:[i.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center",children:i.jsx(_o,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),i.jsx(we,{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Subscription Cancelled"})]}),i.jsxs(ie,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-muted-foreground",children:"Your subscription upgrade was cancelled. No charges have been made to your account."}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"You can still upgrade to the Super Hero plan anytime to unlock unlimited card tracking and advanced features."})]}),i.jsxs($,{onClick:()=>t("/"),variant:"outline",className:"w-full",children:[i.jsx(tu,{className:"w-4 h-4 mr-2"}),"Return to Dashboard"]})]})]})})}function Ste(){return i.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:i.jsx(re,{className:"w-full max-w-md mx-4",children:i.jsxs(ie,{className:"pt-6",children:[i.jsxs("div",{className:"flex mb-4 gap-2",children:[i.jsx(Jn,{className:"h-8 w-8 text-red-500"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),i.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function _te(){const[,t]=Ns();return i.jsxs("div",{className:"bg-white shadow-sm border-b border-gray-200 px-6 py-2 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"w-8 h-8 bg-marvel-red rounded-lg flex items-center justify-center",children:i.jsx("img",{src:_p,alt:"Marvel Card Vault",className:"w-5 h-5 object-contain"})}),i.jsx("h1",{className:"text-gray-900 font-bebas text-xl tracking-wide font-bold",children:"MARVEL CARD VAULT"})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(yM,{}),i.jsx("button",{className:"text-gray-600 hover:text-gray-900 p-2",onClick:()=>t("/social?tab=messages"),title:"Messages",children:i.jsx(Nr,{className:"w-5 h-5"})}),i.jsx("button",{className:"text-gray-600 hover:text-gray-900 p-2",onClick:()=>t("/card-search"),children:i.jsx(ss,{className:"w-5 h-5"})})]})]})}function Cte(){const{isMobileMenuOpen:t,setMobileMenuOpen:e}=Ys();return t?i.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",children:[i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>e(!1)}),i.jsx("div",{className:"fixed inset-y-0 left-0 w-80 bg-white shadow-lg",children:i.jsx("div",{onClick:()=>e(!1),children:i.jsx(sM,{})})})]}):null}function kte({children:t}){return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("div",{className:"hidden lg:block fixed inset-y-0 left-0 z-40",children:i.jsx(sM,{})}),i.jsx("div",{className:"lg:hidden fixed top-0 left-0 right-0 z-50",children:i.jsx(mW,{})}),i.jsx("div",{className:"hidden lg:block lg:ml-80",children:i.jsx(_te,{})}),i.jsx(Cte,{}),i.jsx("div",{className:"lg:ml-80 pt-16 lg:pt-0",children:t})]})}function Ite(){return i.jsxs(W3,{children:[i.jsx(gt,{path:"/",component:Vq}),i.jsx(gt,{path:"/browse",component:Bg}),i.jsx(gt,{path:"/browse/:mainSetSlug",component:Bg}),i.jsx(gt,{path:"/browse/:mainSetSlug/:setSlug",component:Bg}),i.jsx(gt,{path:"/card-search",component:AZ}),i.jsx(gt,{path:"/my-collection",component:Hq}),i.jsx(gt,{path:"/wishlist",component:Wq}),i.jsx(gt,{path:"/marketplace",component:qq}),i.jsx(gt,{path:"/trends",component:Lee}),i.jsx(gt,{path:"/upcoming-sets",component:bte}),i.jsx(gt,{path:"/api-demo",component:wte}),i.jsx(gt,{path:"/profile",component:aK}),i.jsx(gt,{path:"/social",component:oK}),i.jsx(gt,{path:"/friend-profile/:friendId",component:lK}),i.jsx(gt,{path:"/admin",component:aZ}),i.jsx(gt,{path:"/admin/automation",component:vZ}),i.jsx(gt,{path:"/admin/cards",component:cK}),i.jsx(gt,{path:"/admin/users",component:mK}),i.jsx(gt,{path:"/admin/main-sets",component:rZ}),i.jsx(gt,{path:"/admin/unassigned-sets",component:iZ}),i.jsx(gt,{path:"/admin/upcoming-sets",component:bZ}),i.jsx(gt,{path:"/admin/image-approvals",component:SZ}),i.jsx(gt,{path:"/subscription-success",component:jte}),i.jsx(gt,{path:"/subscription-cancelled",component:Nte}),i.jsx(gt,{component:Ste})]})}function Ete(){const{user:t,loading:e}=cr();return e?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-red-600 border-t-transparent rounded-full"})}):t?i.jsxs(i.Fragment,{children:[i.jsx(BW,{}),i.jsx(kte,{children:i.jsx(Ite,{})})]}):i.jsx(pW,{})}function Pte(){return i.jsx(u6,{client:Rs,children:i.jsx(T9,{children:i.jsxs(n7,{children:[i.jsx(aB,{}),i.jsx(Ete,{})]})})})}AE(document.getElementById("root")).render(i.jsx(Pte,{}));
